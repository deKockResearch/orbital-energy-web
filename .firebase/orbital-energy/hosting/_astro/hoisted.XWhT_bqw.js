/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Zn(l){return l+.5|0}const Ir=(l,r,i)=>Math.max(Math.min(l,i),r);function An(l){return Ir(Zn(l*2.55),0,255)}function Ur(l){return Ir(Zn(l*255),0,255)}function kr(l){return Ir(Zn(l/2.55)/100,0,1)}function Ei(l){return Ir(Zn(l*100),0,100)}const ur={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lo=[..."0123456789ABCDEF"],kc=l=>lo[l&15],Cc=l=>lo[(l&240)>>4]+lo[l&15],os=l=>(l&240)>>4===(l&15),Oc=l=>os(l.r)&&os(l.g)&&os(l.b)&&os(l.a);function Pc(l){var r=l.length,i;return l[0]==="#"&&(r===4||r===5?i={r:255&ur[l[1]]*17,g:255&ur[l[2]]*17,b:255&ur[l[3]]*17,a:r===5?ur[l[4]]*17:255}:(r===7||r===9)&&(i={r:ur[l[1]]<<4|ur[l[2]],g:ur[l[3]]<<4|ur[l[4]],b:ur[l[5]]<<4|ur[l[6]],a:r===9?ur[l[7]]<<4|ur[l[8]]:255})),i}const Lc=(l,r)=>l<255?r(l):"";function Ac(l){var r=Oc(l)?kc:Cc;return l?"#"+r(l.r)+r(l.g)+r(l.b)+Lc(l.a,r):void 0}const Rc=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function el(l,r,i){const t=r*Math.min(i,1-i),d=(a,n=(a+l/30)%12)=>i-t*Math.max(Math.min(n-3,9-n,1),-1);return[d(0),d(8),d(4)]}function Dc(l,r,i){const t=(d,a=(d+l/60)%6)=>i-i*r*Math.max(Math.min(a,4-a,1),0);return[t(5),t(3),t(1)]}function Ic(l,r,i){const t=el(l,1,.5);let d;for(r+i>1&&(d=1/(r+i),r*=d,i*=d),d=0;d<3;d++)t[d]*=1-r-i,t[d]+=r;return t}function Fc(l,r,i,t,d){return l===d?(r-i)/t+(r<i?6:0):r===d?(i-l)/t+2:(l-r)/t+4}function wo(l){const i=l.r/255,t=l.g/255,d=l.b/255,a=Math.max(i,t,d),n=Math.min(i,t,d),o=(a+n)/2;let s,u,b;return a!==n&&(b=a-n,u=o>.5?b/(2-a-n):b/(a+n),s=Fc(i,t,d,b,a),s=s*60+.5),[s|0,u||0,o]}function jo(l,r,i,t){return(Array.isArray(r)?l(r[0],r[1],r[2]):l(r,i,t)).map(Ur)}function So(l,r,i){return jo(el,l,r,i)}function Nc(l,r,i){return jo(Ic,l,r,i)}function Bc(l,r,i){return jo(Dc,l,r,i)}function tl(l){return(l%360+360)%360}function Uc(l){const r=Rc.exec(l);let i=255,t;if(!r)return;r[5]!==t&&(i=r[6]?An(+r[5]):Ur(+r[5]));const d=tl(+r[2]),a=+r[3]/100,n=+r[4]/100;return r[1]==="hwb"?t=Nc(d,a,n):r[1]==="hsv"?t=Bc(d,a,n):t=So(d,a,n),{r:t[0],g:t[1],b:t[2],a:i}}function Gc(l,r){var i=wo(l);i[0]=tl(i[0]+r),i=So(i),l.r=i[0],l.g=i[1],l.b=i[2]}function Vc(l){if(!l)return;const r=wo(l),i=r[0],t=Ei(r[1]),d=Ei(r[2]);return l.a<255?`hsla(${i}, ${t}%, ${d}%, ${kr(l.a)})`:`hsl(${i}, ${t}%, ${d}%)`}const ki={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ci={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zc(){const l={},r=Object.keys(Ci),i=Object.keys(ki);let t,d,a,n,o;for(t=0;t<r.length;t++){for(n=o=r[t],d=0;d<i.length;d++)a=i[d],o=o.replace(a,ki[a]);a=parseInt(Ci[n],16),l[o]=[a>>16&255,a>>8&255,a&255]}return l}let is;function Hc(l){is||(is=zc(),is.transparent=[0,0,0,0]);const r=is[l.toLowerCase()];return r&&{r:r[0],g:r[1],b:r[2],a:r.length===4?r[3]:255}}const Wc=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qc(l){const r=Wc.exec(l);let i=255,t,d,a;if(r){if(r[7]!==t){const n=+r[7];i=r[8]?An(n):Ir(n*255,0,255)}return t=+r[1],d=+r[3],a=+r[5],t=255&(r[2]?An(t):Ir(t,0,255)),d=255&(r[4]?An(d):Ir(d,0,255)),a=255&(r[6]?An(a):Ir(a,0,255)),{r:t,g:d,b:a,a:i}}}function Xc(l){return l&&(l.a<255?`rgba(${l.r}, ${l.g}, ${l.b}, ${kr(l.a)})`:`rgb(${l.r}, ${l.g}, ${l.b})`)}const Ys=l=>l<=.0031308?l*12.92:Math.pow(l,1/2.4)*1.055-.055,ln=l=>l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4);function Yc(l,r,i){const t=ln(kr(l.r)),d=ln(kr(l.g)),a=ln(kr(l.b));return{r:Ur(Ys(t+i*(ln(kr(r.r))-t))),g:Ur(Ys(d+i*(ln(kr(r.g))-d))),b:Ur(Ys(a+i*(ln(kr(r.b))-a))),a:l.a+i*(r.a-l.a)}}function as(l,r,i){if(l){let t=wo(l);t[r]=Math.max(0,Math.min(t[r]+t[r]*i,r===0?360:1)),t=So(t),l.r=t[0],l.g=t[1],l.b=t[2]}}function rl(l,r){return l&&Object.assign(r||{},l)}function Oi(l){var r={r:0,g:0,b:0,a:255};return Array.isArray(l)?l.length>=3&&(r={r:l[0],g:l[1],b:l[2],a:255},l.length>3&&(r.a=Ur(l[3]))):(r=rl(l,{r:0,g:0,b:0,a:1}),r.a=Ur(r.a)),r}function Zc(l){return l.charAt(0)==="r"?qc(l):Uc(l)}class Gn{constructor(r){if(r instanceof Gn)return r;const i=typeof r;let t;i==="object"?t=Oi(r):i==="string"&&(t=Pc(r)||Hc(r)||Zc(r)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var r=rl(this._rgb);return r&&(r.a=kr(r.a)),r}set rgb(r){this._rgb=Oi(r)}rgbString(){return this._valid?Xc(this._rgb):void 0}hexString(){return this._valid?Ac(this._rgb):void 0}hslString(){return this._valid?Vc(this._rgb):void 0}mix(r,i){if(r){const t=this.rgb,d=r.rgb;let a;const n=i===a?.5:i,o=2*n-1,s=t.a-d.a,u=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;a=1-u,t.r=255&u*t.r+a*d.r+.5,t.g=255&u*t.g+a*d.g+.5,t.b=255&u*t.b+a*d.b+.5,t.a=n*t.a+(1-n)*d.a,this.rgb=t}return this}interpolate(r,i){return r&&(this._rgb=Yc(this._rgb,r._rgb,i)),this}clone(){return new Gn(this.rgb)}alpha(r){return this._rgb.a=Ur(r),this}clearer(r){const i=this._rgb;return i.a*=1-r,this}greyscale(){const r=this._rgb,i=Zn(r.r*.3+r.g*.59+r.b*.11);return r.r=r.g=r.b=i,this}opaquer(r){const i=this._rgb;return i.a*=1+r,this}negate(){const r=this._rgb;return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,this}lighten(r){return as(this._rgb,2,r),this}darken(r){return as(this._rgb,2,-r),this}saturate(r){return as(this._rgb,1,r),this}desaturate(r){return as(this._rgb,1,-r),this}rotate(r){return Gc(this._rgb,r),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Mr(){}const $c=(()=>{let l=0;return()=>l++})();function pt(l){return l===null||typeof l>"u"}function Et(l){if(Array.isArray&&Array.isArray(l))return!0;const r=Object.prototype.toString.call(l);return r.slice(0,7)==="[object"&&r.slice(-6)==="Array]"}function ut(l){return l!==null&&Object.prototype.toString.call(l)==="[object Object]"}function Rt(l){return(typeof l=="number"||l instanceof Number)&&isFinite(+l)}function lr(l,r){return Rt(l)?l:r}function at(l,r){return typeof l>"u"?r:l}const Kc=(l,r)=>typeof l=="string"&&l.endsWith("%")?parseFloat(l)/100:+l/r,nl=(l,r)=>typeof l=="string"&&l.endsWith("%")?parseFloat(l)/100*r:+l;function jt(l,r,i){if(l&&typeof l.call=="function")return l.apply(i,r)}function gt(l,r,i,t){let d,a,n;if(Et(l))if(a=l.length,t)for(d=a-1;d>=0;d--)r.call(i,l[d],d);else for(d=0;d<a;d++)r.call(i,l[d],d);else if(ut(l))for(n=Object.keys(l),a=n.length,d=0;d<a;d++)r.call(i,l[n[d]],n[d])}function Ts(l,r){let i,t,d,a;if(!l||!r||l.length!==r.length)return!1;for(i=0,t=l.length;i<t;++i)if(d=l[i],a=r[i],d.datasetIndex!==a.datasetIndex||d.index!==a.index)return!1;return!0}function Es(l){if(Et(l))return l.map(Es);if(ut(l)){const r=Object.create(null),i=Object.keys(l),t=i.length;let d=0;for(;d<t;++d)r[i[d]]=Es(l[i[d]]);return r}return l}function sl(l){return["__proto__","prototype","constructor"].indexOf(l)===-1}function Qc(l,r,i,t){if(!sl(l))return;const d=r[l],a=i[l];ut(d)&&ut(a)?Vn(d,a,t):r[l]=Es(a)}function Vn(l,r,i){const t=Et(r)?r:[r],d=t.length;if(!ut(l))return l;i=i||{};const a=i.merger||Qc;let n;for(let o=0;o<d;++o){if(n=t[o],!ut(n))continue;const s=Object.keys(n);for(let u=0,b=s.length;u<b;++u)a(s[u],l,n,i)}return l}function Fn(l,r){return Vn(l,r,{merger:Jc})}function Jc(l,r,i){if(!sl(l))return;const t=r[l],d=i[l];ut(t)&&ut(d)?Fn(t,d):Object.prototype.hasOwnProperty.call(r,l)||(r[l]=Es(d))}const Pi={"":l=>l,x:l=>l.x,y:l=>l.y};function eu(l){const r=l.split("."),i=[];let t="";for(const d of r)t+=d,t.endsWith("\\")?t=t.slice(0,-1)+".":(i.push(t),t="");return i}function tu(l){const r=eu(l);return i=>{for(const t of r){if(t==="")break;i=i&&i[t]}return i}}function Gr(l,r){return(Pi[r]||(Pi[r]=tu(r)))(l)}function Mo(l){return l.charAt(0).toUpperCase()+l.slice(1)}const zn=l=>typeof l<"u",Vr=l=>typeof l=="function",Li=(l,r)=>{if(l.size!==r.size)return!1;for(const i of l)if(!r.has(i))return!1;return!0};function ru(l){return l.type==="mouseup"||l.type==="click"||l.type==="contextmenu"}const Ct=Math.PI,kt=2*Ct,nu=kt+Ct,ks=Number.POSITIVE_INFINITY,su=Ct/180,Ft=Ct/2,Wr=Ct/4,Ai=Ct*2/3,Fr=Math.log10,wr=Math.sign;function Nn(l,r,i){return Math.abs(l-r)<i}function Ri(l){const r=Math.round(l);l=Nn(l,r,l/1e3)?r:l;const i=Math.pow(10,Math.floor(Fr(l))),t=l/i;return(t<=1?1:t<=2?2:t<=5?5:10)*i}function ou(l){const r=[],i=Math.sqrt(l);let t;for(t=1;t<i;t++)l%t===0&&(r.push(t),r.push(l/t));return i===(i|0)&&r.push(i),r.sort((d,a)=>d-a).pop(),r}function pn(l){return!isNaN(parseFloat(l))&&isFinite(l)}function iu(l,r){const i=Math.round(l);return i-r<=l&&i+r>=l}function ol(l,r,i){let t,d,a;for(t=0,d=l.length;t<d;t++)a=l[t][i],isNaN(a)||(r.min=Math.min(r.min,a),r.max=Math.max(r.max,a))}function pr(l){return l*(Ct/180)}function To(l){return l*(180/Ct)}function Di(l){if(!Rt(l))return;let r=1,i=0;for(;Math.round(l*r)/r!==l;)r*=10,i++;return i}function il(l,r){const i=r.x-l.x,t=r.y-l.y,d=Math.sqrt(i*i+t*t);let a=Math.atan2(t,i);return a<-.5*Ct&&(a+=kt),{angle:a,distance:d}}function co(l,r){return Math.sqrt(Math.pow(r.x-l.x,2)+Math.pow(r.y-l.y,2))}function au(l,r){return(l-r+nu)%kt-Ct}function cr(l){return(l%kt+kt)%kt}function Hn(l,r,i,t){const d=cr(l),a=cr(r),n=cr(i),o=cr(a-d),s=cr(n-d),u=cr(d-a),b=cr(d-n);return d===a||d===n||t&&a===n||o>s&&u<b}function Xt(l,r,i){return Math.max(r,Math.min(i,l))}function lu(l){return Xt(l,-32768,32767)}function Cr(l,r,i,t=1e-6){return l>=Math.min(r,i)-t&&l<=Math.max(r,i)+t}function Eo(l,r,i){i=i||(n=>l[n]<r);let t=l.length-1,d=0,a;for(;t-d>1;)a=d+t>>1,i(a)?d=a:t=a;return{lo:d,hi:t}}const Or=(l,r,i,t)=>Eo(l,i,t?d=>{const a=l[d][r];return a<i||a===i&&l[d+1][r]===i}:d=>l[d][r]<i),cu=(l,r,i)=>Eo(l,i,t=>l[t][r]>=i);function uu(l,r,i){let t=0,d=l.length;for(;t<d&&l[t]<r;)t++;for(;d>t&&l[d-1]>i;)d--;return t>0||d<l.length?l.slice(t,d):l}const al=["push","pop","shift","splice","unshift"];function du(l,r){if(l._chartjs){l._chartjs.listeners.push(r);return}Object.defineProperty(l,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),al.forEach(i=>{const t="_onData"+Mo(i),d=l[i];Object.defineProperty(l,i,{configurable:!0,enumerable:!1,value(...a){const n=d.apply(this,a);return l._chartjs.listeners.forEach(o=>{typeof o[t]=="function"&&o[t](...a)}),n}})})}function Ii(l,r){const i=l._chartjs;if(!i)return;const t=i.listeners,d=t.indexOf(r);d!==-1&&t.splice(d,1),!(t.length>0)&&(al.forEach(a=>{delete l[a]}),delete l._chartjs)}function ll(l){const r=new Set(l);return r.size===l.length?l:Array.from(r)}const cl=function(){return typeof window>"u"?function(l){return l()}:window.requestAnimationFrame}();function ul(l,r){let i=[],t=!1;return function(...d){i=d,t||(t=!0,cl.call(window,()=>{t=!1,l.apply(r,i)}))}}function hu(l,r){let i;return function(...t){return r?(clearTimeout(i),i=setTimeout(l,r,t)):l.apply(this,t),r}}const ko=l=>l==="start"?"left":l==="end"?"right":"center",tr=(l,r,i)=>l==="start"?r:l==="end"?i:(r+i)/2,fu=(l,r,i,t)=>l===(t?"left":"right")?i:l==="center"?(r+i)/2:r;function dl(l,r,i){const t=r.length;let d=0,a=t;if(l._sorted){const{iScale:n,_parsed:o}=l,s=n.axis,{min:u,max:b,minDefined:y,maxDefined:c}=n.getUserBounds();y&&(d=Xt(Math.min(Or(o,s,u).lo,i?t:Or(r,s,n.getPixelForValue(u)).lo),0,t-1)),c?a=Xt(Math.max(Or(o,n.axis,b,!0).hi+1,i?0:Or(r,s,n.getPixelForValue(b),!0).hi+1),d,t)-d:a=t-d}return{start:d,count:a}}function hl(l){const{xScale:r,yScale:i,_scaleRanges:t}=l,d={xmin:r.min,xmax:r.max,ymin:i.min,ymax:i.max};if(!t)return l._scaleRanges=d,!0;const a=t.xmin!==r.min||t.xmax!==r.max||t.ymin!==i.min||t.ymax!==i.max;return Object.assign(t,d),a}const ls=l=>l===0||l===1,Fi=(l,r,i)=>-(Math.pow(2,10*(l-=1))*Math.sin((l-r)*kt/i)),Ni=(l,r,i)=>Math.pow(2,-10*l)*Math.sin((l-r)*kt/i)+1,Bn={linear:l=>l,easeInQuad:l=>l*l,easeOutQuad:l=>-l*(l-2),easeInOutQuad:l=>(l/=.5)<1?.5*l*l:-.5*(--l*(l-2)-1),easeInCubic:l=>l*l*l,easeOutCubic:l=>(l-=1)*l*l+1,easeInOutCubic:l=>(l/=.5)<1?.5*l*l*l:.5*((l-=2)*l*l+2),easeInQuart:l=>l*l*l*l,easeOutQuart:l=>-((l-=1)*l*l*l-1),easeInOutQuart:l=>(l/=.5)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2),easeInQuint:l=>l*l*l*l*l,easeOutQuint:l=>(l-=1)*l*l*l*l+1,easeInOutQuint:l=>(l/=.5)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2),easeInSine:l=>-Math.cos(l*Ft)+1,easeOutSine:l=>Math.sin(l*Ft),easeInOutSine:l=>-.5*(Math.cos(Ct*l)-1),easeInExpo:l=>l===0?0:Math.pow(2,10*(l-1)),easeOutExpo:l=>l===1?1:-Math.pow(2,-10*l)+1,easeInOutExpo:l=>ls(l)?l:l<.5?.5*Math.pow(2,10*(l*2-1)):.5*(-Math.pow(2,-10*(l*2-1))+2),easeInCirc:l=>l>=1?l:-(Math.sqrt(1-l*l)-1),easeOutCirc:l=>Math.sqrt(1-(l-=1)*l),easeInOutCirc:l=>(l/=.5)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1),easeInElastic:l=>ls(l)?l:Fi(l,.075,.3),easeOutElastic:l=>ls(l)?l:Ni(l,.075,.3),easeInOutElastic(l){return ls(l)?l:l<.5?.5*Fi(l*2,.1125,.45):.5+.5*Ni(l*2-1,.1125,.45)},easeInBack(l){return l*l*((1.70158+1)*l-1.70158)},easeOutBack(l){return(l-=1)*l*((1.70158+1)*l+1.70158)+1},easeInOutBack(l){let r=1.70158;return(l/=.5)<1?.5*(l*l*(((r*=1.525)+1)*l-r)):.5*((l-=2)*l*(((r*=1.525)+1)*l+r)+2)},easeInBounce:l=>1-Bn.easeOutBounce(1-l),easeOutBounce(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375},easeInOutBounce:l=>l<.5?Bn.easeInBounce(l*2)*.5:Bn.easeOutBounce(l*2-1)*.5+.5};function Co(l){if(l&&typeof l=="object"){const r=l.toString();return r==="[object CanvasPattern]"||r==="[object CanvasGradient]"}return!1}function Bi(l){return Co(l)?l:new Gn(l)}function Zs(l){return Co(l)?l:new Gn(l).saturate(.5).darken(.1).hexString()}const pu=["x","y","borderWidth","radius","tension"],mu=["color","borderColor","backgroundColor"];function yu(l){l.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),l.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>r!=="onProgress"&&r!=="onComplete"&&r!=="fn"}),l.set("animations",{colors:{type:"color",properties:mu},numbers:{type:"number",properties:pu}}),l.describe("animations",{_fallback:"animation"}),l.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>r|0}}}})}function gu(l){l.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ui=new Map;function bu(l,r){r=r||{};const i=l+JSON.stringify(r);let t=Ui.get(i);return t||(t=new Intl.NumberFormat(l,r),Ui.set(i,t)),t}function $n(l,r,i){return bu(r,i).format(l)}const fl={values(l){return Et(l)?l:""+l},numeric(l,r,i){if(l===0)return"0";const t=this.chart.options.locale;let d,a=l;if(i.length>1){const u=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(u<1e-4||u>1e15)&&(d="scientific"),a=vu(l,i)}const n=Fr(Math.abs(a)),o=isNaN(n)?1:Math.max(Math.min(-1*Math.floor(n),20),0),s={notation:d,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(s,this.options.ticks.format),$n(l,t,s)},logarithmic(l,r,i){if(l===0)return"0";const t=i[r].significand||l/Math.pow(10,Math.floor(Fr(l)));return[1,2,3,5,10,15].includes(t)||r>.8*i.length?fl.numeric.call(this,l,r,i):""}};function vu(l,r){let i=r.length>3?r[2].value-r[1].value:r[1].value-r[0].value;return Math.abs(i)>=1&&l!==Math.floor(l)&&(i=l-Math.floor(l)),i}var Ds={formatters:fl};function _u(l){l.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,i)=>i.lineWidth,tickColor:(r,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ds.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),l.route("scale.ticks","color","","color"),l.route("scale.grid","color","","borderColor"),l.route("scale.border","color","","borderColor"),l.route("scale.title","color","","color"),l.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&r!=="callback"&&r!=="parser",_indexable:r=>r!=="borderDash"&&r!=="tickBorderDash"&&r!=="dash"}),l.describe("scales",{_fallback:"scale"}),l.describe("scale.ticks",{_scriptable:r=>r!=="backdropPadding"&&r!=="callback",_indexable:r=>r!=="backdropPadding"})}const en=Object.create(null),uo=Object.create(null);function Un(l,r){if(!r)return l;const i=r.split(".");for(let t=0,d=i.length;t<d;++t){const a=i[t];l=l[a]||(l[a]=Object.create(null))}return l}function $s(l,r,i){return typeof r=="string"?Vn(Un(l,r),i):Vn(Un(l,""),r)}class xu{constructor(r,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,d)=>Zs(d.backgroundColor),this.hoverBorderColor=(t,d)=>Zs(d.borderColor),this.hoverColor=(t,d)=>Zs(d.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(r),this.apply(i)}set(r,i){return $s(this,r,i)}get(r){return Un(this,r)}describe(r,i){return $s(uo,r,i)}override(r,i){return $s(en,r,i)}route(r,i,t,d){const a=Un(this,r),n=Un(this,t),o="_"+i;Object.defineProperties(a,{[o]:{value:a[i],writable:!0},[i]:{enumerable:!0,get(){const s=this[o],u=n[d];return ut(s)?Object.assign({},u,s):at(s,u)},set(s){this[o]=s}}})}apply(r){r.forEach(i=>i(this))}}var Dt=new xu({_scriptable:l=>!l.startsWith("on"),_indexable:l=>l!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yu,gu,_u]);function wu(l){return!l||pt(l.size)||pt(l.family)?null:(l.style?l.style+" ":"")+(l.weight?l.weight+" ":"")+l.size+"px "+l.family}function Cs(l,r,i,t,d){let a=r[d];return a||(a=r[d]=l.measureText(d).width,i.push(d)),a>t&&(t=a),t}function ju(l,r,i,t){t=t||{};let d=t.data=t.data||{},a=t.garbageCollect=t.garbageCollect||[];t.font!==r&&(d=t.data={},a=t.garbageCollect=[],t.font=r),l.save(),l.font=r;let n=0;const o=i.length;let s,u,b,y,c;for(s=0;s<o;s++)if(y=i[s],y!=null&&!Et(y))n=Cs(l,d,a,n,y);else if(Et(y))for(u=0,b=y.length;u<b;u++)c=y[u],c!=null&&!Et(c)&&(n=Cs(l,d,a,n,c));l.restore();const h=a.length/2;if(h>i.length){for(s=0;s<h;s++)delete d[a[s]];a.splice(0,h)}return n}function qr(l,r,i){const t=l.currentDevicePixelRatio,d=i!==0?Math.max(i/2,.5):0;return Math.round((r-d)*t)/t+d}function Gi(l,r){r=r||l.getContext("2d"),r.save(),r.resetTransform(),r.clearRect(0,0,l.width,l.height),r.restore()}function ho(l,r,i,t){pl(l,r,i,t,null)}function pl(l,r,i,t,d){let a,n,o,s,u,b,y,c;const h=r.pointStyle,f=r.rotation,p=r.radius;let m=(f||0)*su;if(h&&typeof h=="object"&&(a=h.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){l.save(),l.translate(i,t),l.rotate(m),l.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),l.restore();return}if(!(isNaN(p)||p<=0)){switch(l.beginPath(),h){default:d?l.ellipse(i,t,d/2,p,0,0,kt):l.arc(i,t,p,0,kt),l.closePath();break;case"triangle":b=d?d/2:p,l.moveTo(i+Math.sin(m)*b,t-Math.cos(m)*p),m+=Ai,l.lineTo(i+Math.sin(m)*b,t-Math.cos(m)*p),m+=Ai,l.lineTo(i+Math.sin(m)*b,t-Math.cos(m)*p),l.closePath();break;case"rectRounded":u=p*.516,s=p-u,n=Math.cos(m+Wr)*s,y=Math.cos(m+Wr)*(d?d/2-u:s),o=Math.sin(m+Wr)*s,c=Math.sin(m+Wr)*(d?d/2-u:s),l.arc(i-y,t-o,u,m-Ct,m-Ft),l.arc(i+c,t-n,u,m-Ft,m),l.arc(i+y,t+o,u,m,m+Ft),l.arc(i-c,t+n,u,m+Ft,m+Ct),l.closePath();break;case"rect":if(!f){s=Math.SQRT1_2*p,b=d?d/2:s,l.rect(i-b,t-s,2*b,2*s);break}m+=Wr;case"rectRot":y=Math.cos(m)*(d?d/2:p),n=Math.cos(m)*p,o=Math.sin(m)*p,c=Math.sin(m)*(d?d/2:p),l.moveTo(i-y,t-o),l.lineTo(i+c,t-n),l.lineTo(i+y,t+o),l.lineTo(i-c,t+n),l.closePath();break;case"crossRot":m+=Wr;case"cross":y=Math.cos(m)*(d?d/2:p),n=Math.cos(m)*p,o=Math.sin(m)*p,c=Math.sin(m)*(d?d/2:p),l.moveTo(i-y,t-o),l.lineTo(i+y,t+o),l.moveTo(i+c,t-n),l.lineTo(i-c,t+n);break;case"star":y=Math.cos(m)*(d?d/2:p),n=Math.cos(m)*p,o=Math.sin(m)*p,c=Math.sin(m)*(d?d/2:p),l.moveTo(i-y,t-o),l.lineTo(i+y,t+o),l.moveTo(i+c,t-n),l.lineTo(i-c,t+n),m+=Wr,y=Math.cos(m)*(d?d/2:p),n=Math.cos(m)*p,o=Math.sin(m)*p,c=Math.sin(m)*(d?d/2:p),l.moveTo(i-y,t-o),l.lineTo(i+y,t+o),l.moveTo(i+c,t-n),l.lineTo(i-c,t+n);break;case"line":n=d?d/2:Math.cos(m)*p,o=Math.sin(m)*p,l.moveTo(i-n,t-o),l.lineTo(i+n,t+o);break;case"dash":l.moveTo(i,t),l.lineTo(i+Math.cos(m)*(d?d/2:p),t+Math.sin(m)*p);break;case!1:l.closePath();break}l.fill(),r.borderWidth>0&&l.stroke()}}function Pr(l,r,i){return i=i||.5,!r||l&&l.x>r.left-i&&l.x<r.right+i&&l.y>r.top-i&&l.y<r.bottom+i}function Is(l,r){l.save(),l.beginPath(),l.rect(r.left,r.top,r.right-r.left,r.bottom-r.top),l.clip()}function Fs(l){l.restore()}function Su(l,r,i,t,d){if(!r)return l.lineTo(i.x,i.y);if(d==="middle"){const a=(r.x+i.x)/2;l.lineTo(a,r.y),l.lineTo(a,i.y)}else d==="after"!=!!t?l.lineTo(r.x,i.y):l.lineTo(i.x,r.y);l.lineTo(i.x,i.y)}function Mu(l,r,i,t){if(!r)return l.lineTo(i.x,i.y);l.bezierCurveTo(t?r.cp1x:r.cp2x,t?r.cp1y:r.cp2y,t?i.cp2x:i.cp1x,t?i.cp2y:i.cp1y,i.x,i.y)}function Tu(l,r){r.translation&&l.translate(r.translation[0],r.translation[1]),pt(r.rotation)||l.rotate(r.rotation),r.color&&(l.fillStyle=r.color),r.textAlign&&(l.textAlign=r.textAlign),r.textBaseline&&(l.textBaseline=r.textBaseline)}function Eu(l,r,i,t,d){if(d.strikethrough||d.underline){const a=l.measureText(t),n=r-a.actualBoundingBoxLeft,o=r+a.actualBoundingBoxRight,s=i-a.actualBoundingBoxAscent,u=i+a.actualBoundingBoxDescent,b=d.strikethrough?(s+u)/2:u;l.strokeStyle=l.fillStyle,l.beginPath(),l.lineWidth=d.decorationWidth||2,l.moveTo(n,b),l.lineTo(o,b),l.stroke()}}function ku(l,r){const i=l.fillStyle;l.fillStyle=r.color,l.fillRect(r.left,r.top,r.width,r.height),l.fillStyle=i}function tn(l,r,i,t,d,a={}){const n=Et(r)?r:[r],o=a.strokeWidth>0&&a.strokeColor!=="";let s,u;for(l.save(),l.font=d.string,Tu(l,a),s=0;s<n.length;++s)u=n[s],a.backdrop&&ku(l,a.backdrop),o&&(a.strokeColor&&(l.strokeStyle=a.strokeColor),pt(a.strokeWidth)||(l.lineWidth=a.strokeWidth),l.strokeText(u,i,t,a.maxWidth)),l.fillText(u,i,t,a.maxWidth),Eu(l,i,t,u,a),t+=Number(d.lineHeight);l.restore()}function Wn(l,r){const{x:i,y:t,w:d,h:a,radius:n}=r;l.arc(i+n.topLeft,t+n.topLeft,n.topLeft,1.5*Ct,Ct,!0),l.lineTo(i,t+a-n.bottomLeft),l.arc(i+n.bottomLeft,t+a-n.bottomLeft,n.bottomLeft,Ct,Ft,!0),l.lineTo(i+d-n.bottomRight,t+a),l.arc(i+d-n.bottomRight,t+a-n.bottomRight,n.bottomRight,Ft,0,!0),l.lineTo(i+d,t+n.topRight),l.arc(i+d-n.topRight,t+n.topRight,n.topRight,0,-Ft,!0),l.lineTo(i+n.topLeft,t)}const Cu=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ou=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Pu(l,r){const i=(""+l).match(Cu);if(!i||i[1]==="normal")return r*1.2;switch(l=+i[2],i[3]){case"px":return l;case"%":l/=100;break}return r*l}const Lu=l=>+l||0;function Oo(l,r){const i={},t=ut(r),d=t?Object.keys(r):r,a=ut(l)?t?n=>at(l[n],l[r[n]]):n=>l[n]:()=>l;for(const n of d)i[n]=Lu(a(n));return i}function ml(l){return Oo(l,{top:"y",right:"x",bottom:"y",left:"x"})}function Qr(l){return Oo(l,["topLeft","topRight","bottomLeft","bottomRight"])}function nr(l){const r=ml(l);return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Vt(l,r){l=l||{},r=r||Dt.font;let i=at(l.size,r.size);typeof i=="string"&&(i=parseInt(i,10));let t=at(l.style,r.style);t&&!(""+t).match(Ou)&&(console.warn('Invalid font style specified: "'+t+'"'),t=void 0);const d={family:at(l.family,r.family),lineHeight:Pu(at(l.lineHeight,r.lineHeight),i),size:i,style:t,weight:at(l.weight,r.weight),string:""};return d.string=wu(d),d}function Rn(l,r,i,t){let d=!0,a,n,o;for(a=0,n=l.length;a<n;++a)if(o=l[a],o!==void 0&&(r!==void 0&&typeof o=="function"&&(o=o(r),d=!1),i!==void 0&&Et(o)&&(o=o[i%o.length],d=!1),o!==void 0))return t&&!d&&(t.cacheable=!1),o}function Au(l,r,i){const{min:t,max:d}=l,a=nl(r,(d-t)/2),n=(o,s)=>i&&o===0?0:o+s;return{min:n(t,-Math.abs(a)),max:n(d,a)}}function zr(l,r){return Object.assign(Object.create(l),r)}function Po(l,r=[""],i,t,d=()=>l[0]){const a=i||l;typeof t>"u"&&(t=vl("_fallback",l));const n={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:l,_rootScopes:a,_fallback:t,_getTarget:d,override:o=>Po([o,...l],r,a,t)};return new Proxy(n,{deleteProperty(o,s){return delete o[s],delete o._keys,delete l[0][s],!0},get(o,s){return gl(o,s,()=>Gu(s,r,l,o))},getOwnPropertyDescriptor(o,s){return Reflect.getOwnPropertyDescriptor(o._scopes[0],s)},getPrototypeOf(){return Reflect.getPrototypeOf(l[0])},has(o,s){return zi(o).includes(s)},ownKeys(o){return zi(o)},set(o,s,u){const b=o._storage||(o._storage=d());return o[s]=b[s]=u,delete o._keys,!0}})}function mn(l,r,i,t){const d={_cacheable:!1,_proxy:l,_context:r,_subProxy:i,_stack:new Set,_descriptors:yl(l,t),setContext:a=>mn(l,a,i,t),override:a=>mn(l.override(a),r,i,t)};return new Proxy(d,{deleteProperty(a,n){return delete a[n],delete l[n],!0},get(a,n,o){return gl(a,n,()=>Du(a,n,o))},getOwnPropertyDescriptor(a,n){return a._descriptors.allKeys?Reflect.has(l,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(l,n)},getPrototypeOf(){return Reflect.getPrototypeOf(l)},has(a,n){return Reflect.has(l,n)},ownKeys(){return Reflect.ownKeys(l)},set(a,n,o){return l[n]=o,delete a[n],!0}})}function yl(l,r={scriptable:!0,indexable:!0}){const{_scriptable:i=r.scriptable,_indexable:t=r.indexable,_allKeys:d=r.allKeys}=l;return{allKeys:d,scriptable:i,indexable:t,isScriptable:Vr(i)?i:()=>i,isIndexable:Vr(t)?t:()=>t}}const Ru=(l,r)=>l?l+Mo(r):r,Lo=(l,r)=>ut(r)&&l!=="adapters"&&(Object.getPrototypeOf(r)===null||r.constructor===Object);function gl(l,r,i){if(Object.prototype.hasOwnProperty.call(l,r))return l[r];const t=i();return l[r]=t,t}function Du(l,r,i){const{_proxy:t,_context:d,_subProxy:a,_descriptors:n}=l;let o=t[r];return Vr(o)&&n.isScriptable(r)&&(o=Iu(r,o,l,i)),Et(o)&&o.length&&(o=Fu(r,o,l,n.isIndexable)),Lo(r,o)&&(o=mn(o,d,a&&a[r],n)),o}function Iu(l,r,i,t){const{_proxy:d,_context:a,_subProxy:n,_stack:o}=i;if(o.has(l))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+l);o.add(l);let s=r(a,n||t);return o.delete(l),Lo(l,s)&&(s=Ao(d._scopes,d,l,s)),s}function Fu(l,r,i,t){const{_proxy:d,_context:a,_subProxy:n,_descriptors:o}=i;if(typeof a.index<"u"&&t(l))return r[a.index%r.length];if(ut(r[0])){const s=r,u=d._scopes.filter(b=>b!==s);r=[];for(const b of s){const y=Ao(u,d,l,b);r.push(mn(y,a,n&&n[l],o))}}return r}function bl(l,r,i){return Vr(l)?l(r,i):l}const Nu=(l,r)=>l===!0?r:typeof l=="string"?Gr(r,l):void 0;function Bu(l,r,i,t,d){for(const a of r){const n=Nu(i,a);if(n){l.add(n);const o=bl(n._fallback,i,d);if(typeof o<"u"&&o!==i&&o!==t)return o}else if(n===!1&&typeof t<"u"&&i!==t)return null}return!1}function Ao(l,r,i,t){const d=r._rootScopes,a=bl(r._fallback,i,t),n=[...l,...d],o=new Set;o.add(t);let s=Vi(o,n,i,a||i,t);return s===null||typeof a<"u"&&a!==i&&(s=Vi(o,n,a,s,t),s===null)?!1:Po(Array.from(o),[""],d,a,()=>Uu(r,i,t))}function Vi(l,r,i,t,d){for(;i;)i=Bu(l,r,i,t,d);return i}function Uu(l,r,i){const t=l._getTarget();r in t||(t[r]={});const d=t[r];return Et(d)&&ut(i)?i:d||{}}function Gu(l,r,i,t){let d;for(const a of r)if(d=vl(Ru(a,l),i),typeof d<"u")return Lo(l,d)?Ao(i,t,l,d):d}function vl(l,r){for(const i of r){if(!i)continue;const t=i[l];if(typeof t<"u")return t}}function zi(l){let r=l._keys;return r||(r=l._keys=Vu(l._scopes)),r}function Vu(l){const r=new Set;for(const i of l)for(const t of Object.keys(i).filter(d=>!d.startsWith("_")))r.add(t);return Array.from(r)}function _l(l,r,i,t){const{iScale:d}=l,{key:a="r"}=this._parsing,n=new Array(t);let o,s,u,b;for(o=0,s=t;o<s;++o)u=o+i,b=r[u],n[o]={r:d.parse(Gr(b,a),u)};return n}const zu=Number.EPSILON||1e-14,yn=(l,r)=>r<l.length&&!l[r].skip&&l[r],xl=l=>l==="x"?"y":"x";function Hu(l,r,i,t){const d=l.skip?r:l,a=r,n=i.skip?r:i,o=co(a,d),s=co(n,a);let u=o/(o+s),b=s/(o+s);u=isNaN(u)?0:u,b=isNaN(b)?0:b;const y=t*u,c=t*b;return{previous:{x:a.x-y*(n.x-d.x),y:a.y-y*(n.y-d.y)},next:{x:a.x+c*(n.x-d.x),y:a.y+c*(n.y-d.y)}}}function Wu(l,r,i){const t=l.length;let d,a,n,o,s,u=yn(l,0);for(let b=0;b<t-1;++b)if(s=u,u=yn(l,b+1),!(!s||!u)){if(Nn(r[b],0,zu)){i[b]=i[b+1]=0;continue}d=i[b]/r[b],a=i[b+1]/r[b],o=Math.pow(d,2)+Math.pow(a,2),!(o<=9)&&(n=3/Math.sqrt(o),i[b]=d*n*r[b],i[b+1]=a*n*r[b])}}function qu(l,r,i="x"){const t=xl(i),d=l.length;let a,n,o,s=yn(l,0);for(let u=0;u<d;++u){if(n=o,o=s,s=yn(l,u+1),!o)continue;const b=o[i],y=o[t];n&&(a=(b-n[i])/3,o[`cp1${i}`]=b-a,o[`cp1${t}`]=y-a*r[u]),s&&(a=(s[i]-b)/3,o[`cp2${i}`]=b+a,o[`cp2${t}`]=y+a*r[u])}}function Xu(l,r="x"){const i=xl(r),t=l.length,d=Array(t).fill(0),a=Array(t);let n,o,s,u=yn(l,0);for(n=0;n<t;++n)if(o=s,s=u,u=yn(l,n+1),!!s){if(u){const b=u[r]-s[r];d[n]=b!==0?(u[i]-s[i])/b:0}a[n]=o?u?wr(d[n-1])!==wr(d[n])?0:(d[n-1]+d[n])/2:d[n-1]:d[n]}Wu(l,d,a),qu(l,a,r)}function cs(l,r,i){return Math.max(Math.min(l,i),r)}function Yu(l,r){let i,t,d,a,n,o=Pr(l[0],r);for(i=0,t=l.length;i<t;++i)n=a,a=o,o=i<t-1&&Pr(l[i+1],r),a&&(d=l[i],n&&(d.cp1x=cs(d.cp1x,r.left,r.right),d.cp1y=cs(d.cp1y,r.top,r.bottom)),o&&(d.cp2x=cs(d.cp2x,r.left,r.right),d.cp2y=cs(d.cp2y,r.top,r.bottom)))}function Zu(l,r,i,t,d){let a,n,o,s;if(r.spanGaps&&(l=l.filter(u=>!u.skip)),r.cubicInterpolationMode==="monotone")Xu(l,d);else{let u=t?l[l.length-1]:l[0];for(a=0,n=l.length;a<n;++a)o=l[a],s=Hu(u,o,l[Math.min(a+1,n-(t?0:1))%n],r.tension),o.cp1x=s.previous.x,o.cp1y=s.previous.y,o.cp2x=s.next.x,o.cp2y=s.next.y,u=o}r.capBezierPoints&&Yu(l,i)}function Ro(){return typeof window<"u"&&typeof document<"u"}function Do(l){let r=l.parentNode;return r&&r.toString()==="[object ShadowRoot]"&&(r=r.host),r}function Os(l,r,i){let t;return typeof l=="string"?(t=parseInt(l,10),l.indexOf("%")!==-1&&(t=t/100*r.parentNode[i])):t=l,t}const Ns=l=>l.ownerDocument.defaultView.getComputedStyle(l,null);function $u(l,r){return Ns(l).getPropertyValue(r)}const Ku=["top","right","bottom","left"];function Jr(l,r,i){const t={};i=i?"-"+i:"";for(let d=0;d<4;d++){const a=Ku[d];t[a]=parseFloat(l[r+"-"+a+i])||0}return t.width=t.left+t.right,t.height=t.top+t.bottom,t}const Qu=(l,r,i)=>(l>0||r>0)&&(!i||!i.shadowRoot);function Ju(l,r){const i=l.touches,t=i&&i.length?i[0]:l,{offsetX:d,offsetY:a}=t;let n=!1,o,s;if(Qu(d,a,l.target))o=d,s=a;else{const u=r.getBoundingClientRect();o=t.clientX-u.left,s=t.clientY-u.top,n=!0}return{x:o,y:s,box:n}}function Zr(l,r){if("native"in l)return l;const{canvas:i,currentDevicePixelRatio:t}=r,d=Ns(i),a=d.boxSizing==="border-box",n=Jr(d,"padding"),o=Jr(d,"border","width"),{x:s,y:u,box:b}=Ju(l,i),y=n.left+(b&&o.left),c=n.top+(b&&o.top);let{width:h,height:f}=r;return a&&(h-=n.width+o.width,f-=n.height+o.height),{x:Math.round((s-y)/h*i.width/t),y:Math.round((u-c)/f*i.height/t)}}function ed(l,r,i){let t,d;if(r===void 0||i===void 0){const a=Do(l);if(!a)r=l.clientWidth,i=l.clientHeight;else{const n=a.getBoundingClientRect(),o=Ns(a),s=Jr(o,"border","width"),u=Jr(o,"padding");r=n.width-u.width-s.width,i=n.height-u.height-s.height,t=Os(o.maxWidth,a,"clientWidth"),d=Os(o.maxHeight,a,"clientHeight")}}return{width:r,height:i,maxWidth:t||ks,maxHeight:d||ks}}const us=l=>Math.round(l*10)/10;function td(l,r,i,t){const d=Ns(l),a=Jr(d,"margin"),n=Os(d.maxWidth,l,"clientWidth")||ks,o=Os(d.maxHeight,l,"clientHeight")||ks,s=ed(l,r,i);let{width:u,height:b}=s;if(d.boxSizing==="content-box"){const c=Jr(d,"border","width"),h=Jr(d,"padding");u-=h.width+c.width,b-=h.height+c.height}return u=Math.max(0,u-a.width),b=Math.max(0,t?u/t:b-a.height),u=us(Math.min(u,n,s.maxWidth)),b=us(Math.min(b,o,s.maxHeight)),u&&!b&&(b=us(u/2)),(r!==void 0||i!==void 0)&&t&&s.height&&b>s.height&&(b=s.height,u=us(Math.floor(b*t))),{width:u,height:b}}function Hi(l,r,i){const t=r||1,d=Math.floor(l.height*t),a=Math.floor(l.width*t);l.height=Math.floor(l.height),l.width=Math.floor(l.width);const n=l.canvas;return n.style&&(i||!n.style.height&&!n.style.width)&&(n.style.height=`${l.height}px`,n.style.width=`${l.width}px`),l.currentDevicePixelRatio!==t||n.height!==d||n.width!==a?(l.currentDevicePixelRatio=t,n.height=d,n.width=a,l.ctx.setTransform(t,0,0,t,0,0),!0):!1}const rd=function(){let l=!1;try{const r={get passive(){return l=!0,!1}};Ro()&&(window.addEventListener("test",null,r),window.removeEventListener("test",null,r))}catch{}return l}();function Wi(l,r){const i=$u(l,r),t=i&&i.match(/^(\d+)(\.\d+)?px$/);return t?+t[1]:void 0}function $r(l,r,i,t){return{x:l.x+i*(r.x-l.x),y:l.y+i*(r.y-l.y)}}function nd(l,r,i,t){return{x:l.x+i*(r.x-l.x),y:t==="middle"?i<.5?l.y:r.y:t==="after"?i<1?l.y:r.y:i>0?r.y:l.y}}function sd(l,r,i,t){const d={x:l.cp2x,y:l.cp2y},a={x:r.cp1x,y:r.cp1y},n=$r(l,d,i),o=$r(d,a,i),s=$r(a,r,i),u=$r(n,o,i),b=$r(o,s,i);return $r(u,b,i)}const od=function(l,r){return{x(i){return l+l+r-i},setWidth(i){r=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,t){return i-t},leftForLtr(i,t){return i-t}}},id=function(){return{x(l){return l},setWidth(l){},textAlign(l){return l},xPlus(l,r){return l+r},leftForLtr(l,r){return l}}};function fn(l,r,i){return l?od(r,i):id()}function wl(l,r){let i,t;(r==="ltr"||r==="rtl")&&(i=l.canvas.style,t=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",r,"important"),l.prevTextDirection=t)}function jl(l,r){r!==void 0&&(delete l.prevTextDirection,l.canvas.style.setProperty("direction",r[0],r[1]))}function Sl(l){return l==="angle"?{between:Hn,compare:au,normalize:cr}:{between:Cr,compare:(r,i)=>r-i,normalize:r=>r}}function qi({start:l,end:r,count:i,loop:t,style:d}){return{start:l%i,end:r%i,loop:t&&(r-l+1)%i===0,style:d}}function ad(l,r,i){const{property:t,start:d,end:a}=i,{between:n,normalize:o}=Sl(t),s=r.length;let{start:u,end:b,loop:y}=l,c,h;if(y){for(u+=s,b+=s,c=0,h=s;c<h&&n(o(r[u%s][t]),d,a);++c)u--,b--;u%=s,b%=s}return b<u&&(b+=s),{start:u,end:b,loop:y,style:l.style}}function Ml(l,r,i){if(!i)return[l];const{property:t,start:d,end:a}=i,n=r.length,{compare:o,between:s,normalize:u}=Sl(t),{start:b,end:y,loop:c,style:h}=ad(l,r,i),f=[];let p=!1,m=null,v,_,g;const x=()=>s(d,g,v)&&o(d,g)!==0,j=()=>o(a,v)===0||s(a,g,v),E=()=>p||x(),M=()=>!p||j();for(let T=b,O=b;T<=y;++T)_=r[T%n],!_.skip&&(v=u(_[t]),v!==g&&(p=s(v,d,a),m===null&&E()&&(m=o(v,d)===0?T:O),m!==null&&M()&&(f.push(qi({start:m,end:T,loop:c,count:n,style:h})),m=null),O=T,g=v));return m!==null&&f.push(qi({start:m,end:y,loop:c,count:n,style:h})),f}function Tl(l,r){const i=[],t=l.segments;for(let d=0;d<t.length;d++){const a=Ml(t[d],l.points,r);a.length&&i.push(...a)}return i}function ld(l,r,i,t){let d=0,a=r-1;if(i&&!t)for(;d<r&&!l[d].skip;)d++;for(;d<r&&l[d].skip;)d++;for(d%=r,i&&(a+=d);a>d&&l[a%r].skip;)a--;return a%=r,{start:d,end:a}}function cd(l,r,i,t){const d=l.length,a=[];let n=r,o=l[r],s;for(s=r+1;s<=i;++s){const u=l[s%d];u.skip||u.stop?o.skip||(t=!1,a.push({start:r%d,end:(s-1)%d,loop:t}),r=n=u.stop?s:null):(n=s,o.skip&&(r=s)),o=u}return n!==null&&a.push({start:r%d,end:n%d,loop:t}),a}function ud(l,r){const i=l.points,t=l.options.spanGaps,d=i.length;if(!d)return[];const a=!!l._loop,{start:n,end:o}=ld(i,d,a,t);if(t===!0)return Xi(l,[{start:n,end:o,loop:a}],i,r);const s=o<n?o+d:o,u=!!l._fullLoop&&n===0&&o===d-1;return Xi(l,cd(i,n,s,u),i,r)}function Xi(l,r,i,t){return!t||!t.setContext||!i?r:dd(l,r,i,t)}function dd(l,r,i,t){const d=l._chart.getContext(),a=Yi(l.options),{_datasetIndex:n,options:{spanGaps:o}}=l,s=i.length,u=[];let b=a,y=r[0].start,c=y;function h(f,p,m,v){const _=o?-1:1;if(f!==p){for(f+=s;i[f%s].skip;)f-=_;for(;i[p%s].skip;)p+=_;f%s!==p%s&&(u.push({start:f%s,end:p%s,loop:m,style:v}),b=v,y=p%s)}}for(const f of r){y=o?y:f.start;let p=i[y%s],m;for(c=y+1;c<=f.end;c++){const v=i[c%s];m=Yi(t.setContext(zr(d,{type:"segment",p0:p,p1:v,p0DataIndex:(c-1)%s,p1DataIndex:c%s,datasetIndex:n}))),hd(m,b)&&h(y,c-1,f.loop,b),p=v,b=m}y<c-1&&h(y,c-1,f.loop,b)}return u}function Yi(l){return{backgroundColor:l.backgroundColor,borderCapStyle:l.borderCapStyle,borderDash:l.borderDash,borderDashOffset:l.borderDashOffset,borderJoinStyle:l.borderJoinStyle,borderWidth:l.borderWidth,borderColor:l.borderColor}}function hd(l,r){if(!r)return!1;const i=[],t=function(d,a){return Co(a)?(i.includes(a)||i.push(a),i.indexOf(a)):a};return JSON.stringify(l,t)!==JSON.stringify(r,t)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class fd{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(r,i,t,d){const a=i.listeners[d],n=i.duration;a.forEach(o=>o({chart:r,initial:i.initial,numSteps:n,currentStep:Math.min(t-i.start,n)}))}_refresh(){this._request||(this._running=!0,this._request=cl.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(r=Date.now()){let i=0;this._charts.forEach((t,d)=>{if(!t.running||!t.items.length)return;const a=t.items;let n=a.length-1,o=!1,s;for(;n>=0;--n)s=a[n],s._active?(s._total>t.duration&&(t.duration=s._total),s.tick(r),o=!0):(a[n]=a[a.length-1],a.pop());o&&(d.draw(),this._notify(d,t,r,"progress")),a.length||(t.running=!1,this._notify(d,t,r,"complete"),t.initial=!1),i+=a.length}),this._lastDate=r,i===0&&(this._running=!1)}_getAnims(r){const i=this._charts;let t=i.get(r);return t||(t={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(r,t)),t}listen(r,i,t){this._getAnims(r).listeners[i].push(t)}add(r,i){!i||!i.length||this._getAnims(r).items.push(...i)}has(r){return this._getAnims(r).items.length>0}start(r){const i=this._charts.get(r);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((t,d)=>Math.max(t,d._duration),0),this._refresh())}running(r){if(!this._running)return!1;const i=this._charts.get(r);return!(!i||!i.running||!i.items.length)}stop(r){const i=this._charts.get(r);if(!i||!i.items.length)return;const t=i.items;let d=t.length-1;for(;d>=0;--d)t[d].cancel();i.items=[],this._notify(r,i,Date.now(),"complete")}remove(r){return this._charts.delete(r)}}var Tr=new fd;const Zi="transparent",pd={boolean(l,r,i){return i>.5?r:l},color(l,r,i){const t=Bi(l||Zi),d=t.valid&&Bi(r||Zi);return d&&d.valid?d.mix(t,i).hexString():r},number(l,r,i){return l+(r-l)*i}};class md{constructor(r,i,t,d){const a=i[t];d=Rn([r.to,d,a,r.from]);const n=Rn([r.from,a,d]);this._active=!0,this._fn=r.fn||pd[r.type||typeof n],this._easing=Bn[r.easing]||Bn.linear,this._start=Math.floor(Date.now()+(r.delay||0)),this._duration=this._total=Math.floor(r.duration),this._loop=!!r.loop,this._target=i,this._prop=t,this._from=n,this._to=d,this._promises=void 0}active(){return this._active}update(r,i,t){if(this._active){this._notify(!1);const d=this._target[this._prop],a=t-this._start,n=this._duration-a;this._start=t,this._duration=Math.floor(Math.max(n,r.duration)),this._total+=a,this._loop=!!r.loop,this._to=Rn([r.to,i,d,r.from]),this._from=Rn([r.from,d,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(r){const i=r-this._start,t=this._duration,d=this._prop,a=this._from,n=this._loop,o=this._to;let s;if(this._active=a!==o&&(n||i<t),!this._active){this._target[d]=o,this._notify(!0);return}if(i<0){this._target[d]=a;return}s=i/t%2,s=n&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[d]=this._fn(a,o,s)}wait(){const r=this._promises||(this._promises=[]);return new Promise((i,t)=>{r.push({res:i,rej:t})})}_notify(r){const i=r?"res":"rej",t=this._promises||[];for(let d=0;d<t.length;d++)t[d][i]()}}class El{constructor(r,i){this._chart=r,this._properties=new Map,this.configure(i)}configure(r){if(!ut(r))return;const i=Object.keys(Dt.animation),t=this._properties;Object.getOwnPropertyNames(r).forEach(d=>{const a=r[d];if(!ut(a))return;const n={};for(const o of i)n[o]=a[o];(Et(a.properties)&&a.properties||[d]).forEach(o=>{(o===d||!t.has(o))&&t.set(o,n)})})}_animateOptions(r,i){const t=i.options,d=gd(r,t);if(!d)return[];const a=this._createAnimations(d,t);return t.$shared&&yd(r.options.$animations,t).then(()=>{r.options=t},()=>{}),a}_createAnimations(r,i){const t=this._properties,d=[],a=r.$animations||(r.$animations={}),n=Object.keys(i),o=Date.now();let s;for(s=n.length-1;s>=0;--s){const u=n[s];if(u.charAt(0)==="$")continue;if(u==="options"){d.push(...this._animateOptions(r,i));continue}const b=i[u];let y=a[u];const c=t.get(u);if(y)if(c&&y.active()){y.update(c,b,o);continue}else y.cancel();if(!c||!c.duration){r[u]=b;continue}a[u]=y=new md(c,r,u,b),d.push(y)}return d}update(r,i){if(this._properties.size===0){Object.assign(r,i);return}const t=this._createAnimations(r,i);if(t.length)return Tr.add(this._chart,t),!0}}function yd(l,r){const i=[],t=Object.keys(r);for(let d=0;d<t.length;d++){const a=l[t[d]];a&&a.active()&&i.push(a.wait())}return Promise.all(i)}function gd(l,r){if(!r)return;let i=l.options;if(!i){l.options=r;return}return i.$shared&&(l.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function $i(l,r){const i=l&&l.options||{},t=i.reverse,d=i.min===void 0?r:0,a=i.max===void 0?r:0;return{start:t?a:d,end:t?d:a}}function bd(l,r,i){if(i===!1)return!1;const t=$i(l,i),d=$i(r,i);return{top:d.end,right:t.end,bottom:d.start,left:t.start}}function vd(l){let r,i,t,d;return ut(l)?(r=l.top,i=l.right,t=l.bottom,d=l.left):r=i=t=d=l,{top:r,right:i,bottom:t,left:d,disabled:l===!1}}function kl(l,r){const i=[],t=l._getSortedDatasetMetas(r);let d,a;for(d=0,a=t.length;d<a;++d)i.push(t[d].index);return i}function Ki(l,r,i,t={}){const d=l.keys,a=t.mode==="single";let n,o,s,u;if(r!==null){for(n=0,o=d.length;n<o;++n){if(s=+d[n],s===i){if(t.all)continue;break}u=l.values[s],Rt(u)&&(a||r===0||wr(r)===wr(u))&&(r+=u)}return r}}function _d(l){const r=Object.keys(l),i=new Array(r.length);let t,d,a;for(t=0,d=r.length;t<d;++t)a=r[t],i[t]={x:a,y:l[a]};return i}function Qi(l,r){const i=l&&l.options.stacked;return i||i===void 0&&r.stack!==void 0}function xd(l,r,i){return`${l.id}.${r.id}.${i.stack||i.type}`}function wd(l){const{min:r,max:i,minDefined:t,maxDefined:d}=l.getUserBounds();return{min:t?r:Number.NEGATIVE_INFINITY,max:d?i:Number.POSITIVE_INFINITY}}function jd(l,r,i){const t=l[r]||(l[r]={});return t[i]||(t[i]={})}function Ji(l,r,i,t){for(const d of r.getMatchingVisibleMetas(t).reverse()){const a=l[d.index];if(i&&a>0||!i&&a<0)return d.index}return null}function ea(l,r){const{chart:i,_cachedMeta:t}=l,d=i._stacks||(i._stacks={}),{iScale:a,vScale:n,index:o}=t,s=a.axis,u=n.axis,b=xd(a,n,t),y=r.length;let c;for(let h=0;h<y;++h){const f=r[h],{[s]:p,[u]:m}=f,v=f._stacks||(f._stacks={});c=v[u]=jd(d,b,p),c[o]=m,c._top=Ji(c,n,!0,t.type),c._bottom=Ji(c,n,!1,t.type);const _=c._visualValues||(c._visualValues={});_[o]=m}}function Ks(l,r){const i=l.scales;return Object.keys(i).filter(t=>i[t].axis===r).shift()}function Sd(l,r){return zr(l,{active:!1,dataset:void 0,datasetIndex:r,index:r,mode:"default",type:"dataset"})}function Md(l,r,i){return zr(l,{active:!1,dataIndex:r,parsed:void 0,raw:void 0,element:i,index:r,mode:"default",type:"data"})}function En(l,r){const i=l.controller.index,t=l.vScale&&l.vScale.axis;if(t){r=r||l._parsed;for(const d of r){const a=d._stacks;if(!a||a[t]===void 0||a[t][i]===void 0)return;delete a[t][i],a[t]._visualValues!==void 0&&a[t]._visualValues[i]!==void 0&&delete a[t]._visualValues[i]}}}const Qs=l=>l==="reset"||l==="none",ta=(l,r)=>r?l:Object.assign({},l),Td=(l,r,i)=>l&&!r.hidden&&r._stacked&&{keys:kl(i,!0),values:null};class Hr{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(r,i){this.chart=r,this._ctx=r.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const r=this._cachedMeta;this.configure(),this.linkScales(),r._stacked=Qi(r.vScale,r),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(r){this.index!==r&&En(this._cachedMeta),this.index=r}linkScales(){const r=this.chart,i=this._cachedMeta,t=this.getDataset(),d=(y,c,h,f)=>y==="x"?c:y==="r"?f:h,a=i.xAxisID=at(t.xAxisID,Ks(r,"x")),n=i.yAxisID=at(t.yAxisID,Ks(r,"y")),o=i.rAxisID=at(t.rAxisID,Ks(r,"r")),s=i.indexAxis,u=i.iAxisID=d(s,a,n,o),b=i.vAxisID=d(s,n,a,o);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(n),i.rScale=this.getScaleForId(o),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(r){return this.chart.scales[r]}_getOtherScale(r){const i=this._cachedMeta;return r===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const r=this._cachedMeta;this._data&&Ii(this._data,this),r._stacked&&En(r)}_dataCheck(){const r=this.getDataset(),i=r.data||(r.data=[]),t=this._data;if(ut(i))this._data=_d(i);else if(t!==i){if(t){Ii(t,this);const d=this._cachedMeta;En(d),d._parsed=[]}i&&Object.isExtensible(i)&&du(i,this),this._syncList=[],this._data=i}}addElements(){const r=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(r.dataset=new this.datasetElementType)}buildOrUpdateElements(r){const i=this._cachedMeta,t=this.getDataset();let d=!1;this._dataCheck();const a=i._stacked;i._stacked=Qi(i.vScale,i),i.stack!==t.stack&&(d=!0,En(i),i.stack=t.stack),this._resyncElements(r),(d||a!==i._stacked)&&ea(this,i._parsed)}configure(){const r=this.chart.config,i=r.datasetScopeKeys(this._type),t=r.getOptionScopes(this.getDataset(),i,!0);this.options=r.createResolver(t,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(r,i){const{_cachedMeta:t,_data:d}=this,{iScale:a,_stacked:n}=t,o=a.axis;let s=r===0&&i===d.length?!0:t._sorted,u=r>0&&t._parsed[r-1],b,y,c;if(this._parsing===!1)t._parsed=d,t._sorted=!0,c=d;else{Et(d[r])?c=this.parseArrayData(t,d,r,i):ut(d[r])?c=this.parseObjectData(t,d,r,i):c=this.parsePrimitiveData(t,d,r,i);const h=()=>y[o]===null||u&&y[o]<u[o];for(b=0;b<i;++b)t._parsed[b+r]=y=c[b],s&&(h()&&(s=!1),u=y);t._sorted=s}n&&ea(this,c)}parsePrimitiveData(r,i,t,d){const{iScale:a,vScale:n}=r,o=a.axis,s=n.axis,u=a.getLabels(),b=a===n,y=new Array(d);let c,h,f;for(c=0,h=d;c<h;++c)f=c+t,y[c]={[o]:b||a.parse(u[f],f),[s]:n.parse(i[f],f)};return y}parseArrayData(r,i,t,d){const{xScale:a,yScale:n}=r,o=new Array(d);let s,u,b,y;for(s=0,u=d;s<u;++s)b=s+t,y=i[b],o[s]={x:a.parse(y[0],b),y:n.parse(y[1],b)};return o}parseObjectData(r,i,t,d){const{xScale:a,yScale:n}=r,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,u=new Array(d);let b,y,c,h;for(b=0,y=d;b<y;++b)c=b+t,h=i[c],u[b]={x:a.parse(Gr(h,o),c),y:n.parse(Gr(h,s),c)};return u}getParsed(r){return this._cachedMeta._parsed[r]}getDataElement(r){return this._cachedMeta.data[r]}applyStack(r,i,t){const d=this.chart,a=this._cachedMeta,n=i[r.axis],o={keys:kl(d,!0),values:i._stacks[r.axis]._visualValues};return Ki(o,n,a.index,{mode:t})}updateRangeFromParsed(r,i,t,d){const a=t[i.axis];let n=a===null?NaN:a;const o=d&&t._stacks[i.axis];d&&o&&(d.values=o,n=Ki(d,a,this._cachedMeta.index)),r.min=Math.min(r.min,n),r.max=Math.max(r.max,n)}getMinMax(r,i){const t=this._cachedMeta,d=t._parsed,a=t._sorted&&r===t.iScale,n=d.length,o=this._getOtherScale(r),s=Td(i,t,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:y}=wd(o);let c,h;function f(){h=d[c];const p=h[o.axis];return!Rt(h[r.axis])||b>p||y<p}for(c=0;c<n&&!(!f()&&(this.updateRangeFromParsed(u,r,h,s),a));++c);if(a){for(c=n-1;c>=0;--c)if(!f()){this.updateRangeFromParsed(u,r,h,s);break}}return u}getAllParsedValues(r){const i=this._cachedMeta._parsed,t=[];let d,a,n;for(d=0,a=i.length;d<a;++d)n=i[d][r.axis],Rt(n)&&t.push(n);return t}getMaxOverflow(){return!1}getLabelAndValue(r){const i=this._cachedMeta,t=i.iScale,d=i.vScale,a=this.getParsed(r);return{label:t?""+t.getLabelForValue(a[t.axis]):"",value:d?""+d.getLabelForValue(a[d.axis]):""}}_update(r){const i=this._cachedMeta;this.update(r||"default"),i._clip=vd(at(this.options.clip,bd(i.xScale,i.yScale,this.getMaxOverflow())))}update(r){}draw(){const r=this._ctx,i=this.chart,t=this._cachedMeta,d=t.data||[],a=i.chartArea,n=[],o=this._drawStart||0,s=this._drawCount||d.length-o,u=this.options.drawActiveElementsOnTop;let b;for(t.dataset&&t.dataset.draw(r,a,o,s),b=o;b<o+s;++b){const y=d[b];y.hidden||(y.active&&u?n.push(y):y.draw(r,a))}for(b=0;b<n.length;++b)n[b].draw(r,a)}getStyle(r,i){const t=i?"active":"default";return r===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(t):this.resolveDataElementOptions(r||0,t)}getContext(r,i,t){const d=this.getDataset();let a;if(r>=0&&r<this._cachedMeta.data.length){const n=this._cachedMeta.data[r];a=n.$context||(n.$context=Md(this.getContext(),r,n)),a.parsed=this.getParsed(r),a.raw=d.data[r],a.index=a.dataIndex=r}else a=this.$context||(this.$context=Sd(this.chart.getContext(),this.index)),a.dataset=d,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=t,a}resolveDatasetElementOptions(r){return this._resolveElementOptions(this.datasetElementType.id,r)}resolveDataElementOptions(r,i){return this._resolveElementOptions(this.dataElementType.id,i,r)}_resolveElementOptions(r,i="default",t){const d=i==="active",a=this._cachedDataOpts,n=r+"-"+i,o=a[n],s=this.enableOptionSharing&&zn(t);if(o)return ta(o,s);const u=this.chart.config,b=u.datasetElementScopeKeys(this._type,r),y=d?[`${r}Hover`,"hover",r,""]:[r,""],c=u.getOptionScopes(this.getDataset(),b),h=Object.keys(Dt.elements[r]),f=()=>this.getContext(t,d,i),p=u.resolveNamedOptions(c,h,f,y);return p.$shared&&(p.$shared=s,a[n]=Object.freeze(ta(p,s))),p}_resolveAnimations(r,i,t){const d=this.chart,a=this._cachedDataOpts,n=`animation-${i}`,o=a[n];if(o)return o;let s;if(d.options.animation!==!1){const b=this.chart.config,y=b.datasetAnimationScopeKeys(this._type,i),c=b.getOptionScopes(this.getDataset(),y);s=b.createResolver(c,this.getContext(r,t,i))}const u=new El(d,s&&s.animations);return s&&s._cacheable&&(a[n]=Object.freeze(u)),u}getSharedOptions(r){if(r.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},r))}includeOptions(r,i){return!i||Qs(r)||this.chart._animationsDisabled}_getSharedOptions(r,i){const t=this.resolveDataElementOptions(r,i),d=this._sharedOptions,a=this.getSharedOptions(t),n=this.includeOptions(i,a)||a!==d;return this.updateSharedOptions(a,i,t),{sharedOptions:a,includeOptions:n}}updateElement(r,i,t,d){Qs(d)?Object.assign(r,t):this._resolveAnimations(i,d).update(r,t)}updateSharedOptions(r,i,t){r&&!Qs(i)&&this._resolveAnimations(void 0,i).update(r,t)}_setStyle(r,i,t,d){r.active=d;const a=this.getStyle(i,d);this._resolveAnimations(i,t,d).update(r,{options:!d&&this.getSharedOptions(a)||a})}removeHoverStyle(r,i,t){this._setStyle(r,t,"active",!1)}setHoverStyle(r,i,t){this._setStyle(r,t,"active",!0)}_removeDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!1)}_setDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!0)}_resyncElements(r){const i=this._data,t=this._cachedMeta.data;for(const[o,s,u]of this._syncList)this[o](s,u);this._syncList=[];const d=t.length,a=i.length,n=Math.min(a,d);n&&this.parse(0,n),a>d?this._insertElements(d,a-d,r):a<d&&this._removeElements(a,d-a)}_insertElements(r,i,t=!0){const d=this._cachedMeta,a=d.data,n=r+i;let o;const s=u=>{for(u.length+=i,o=u.length-1;o>=n;o--)u[o]=u[o-i]};for(s(a),o=r;o<n;++o)a[o]=new this.dataElementType;this._parsing&&s(d._parsed),this.parse(r,i),t&&this.updateElements(a,r,i,"reset")}updateElements(r,i,t,d){}_removeElements(r,i){const t=this._cachedMeta;if(this._parsing){const d=t._parsed.splice(r,i);t._stacked&&En(t,d)}t.data.splice(r,i)}_sync(r){if(this._parsing)this._syncList.push(r);else{const[i,t,d]=r;this[i](t,d)}this.chart._dataChanges.push([this.index,...r])}_onDataPush(){const r=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-r,r])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(r,i){i&&this._sync(["_removeElements",r,i]);const t=arguments.length-2;t&&this._sync(["_insertElements",r,t])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ed(l,r){if(!l._cache.$bar){const i=l.getMatchingVisibleMetas(r);let t=[];for(let d=0,a=i.length;d<a;d++)t=t.concat(i[d].controller.getAllParsedValues(l));l._cache.$bar=ll(t.sort((d,a)=>d-a))}return l._cache.$bar}function kd(l){const r=l.iScale,i=Ed(r,l.type);let t=r._length,d,a,n,o;const s=()=>{n===32767||n===-32768||(zn(o)&&(t=Math.min(t,Math.abs(n-o)||t)),o=n)};for(d=0,a=i.length;d<a;++d)n=r.getPixelForValue(i[d]),s();for(o=void 0,d=0,a=r.ticks.length;d<a;++d)n=r.getPixelForTick(d),s();return t}function Cd(l,r,i,t){const d=i.barThickness;let a,n;return pt(d)?(a=r.min*i.categoryPercentage,n=i.barPercentage):(a=d*t,n=1),{chunk:a/t,ratio:n,start:r.pixels[l]-a/2}}function Od(l,r,i,t){const d=r.pixels,a=d[l];let n=l>0?d[l-1]:null,o=l<d.length-1?d[l+1]:null;const s=i.categoryPercentage;n===null&&(n=a-(o===null?r.end-r.start:o-a)),o===null&&(o=a+a-n);const u=a-(a-Math.min(n,o))/2*s;return{chunk:Math.abs(o-n)/2*s/t,ratio:i.barPercentage,start:u}}function Pd(l,r,i,t){const d=i.parse(l[0],t),a=i.parse(l[1],t),n=Math.min(d,a),o=Math.max(d,a);let s=n,u=o;Math.abs(n)>Math.abs(o)&&(s=o,u=n),r[i.axis]=u,r._custom={barStart:s,barEnd:u,start:d,end:a,min:n,max:o}}function Cl(l,r,i,t){return Et(l)?Pd(l,r,i,t):r[i.axis]=i.parse(l,t),r}function ra(l,r,i,t){const d=l.iScale,a=l.vScale,n=d.getLabels(),o=d===a,s=[];let u,b,y,c;for(u=i,b=i+t;u<b;++u)c=r[u],y={},y[d.axis]=o||d.parse(n[u],u),s.push(Cl(c,y,a,u));return s}function Js(l){return l&&l.barStart!==void 0&&l.barEnd!==void 0}function Ld(l,r,i){return l!==0?wr(l):(r.isHorizontal()?1:-1)*(r.min>=i?1:-1)}function Ad(l){let r,i,t,d,a;return l.horizontal?(r=l.base>l.x,i="left",t="right"):(r=l.base<l.y,i="bottom",t="top"),r?(d="end",a="start"):(d="start",a="end"),{start:i,end:t,reverse:r,top:d,bottom:a}}function Rd(l,r,i,t){let d=r.borderSkipped;const a={};if(!d){l.borderSkipped=a;return}if(d===!0){l.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:n,end:o,reverse:s,top:u,bottom:b}=Ad(l);d==="middle"&&i&&(l.enableBorderRadius=!0,(i._top||0)===t?d=u:(i._bottom||0)===t?d=b:(a[na(b,n,o,s)]=!0,d=u)),a[na(d,n,o,s)]=!0,l.borderSkipped=a}function na(l,r,i,t){return t?(l=Dd(l,r,i),l=sa(l,i,r)):l=sa(l,r,i),l}function Dd(l,r,i){return l===r?i:l===i?r:l}function sa(l,r,i){return l==="start"?r:l==="end"?i:l}function Id(l,{inflateAmount:r},i){l.inflateAmount=r==="auto"?i===1?.33:0:r}class Fd extends Hr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(r,i,t,d){return ra(r,i,t,d)}parseArrayData(r,i,t,d){return ra(r,i,t,d)}parseObjectData(r,i,t,d){const{iScale:a,vScale:n}=r,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,u=a.axis==="x"?o:s,b=n.axis==="x"?o:s,y=[];let c,h,f,p;for(c=t,h=t+d;c<h;++c)p=i[c],f={},f[a.axis]=a.parse(Gr(p,u),c),y.push(Cl(Gr(p,b),f,n,c));return y}updateRangeFromParsed(r,i,t,d){super.updateRangeFromParsed(r,i,t,d);const a=t._custom;a&&i===this._cachedMeta.vScale&&(r.min=Math.min(r.min,a.min),r.max=Math.max(r.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(r){const i=this._cachedMeta,{iScale:t,vScale:d}=i,a=this.getParsed(r),n=a._custom,o=Js(n)?"["+n.start+", "+n.end+"]":""+d.getLabelForValue(a[d.axis]);return{label:""+t.getLabelForValue(a[t.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const r=this._cachedMeta;r.stack=this.getDataset().stack}update(r){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,r)}updateElements(r,i,t,d){const a=d==="reset",{index:n,_cachedMeta:{vScale:o}}=this,s=o.getBasePixel(),u=o.isHorizontal(),b=this._getRuler(),{sharedOptions:y,includeOptions:c}=this._getSharedOptions(i,d);for(let h=i;h<i+t;h++){const f=this.getParsed(h),p=a||pt(f[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,b),v=(f._stacks||{})[o.axis],_={horizontal:u,base:p.base,enableBorderRadius:!v||Js(f._custom)||n===v._top||n===v._bottom,x:u?p.head:m.center,y:u?m.center:p.head,height:u?m.size:Math.abs(p.size),width:u?Math.abs(p.size):m.size};c&&(_.options=y||this.resolveDataElementOptions(h,r[h].active?"active":d));const g=_.options||r[h].options;Rd(_,g,v,n),Id(_,g,b.ratio),this.updateElement(r[h],h,_,d)}}_getStacks(r,i){const{iScale:t}=this._cachedMeta,d=t.getMatchingVisibleMetas(this._type).filter(s=>s.controller.options.grouped),a=t.options.stacked,n=[],o=s=>{const u=s.controller.getParsed(i),b=u&&u[s.vScale.axis];if(pt(b)||isNaN(b))return!0};for(const s of d)if(!(i!==void 0&&o(s))&&((a===!1||n.indexOf(s.stack)===-1||a===void 0&&s.stack===void 0)&&n.push(s.stack),s.index===r))break;return n.length||n.push(void 0),n}_getStackCount(r){return this._getStacks(void 0,r).length}_getStackIndex(r,i,t){const d=this._getStacks(r,t),a=i!==void 0?d.indexOf(i):-1;return a===-1?d.length-1:a}_getRuler(){const r=this.options,i=this._cachedMeta,t=i.iScale,d=[];let a,n;for(a=0,n=i.data.length;a<n;++a)d.push(t.getPixelForValue(this.getParsed(a)[t.axis],a));const o=r.barThickness;return{min:o||kd(i),pixels:d,start:t._startPixel,end:t._endPixel,stackCount:this._getStackCount(),scale:t,grouped:r.grouped,ratio:o?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(r){const{_cachedMeta:{vScale:i,_stacked:t,index:d},options:{base:a,minBarLength:n}}=this,o=a||0,s=this.getParsed(r),u=s._custom,b=Js(u);let y=s[i.axis],c=0,h=t?this.applyStack(i,s,t):y,f,p;h!==y&&(c=h-y,h=y),b&&(y=u.barStart,h=u.barEnd-u.barStart,y!==0&&wr(y)!==wr(u.barEnd)&&(c=0),c+=y);const m=!pt(a)&&!b?a:c;let v=i.getPixelForValue(m);if(this.chart.getDataVisibility(r)?f=i.getPixelForValue(c+h):f=v,p=f-v,Math.abs(p)<n){p=Ld(p,i,o)*n,y===o&&(v-=p/2);const _=i.getPixelForDecimal(0),g=i.getPixelForDecimal(1),x=Math.min(_,g),j=Math.max(_,g);v=Math.max(Math.min(v,j),x),f=v+p,t&&!b&&(s._stacks[i.axis]._visualValues[d]=i.getValueForPixel(f)-i.getValueForPixel(v))}if(v===i.getPixelForValue(o)){const _=wr(p)*i.getLineWidthForValue(o)/2;v+=_,p-=_}return{size:p,base:v,head:f,center:f+p/2}}_calculateBarIndexPixels(r,i){const t=i.scale,d=this.options,a=d.skipNull,n=at(d.maxBarThickness,1/0);let o,s;if(i.grouped){const u=a?this._getStackCount(r):i.stackCount,b=d.barThickness==="flex"?Od(r,i,d,u):Cd(r,i,d,u),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?r:void 0);o=b.start+b.chunk*y+b.chunk/2,s=Math.min(n,b.chunk*b.ratio)}else o=t.getPixelForValue(this.getParsed(r)[t.axis],r),s=Math.min(n,i.min*i.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}}draw(){const r=this._cachedMeta,i=r.vScale,t=r.data,d=t.length;let a=0;for(;a<d;++a)this.getParsed(a)[i.axis]!==null&&t[a].draw(this._ctx)}}class Nd extends Hr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(r,i,t,d){const a=super.parsePrimitiveData(r,i,t,d);for(let n=0;n<a.length;n++)a[n]._custom=this.resolveDataElementOptions(n+t).radius;return a}parseArrayData(r,i,t,d){const a=super.parseArrayData(r,i,t,d);for(let n=0;n<a.length;n++){const o=i[t+n];a[n]._custom=at(o[2],this.resolveDataElementOptions(n+t).radius)}return a}parseObjectData(r,i,t,d){const a=super.parseObjectData(r,i,t,d);for(let n=0;n<a.length;n++){const o=i[t+n];a[n]._custom=at(o&&o.r&&+o.r,this.resolveDataElementOptions(n+t).radius)}return a}getMaxOverflow(){const r=this._cachedMeta.data;let i=0;for(let t=r.length-1;t>=0;--t)i=Math.max(i,r[t].size(this.resolveDataElementOptions(t))/2);return i>0&&i}getLabelAndValue(r){const i=this._cachedMeta,t=this.chart.data.labels||[],{xScale:d,yScale:a}=i,n=this.getParsed(r),o=d.getLabelForValue(n.x),s=a.getLabelForValue(n.y),u=n._custom;return{label:t[r]||"",value:"("+o+", "+s+(u?", "+u:"")+")"}}update(r){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,r)}updateElements(r,i,t,d){const a=d==="reset",{iScale:n,vScale:o}=this._cachedMeta,{sharedOptions:s,includeOptions:u}=this._getSharedOptions(i,d),b=n.axis,y=o.axis;for(let c=i;c<i+t;c++){const h=r[c],f=!a&&this.getParsed(c),p={},m=p[b]=a?n.getPixelForDecimal(.5):n.getPixelForValue(f[b]),v=p[y]=a?o.getBasePixel():o.getPixelForValue(f[y]);p.skip=isNaN(m)||isNaN(v),u&&(p.options=s||this.resolveDataElementOptions(c,h.active?"active":d),a&&(p.options.radius=0)),this.updateElement(h,c,p,d)}}resolveDataElementOptions(r,i){const t=this.getParsed(r);let d=super.resolveDataElementOptions(r,i);d.$shared&&(d=Object.assign({},d,{$shared:!1}));const a=d.radius;return i!=="active"&&(d.radius=0),d.radius+=at(t&&t._custom,a),d}}function Bd(l,r,i){let t=1,d=1,a=0,n=0;if(r<kt){const o=l,s=o+r,u=Math.cos(o),b=Math.sin(o),y=Math.cos(s),c=Math.sin(s),h=(g,x,j)=>Hn(g,o,s,!0)?1:Math.max(x,x*i,j,j*i),f=(g,x,j)=>Hn(g,o,s,!0)?-1:Math.min(x,x*i,j,j*i),p=h(0,u,y),m=h(Ft,b,c),v=f(Ct,u,y),_=f(Ct+Ft,b,c);t=(p-v)/2,d=(m-_)/2,a=-(p+v)/2,n=-(m+_)/2}return{ratioX:t,ratioY:d,offsetX:a,offsetY:n}}class Io extends Hr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"&&!r.startsWith("borderDash")&&!r.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const i=r.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:t,color:d}}=r.legend.options;return i.labels.map((a,n)=>{const s=r.getDatasetMeta(0).controller.getStyle(n);return{text:a,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:d,lineWidth:s.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(n),index:n}})}return[]}},onClick(r,i,t){t.chart.toggleDataVisibility(i.index),t.chart.update()}}}};constructor(r,i){super(r,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(r,i){const t=this.getDataset().data,d=this._cachedMeta;if(this._parsing===!1)d._parsed=t;else{let a=s=>+t[s];if(ut(t[r])){const{key:s="value"}=this._parsing;a=u=>+Gr(t[u],s)}let n,o;for(n=r,o=r+i;n<o;++n)d._parsed[n]=a(n)}}_getRotation(){return pr(this.options.rotation-90)}_getCircumference(){return pr(this.options.circumference)}_getRotationExtents(){let r=kt,i=-kt;for(let t=0;t<this.chart.data.datasets.length;++t)if(this.chart.isDatasetVisible(t)&&this.chart.getDatasetMeta(t).type===this._type){const d=this.chart.getDatasetMeta(t).controller,a=d._getRotation(),n=d._getCircumference();r=Math.min(r,a),i=Math.max(i,a+n)}return{rotation:r,circumference:i-r}}update(r){const i=this.chart,{chartArea:t}=i,d=this._cachedMeta,a=d.data,n=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(t.width,t.height)-n)/2,0),s=Math.min(Kc(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:b,rotation:y}=this._getRotationExtents(),{ratioX:c,ratioY:h,offsetX:f,offsetY:p}=Bd(y,b,s),m=(t.width-n)/c,v=(t.height-n)/h,_=Math.max(Math.min(m,v)/2,0),g=nl(this.options.radius,_),x=Math.max(g*s,0),j=(g-x)/this._getVisibleDatasetWeightTotal();this.offsetX=f*g,this.offsetY=p*g,d.total=this.calculateTotal(),this.outerRadius=g-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(a,0,a.length,r)}_circumference(r,i){const t=this.options,d=this._cachedMeta,a=this._getCircumference();return i&&t.animation.animateRotate||!this.chart.getDataVisibility(r)||d._parsed[r]===null||d.data[r].hidden?0:this.calculateCircumference(d._parsed[r]*a/kt)}updateElements(r,i,t,d){const a=d==="reset",n=this.chart,o=n.chartArea,u=n.options.animation,b=(o.left+o.right)/2,y=(o.top+o.bottom)/2,c=a&&u.animateScale,h=c?0:this.innerRadius,f=c?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(i,d);let v=this._getRotation(),_;for(_=0;_<i;++_)v+=this._circumference(_,a);for(_=i;_<i+t;++_){const g=this._circumference(_,a),x=r[_],j={x:b+this.offsetX,y:y+this.offsetY,startAngle:v,endAngle:v+g,circumference:g,outerRadius:f,innerRadius:h};m&&(j.options=p||this.resolveDataElementOptions(_,x.active?"active":d)),v+=g,this.updateElement(x,_,j,d)}}calculateTotal(){const r=this._cachedMeta,i=r.data;let t=0,d;for(d=0;d<i.length;d++){const a=r._parsed[d];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(d)&&!i[d].hidden&&(t+=Math.abs(a))}return t}calculateCircumference(r){const i=this._cachedMeta.total;return i>0&&!isNaN(r)?kt*(Math.abs(r)/i):0}getLabelAndValue(r){const i=this._cachedMeta,t=this.chart,d=t.data.labels||[],a=$n(i._parsed[r],t.options.locale);return{label:d[r]||"",value:a}}getMaxBorderWidth(r){let i=0;const t=this.chart;let d,a,n,o,s;if(!r){for(d=0,a=t.data.datasets.length;d<a;++d)if(t.isDatasetVisible(d)){n=t.getDatasetMeta(d),r=n.data,o=n.controller;break}}if(!r)return 0;for(d=0,a=r.length;d<a;++d)s=o.resolveDataElementOptions(d),s.borderAlign!=="inner"&&(i=Math.max(i,s.borderWidth||0,s.hoverBorderWidth||0));return i}getMaxOffset(r){let i=0;for(let t=0,d=r.length;t<d;++t){const a=this.resolveDataElementOptions(t);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(r){let i=0;for(let t=0;t<r;++t)this.chart.isDatasetVisible(t)&&(i+=this._getRingWeight(t));return i}_getRingWeight(r){return Math.max(at(this.chart.data.datasets[r].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Ud extends Hr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(r){const i=this._cachedMeta,{dataset:t,data:d=[],_dataset:a}=i,n=this.chart._animationsDisabled;let{start:o,count:s}=dl(i,d,n);this._drawStart=o,this._drawCount=s,hl(i)&&(o=0,s=d.length),t._chart=this.chart,t._datasetIndex=this.index,t._decimated=!!a._decimated,t.points=d;const u=this.resolveDatasetElementOptions(r);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(t,void 0,{animated:!n,options:u},r),this.updateElements(d,o,s,r)}updateElements(r,i,t,d){const a=d==="reset",{iScale:n,vScale:o,_stacked:s,_dataset:u}=this._cachedMeta,{sharedOptions:b,includeOptions:y}=this._getSharedOptions(i,d),c=n.axis,h=o.axis,{spanGaps:f,segment:p}=this.options,m=pn(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||a||d==="none",_=i+t,g=r.length;let x=i>0&&this.getParsed(i-1);for(let j=0;j<g;++j){const E=r[j],M=v?E:{};if(j<i||j>=_){M.skip=!0;continue}const T=this.getParsed(j),O=pt(T[h]),R=M[c]=n.getPixelForValue(T[c],j),k=M[h]=a||O?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,T,s):T[h],j);M.skip=isNaN(R)||isNaN(k)||O,M.stop=j>0&&Math.abs(T[c]-x[c])>m,p&&(M.parsed=T,M.raw=u.data[j]),y&&(M.options=b||this.resolveDataElementOptions(j,E.active?"active":d)),v||this.updateElement(E,j,M,d),x=T}}getMaxOverflow(){const r=this._cachedMeta,i=r.dataset,t=i.options&&i.options.borderWidth||0,d=r.data||[];if(!d.length)return t;const a=d[0].size(this.resolveDataElementOptions(0)),n=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(t,a,n)/2}draw(){const r=this._cachedMeta;r.dataset.updateControlPoints(this.chart.chartArea,r.iScale.axis),super.draw()}}class Ol extends Hr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const i=r.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:t,color:d}}=r.legend.options;return i.labels.map((a,n)=>{const s=r.getDatasetMeta(0).controller.getStyle(n);return{text:a,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:d,lineWidth:s.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(n),index:n}})}return[]}},onClick(r,i,t){t.chart.toggleDataVisibility(i.index),t.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(r,i){super(r,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(r){const i=this._cachedMeta,t=this.chart,d=t.data.labels||[],a=$n(i._parsed[r].r,t.options.locale);return{label:d[r]||"",value:a}}parseObjectData(r,i,t,d){return _l.bind(this)(r,i,t,d)}update(r){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,r)}getMinMax(){const r=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return r.data.forEach((t,d)=>{const a=this.getParsed(d).r;!isNaN(a)&&this.chart.getDataVisibility(d)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const r=this.chart,i=r.chartArea,t=r.options,d=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(d/2,0),n=Math.max(t.cutoutPercentage?a/100*t.cutoutPercentage:1,0),o=(a-n)/r.getVisibleDatasetCount();this.outerRadius=a-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(r,i,t,d){const a=d==="reset",n=this.chart,s=n.options.animation,u=this._cachedMeta.rScale,b=u.xCenter,y=u.yCenter,c=u.getIndexAngle(0)-.5*Ct;let h=c,f;const p=360/this.countVisibleElements();for(f=0;f<i;++f)h+=this._computeAngle(f,d,p);for(f=i;f<i+t;f++){const m=r[f];let v=h,_=h+this._computeAngle(f,d,p),g=n.getDataVisibility(f)?u.getDistanceFromCenterForValue(this.getParsed(f).r):0;h=_,a&&(s.animateScale&&(g=0),s.animateRotate&&(v=_=c));const x={x:b,y,innerRadius:0,outerRadius:g,startAngle:v,endAngle:_,options:this.resolveDataElementOptions(f,m.active?"active":d)};this.updateElement(m,f,x,d)}}countVisibleElements(){const r=this._cachedMeta;let i=0;return r.data.forEach((t,d)=>{!isNaN(this.getParsed(d).r)&&this.chart.getDataVisibility(d)&&i++}),i}_computeAngle(r,i,t){return this.chart.getDataVisibility(r)?pr(this.resolveDataElementOptions(r,i).angle||t):0}}class Gd extends Io{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Vd extends Hr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(r){const i=this._cachedMeta.vScale,t=this.getParsed(r);return{label:i.getLabels()[r],value:""+i.getLabelForValue(t[i.axis])}}parseObjectData(r,i,t,d){return _l.bind(this)(r,i,t,d)}update(r){const i=this._cachedMeta,t=i.dataset,d=i.data||[],a=i.iScale.getLabels();if(t.points=d,r!=="resize"){const n=this.resolveDatasetElementOptions(r);this.options.showLine||(n.borderWidth=0);const o={_loop:!0,_fullLoop:a.length===d.length,options:n};this.updateElement(t,void 0,o,r)}this.updateElements(d,0,d.length,r)}updateElements(r,i,t,d){const a=this._cachedMeta.rScale,n=d==="reset";for(let o=i;o<i+t;o++){const s=r[o],u=this.resolveDataElementOptions(o,s.active?"active":d),b=a.getPointPositionForValue(o,this.getParsed(o).r),y=n?a.xCenter:b.x,c=n?a.yCenter:b.y,h={x:y,y:c,angle:b.angle,skip:isNaN(y)||isNaN(c),options:u};this.updateElement(s,o,h,d)}}}class zd extends Hr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(r){const i=this._cachedMeta,t=this.chart.data.labels||[],{xScale:d,yScale:a}=i,n=this.getParsed(r),o=d.getLabelForValue(n.x),s=a.getLabelForValue(n.y);return{label:t[r]||"",value:"("+o+", "+s+")"}}update(r){const i=this._cachedMeta,{data:t=[]}=i,d=this.chart._animationsDisabled;let{start:a,count:n}=dl(i,t,d);if(this._drawStart=a,this._drawCount=n,hl(i)&&(a=0,n=t.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:s}=i;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!s._decimated,o.points=t;const u=this.resolveDatasetElementOptions(r);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!d,options:u},r)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(t,a,n,r)}addElements(){const{showLine:r}=this.options;!this.datasetElementType&&r&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(r,i,t,d){const a=d==="reset",{iScale:n,vScale:o,_stacked:s,_dataset:u}=this._cachedMeta,b=this.resolveDataElementOptions(i,d),y=this.getSharedOptions(b),c=this.includeOptions(d,y),h=n.axis,f=o.axis,{spanGaps:p,segment:m}=this.options,v=pn(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||a||d==="none";let g=i>0&&this.getParsed(i-1);for(let x=i;x<i+t;++x){const j=r[x],E=this.getParsed(x),M=_?j:{},T=pt(E[f]),O=M[h]=n.getPixelForValue(E[h],x),R=M[f]=a||T?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,E,s):E[f],x);M.skip=isNaN(O)||isNaN(R)||T,M.stop=x>0&&Math.abs(E[h]-g[h])>v,m&&(M.parsed=E,M.raw=u.data[x]),c&&(M.options=y||this.resolveDataElementOptions(x,j.active?"active":d)),_||this.updateElement(j,x,M,d),g=E}this.updateSharedOptions(y,d,b)}getMaxOverflow(){const r=this._cachedMeta,i=r.data||[];if(!this.options.showLine){let o=0;for(let s=i.length-1;s>=0;--s)o=Math.max(o,i[s].size(this.resolveDataElementOptions(s))/2);return o>0&&o}const t=r.dataset,d=t.options&&t.options.borderWidth||0;if(!i.length)return d;const a=i[0].size(this.resolveDataElementOptions(0)),n=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(d,a,n)/2}}var Hd=Object.freeze({__proto__:null,BarController:Fd,BubbleController:Nd,DoughnutController:Io,LineController:Ud,PieController:Gd,PolarAreaController:Ol,RadarController:Vd,ScatterController:zd});function Xr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fo{static override(r){Object.assign(Fo.prototype,r)}options;constructor(r){this.options=r||{}}init(){}formats(){return Xr()}parse(){return Xr()}format(){return Xr()}add(){return Xr()}diff(){return Xr()}startOf(){return Xr()}endOf(){return Xr()}}var Wd={_date:Fo};function qd(l,r,i,t){const{controller:d,data:a,_sorted:n}=l,o=d._cachedMeta.iScale;if(o&&r===o.axis&&r!=="r"&&n&&a.length){const s=o._reversePixels?cu:Or;if(t){if(d._sharedOptions){const u=a[0],b=typeof u.getRange=="function"&&u.getRange(r);if(b){const y=s(a,r,i-b),c=s(a,r,i+b);return{lo:y.lo,hi:c.hi}}}}else return s(a,r,i)}return{lo:0,hi:a.length-1}}function Kn(l,r,i,t,d){const a=l.getSortedVisibleDatasetMetas(),n=i[r];for(let o=0,s=a.length;o<s;++o){const{index:u,data:b}=a[o],{lo:y,hi:c}=qd(a[o],r,n,d);for(let h=y;h<=c;++h){const f=b[h];f.skip||t(f,u,h)}}}function Xd(l){const r=l.indexOf("x")!==-1,i=l.indexOf("y")!==-1;return function(t,d){const a=r?Math.abs(t.x-d.x):0,n=i?Math.abs(t.y-d.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(n,2))}}function eo(l,r,i,t,d){const a=[];return!d&&!l.isPointInArea(r)||Kn(l,i,r,function(o,s,u){!d&&!Pr(o,l.chartArea,0)||o.inRange(r.x,r.y,t)&&a.push({element:o,datasetIndex:s,index:u})},!0),a}function Yd(l,r,i,t){let d=[];function a(n,o,s){const{startAngle:u,endAngle:b}=n.getProps(["startAngle","endAngle"],t),{angle:y}=il(n,{x:r.x,y:r.y});Hn(y,u,b)&&d.push({element:n,datasetIndex:o,index:s})}return Kn(l,i,r,a),d}function Zd(l,r,i,t,d,a){let n=[];const o=Xd(i);let s=Number.POSITIVE_INFINITY;function u(b,y,c){const h=b.inRange(r.x,r.y,d);if(t&&!h)return;const f=b.getCenterPoint(d);if(!(!!a||l.isPointInArea(f))&&!h)return;const m=o(r,f);m<s?(n=[{element:b,datasetIndex:y,index:c}],s=m):m===s&&n.push({element:b,datasetIndex:y,index:c})}return Kn(l,i,r,u),n}function to(l,r,i,t,d,a){return!a&&!l.isPointInArea(r)?[]:i==="r"&&!t?Yd(l,r,i,d):Zd(l,r,i,t,d,a)}function oa(l,r,i,t,d){const a=[],n=i==="x"?"inXRange":"inYRange";let o=!1;return Kn(l,i,r,(s,u,b)=>{s[n](r[i],d)&&(a.push({element:s,datasetIndex:u,index:b}),o=o||s.inRange(r.x,r.y,d))}),t&&!o?[]:a}var $d={evaluateInteractionItems:Kn,modes:{index(l,r,i,t){const d=Zr(r,l),a=i.axis||"x",n=i.includeInvisible||!1,o=i.intersect?eo(l,d,a,t,n):to(l,d,a,!1,t,n),s=[];return o.length?(l.getSortedVisibleDatasetMetas().forEach(u=>{const b=o[0].index,y=u.data[b];y&&!y.skip&&s.push({element:y,datasetIndex:u.index,index:b})}),s):[]},dataset(l,r,i,t){const d=Zr(r,l),a=i.axis||"xy",n=i.includeInvisible||!1;let o=i.intersect?eo(l,d,a,t,n):to(l,d,a,!1,t,n);if(o.length>0){const s=o[0].datasetIndex,u=l.getDatasetMeta(s).data;o=[];for(let b=0;b<u.length;++b)o.push({element:u[b],datasetIndex:s,index:b})}return o},point(l,r,i,t){const d=Zr(r,l),a=i.axis||"xy",n=i.includeInvisible||!1;return eo(l,d,a,t,n)},nearest(l,r,i,t){const d=Zr(r,l),a=i.axis||"xy",n=i.includeInvisible||!1;return to(l,d,a,i.intersect,t,n)},x(l,r,i,t){const d=Zr(r,l);return oa(l,d,"x",i.intersect,t)},y(l,r,i,t){const d=Zr(r,l);return oa(l,d,"y",i.intersect,t)}}};const Pl=["left","top","right","bottom"];function kn(l,r){return l.filter(i=>i.pos===r)}function ia(l,r){return l.filter(i=>Pl.indexOf(i.pos)===-1&&i.box.axis===r)}function Cn(l,r){return l.sort((i,t)=>{const d=r?t:i,a=r?i:t;return d.weight===a.weight?d.index-a.index:d.weight-a.weight})}function Kd(l){const r=[];let i,t,d,a,n,o;for(i=0,t=(l||[]).length;i<t;++i)d=l[i],{position:a,options:{stack:n,stackWeight:o=1}}=d,r.push({index:i,box:d,pos:a,horizontal:d.isHorizontal(),weight:d.weight,stack:n&&a+n,stackWeight:o});return r}function Qd(l){const r={};for(const i of l){const{stack:t,pos:d,stackWeight:a}=i;if(!t||!Pl.includes(d))continue;const n=r[t]||(r[t]={count:0,placed:0,weight:0,size:0});n.count++,n.weight+=a}return r}function Jd(l,r){const i=Qd(l),{vBoxMaxWidth:t,hBoxMaxHeight:d}=r;let a,n,o;for(a=0,n=l.length;a<n;++a){o=l[a];const{fullSize:s}=o.box,u=i[o.stack],b=u&&o.stackWeight/u.weight;o.horizontal?(o.width=b?b*t:s&&r.availableWidth,o.height=d):(o.width=t,o.height=b?b*d:s&&r.availableHeight)}return i}function eh(l){const r=Kd(l),i=Cn(r.filter(u=>u.box.fullSize),!0),t=Cn(kn(r,"left"),!0),d=Cn(kn(r,"right")),a=Cn(kn(r,"top"),!0),n=Cn(kn(r,"bottom")),o=ia(r,"x"),s=ia(r,"y");return{fullSize:i,leftAndTop:t.concat(a),rightAndBottom:d.concat(s).concat(n).concat(o),chartArea:kn(r,"chartArea"),vertical:t.concat(d).concat(s),horizontal:a.concat(n).concat(o)}}function aa(l,r,i,t){return Math.max(l[i],r[i])+Math.max(l[t],r[t])}function Ll(l,r){l.top=Math.max(l.top,r.top),l.left=Math.max(l.left,r.left),l.bottom=Math.max(l.bottom,r.bottom),l.right=Math.max(l.right,r.right)}function th(l,r,i,t){const{pos:d,box:a}=i,n=l.maxPadding;if(!ut(d)){i.size&&(l[d]-=i.size);const y=t[i.stack]||{size:0,count:1};y.size=Math.max(y.size,i.horizontal?a.height:a.width),i.size=y.size/y.count,l[d]+=i.size}a.getPadding&&Ll(n,a.getPadding());const o=Math.max(0,r.outerWidth-aa(n,l,"left","right")),s=Math.max(0,r.outerHeight-aa(n,l,"top","bottom")),u=o!==l.w,b=s!==l.h;return l.w=o,l.h=s,i.horizontal?{same:u,other:b}:{same:b,other:u}}function rh(l){const r=l.maxPadding;function i(t){const d=Math.max(r[t]-l[t],0);return l[t]+=d,d}l.y+=i("top"),l.x+=i("left"),i("right"),i("bottom")}function nh(l,r){const i=r.maxPadding;function t(d){const a={left:0,top:0,right:0,bottom:0};return d.forEach(n=>{a[n]=Math.max(r[n],i[n])}),a}return t(l?["left","right"]:["top","bottom"])}function Dn(l,r,i,t){const d=[];let a,n,o,s,u,b;for(a=0,n=l.length,u=0;a<n;++a){o=l[a],s=o.box,s.update(o.width||r.w,o.height||r.h,nh(o.horizontal,r));const{same:y,other:c}=th(r,i,o,t);u|=y&&d.length,b=b||c,s.fullSize||d.push(o)}return u&&Dn(d,r,i,t)||b}function ds(l,r,i,t,d){l.top=i,l.left=r,l.right=r+t,l.bottom=i+d,l.width=t,l.height=d}function la(l,r,i,t){const d=i.padding;let{x:a,y:n}=r;for(const o of l){const s=o.box,u=t[o.stack]||{count:1,placed:0,weight:1},b=o.stackWeight/u.weight||1;if(o.horizontal){const y=r.w*b,c=u.size||s.height;zn(u.start)&&(n=u.start),s.fullSize?ds(s,d.left,n,i.outerWidth-d.right-d.left,c):ds(s,r.left+u.placed,n,y,c),u.start=n,u.placed+=y,n=s.bottom}else{const y=r.h*b,c=u.size||s.width;zn(u.start)&&(a=u.start),s.fullSize?ds(s,a,d.top,c,i.outerHeight-d.bottom-d.top):ds(s,a,r.top+u.placed,c,y),u.start=a,u.placed+=y,a=s.right}}r.x=a,r.y=n}var rr={addBox(l,r){l.boxes||(l.boxes=[]),r.fullSize=r.fullSize||!1,r.position=r.position||"top",r.weight=r.weight||0,r._layers=r._layers||function(){return[{z:0,draw(i){r.draw(i)}}]},l.boxes.push(r)},removeBox(l,r){const i=l.boxes?l.boxes.indexOf(r):-1;i!==-1&&l.boxes.splice(i,1)},configure(l,r,i){r.fullSize=i.fullSize,r.position=i.position,r.weight=i.weight},update(l,r,i,t){if(!l)return;const d=nr(l.options.layout.padding),a=Math.max(r-d.width,0),n=Math.max(i-d.height,0),o=eh(l.boxes),s=o.vertical,u=o.horizontal;gt(l.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const b=s.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,y=Object.freeze({outerWidth:r,outerHeight:i,padding:d,availableWidth:a,availableHeight:n,vBoxMaxWidth:a/2/b,hBoxMaxHeight:n/2}),c=Object.assign({},d);Ll(c,nr(t));const h=Object.assign({maxPadding:c,w:a,h:n,x:d.left,y:d.top},d),f=Jd(s.concat(u),y);Dn(o.fullSize,h,y,f),Dn(s,h,y,f),Dn(u,h,y,f)&&Dn(s,h,y,f),rh(h),la(o.leftAndTop,h,y,f),h.x+=h.w,h.y+=h.h,la(o.rightAndBottom,h,y,f),l.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},gt(o.chartArea,p=>{const m=p.box;Object.assign(m,l.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class Al{acquireContext(r,i){}releaseContext(r){return!1}addEventListener(r,i,t){}removeEventListener(r,i,t){}getDevicePixelRatio(){return 1}getMaximumSize(r,i,t,d){return i=Math.max(0,i||r.width),t=t||r.height,{width:i,height:Math.max(0,d?Math.floor(i/d):t)}}isAttached(r){return!0}updateConfig(r){}}class sh extends Al{acquireContext(r){return r&&r.getContext&&r.getContext("2d")||null}updateConfig(r){r.options.animation=!1}}const js="$chartjs",oh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ca=l=>l===null||l==="";function ih(l,r){const i=l.style,t=l.getAttribute("height"),d=l.getAttribute("width");if(l[js]={initial:{height:t,width:d,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ca(d)){const a=Wi(l,"width");a!==void 0&&(l.width=a)}if(ca(t))if(l.style.height==="")l.height=l.width/(r||2);else{const a=Wi(l,"height");a!==void 0&&(l.height=a)}return l}const Rl=rd?{passive:!0}:!1;function ah(l,r,i){l.addEventListener(r,i,Rl)}function lh(l,r,i){l.canvas.removeEventListener(r,i,Rl)}function ch(l,r){const i=oh[l.type]||l.type,{x:t,y:d}=Zr(l,r);return{type:i,chart:r,native:l,x:t!==void 0?t:null,y:d!==void 0?d:null}}function Ps(l,r){for(const i of l)if(i===r||i.contains(r))return!0}function uh(l,r,i){const t=l.canvas,d=new MutationObserver(a=>{let n=!1;for(const o of a)n=n||Ps(o.addedNodes,t),n=n&&!Ps(o.removedNodes,t);n&&i()});return d.observe(document,{childList:!0,subtree:!0}),d}function dh(l,r,i){const t=l.canvas,d=new MutationObserver(a=>{let n=!1;for(const o of a)n=n||Ps(o.removedNodes,t),n=n&&!Ps(o.addedNodes,t);n&&i()});return d.observe(document,{childList:!0,subtree:!0}),d}const qn=new Map;let ua=0;function Dl(){const l=window.devicePixelRatio;l!==ua&&(ua=l,qn.forEach((r,i)=>{i.currentDevicePixelRatio!==l&&r()}))}function hh(l,r){qn.size||window.addEventListener("resize",Dl),qn.set(l,r)}function fh(l){qn.delete(l),qn.size||window.removeEventListener("resize",Dl)}function ph(l,r,i){const t=l.canvas,d=t&&Do(t);if(!d)return;const a=ul((o,s)=>{const u=d.clientWidth;i(o,s),u<d.clientWidth&&i()},window),n=new ResizeObserver(o=>{const s=o[0],u=s.contentRect.width,b=s.contentRect.height;u===0&&b===0||a(u,b)});return n.observe(d),hh(l,a),n}function ro(l,r,i){i&&i.disconnect(),r==="resize"&&fh(l)}function mh(l,r,i){const t=l.canvas,d=ul(a=>{l.ctx!==null&&i(ch(a,l))},l);return ah(t,r,d),d}class yh extends Al{acquireContext(r,i){const t=r&&r.getContext&&r.getContext("2d");return t&&t.canvas===r?(ih(r,i),t):null}releaseContext(r){const i=r.canvas;if(!i[js])return!1;const t=i[js].initial;["height","width"].forEach(a=>{const n=t[a];pt(n)?i.removeAttribute(a):i.setAttribute(a,n)});const d=t.style||{};return Object.keys(d).forEach(a=>{i.style[a]=d[a]}),i.width=i.width,delete i[js],!0}addEventListener(r,i,t){this.removeEventListener(r,i);const d=r.$proxies||(r.$proxies={}),n={attach:uh,detach:dh,resize:ph}[i]||mh;d[i]=n(r,i,t)}removeEventListener(r,i){const t=r.$proxies||(r.$proxies={}),d=t[i];if(!d)return;({attach:ro,detach:ro,resize:ro}[i]||lh)(r,i,d),t[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(r,i,t,d){return td(r,i,t,d)}isAttached(r){const i=Do(r);return!!(i&&i.isConnected)}}function gh(l){return!Ro()||typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas?sh:yh}class Lr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(r){const{x:i,y:t}=this.getProps(["x","y"],r);return{x:i,y:t}}hasValue(){return pn(this.x)&&pn(this.y)}getProps(r,i){const t=this.$animations;if(!i||!t)return this;const d={};return r.forEach(a=>{d[a]=t[a]&&t[a].active()?t[a]._to:this[a]}),d}}function bh(l,r){const i=l.options.ticks,t=vh(l),d=Math.min(i.maxTicksLimit||t,t),a=i.major.enabled?xh(r):[],n=a.length,o=a[0],s=a[n-1],u=[];if(n>d)return wh(r,u,a,n/d),u;const b=_h(a,r,d);if(n>0){let y,c;const h=n>1?Math.round((s-o)/(n-1)):null;for(hs(r,u,b,pt(h)?0:o-h,o),y=0,c=n-1;y<c;y++)hs(r,u,b,a[y],a[y+1]);return hs(r,u,b,s,pt(h)?r.length:s+h),u}return hs(r,u,b),u}function vh(l){const r=l.options.offset,i=l._tickSize(),t=l._length/i+(r?0:1),d=l._maxLength/i;return Math.floor(Math.min(t,d))}function _h(l,r,i){const t=jh(l),d=r.length/i;if(!t)return Math.max(d,1);const a=ou(t);for(let n=0,o=a.length-1;n<o;n++){const s=a[n];if(s>d)return s}return Math.max(d,1)}function xh(l){const r=[];let i,t;for(i=0,t=l.length;i<t;i++)l[i].major&&r.push(i);return r}function wh(l,r,i,t){let d=0,a=i[0],n;for(t=Math.ceil(t),n=0;n<l.length;n++)n===a&&(r.push(l[n]),d++,a=i[d*t])}function hs(l,r,i,t,d){const a=at(t,0),n=Math.min(at(d,l.length),l.length);let o=0,s,u,b;for(i=Math.ceil(i),d&&(s=d-t,i=s/Math.floor(s/i)),b=a;b<0;)o++,b=Math.round(a+o*i);for(u=Math.max(a,0);u<n;u++)u===b&&(r.push(l[u]),o++,b=Math.round(a+o*i))}function jh(l){const r=l.length;let i,t;if(r<2)return!1;for(t=l[0],i=1;i<r;++i)if(l[i]-l[i-1]!==t)return!1;return t}const Sh=l=>l==="left"?"right":l==="right"?"left":l,da=(l,r,i)=>r==="top"||r==="left"?l[r]+i:l[r]-i,ha=(l,r)=>Math.min(r||l,l);function fa(l,r){const i=[],t=l.length/r,d=l.length;let a=0;for(;a<d;a+=t)i.push(l[Math.floor(a)]);return i}function Mh(l,r,i){const t=l.ticks.length,d=Math.min(r,t-1),a=l._startPixel,n=l._endPixel,o=1e-6;let s=l.getPixelForTick(d),u;if(!(i&&(t===1?u=Math.max(s-a,n-s):r===0?u=(l.getPixelForTick(1)-s)/2:u=(s-l.getPixelForTick(d-1))/2,s+=d<r?u:-u,s<a-o||s>n+o)))return s}function Th(l,r){gt(l,i=>{const t=i.gc,d=t.length/2;let a;if(d>r){for(a=0;a<d;++a)delete i.data[t[a]];t.splice(0,d)}})}function On(l){return l.drawTicks?l.tickLength:0}function pa(l,r){if(!l.display)return 0;const i=Vt(l.font,r),t=nr(l.padding);return(Et(l.text)?l.text.length:1)*i.lineHeight+t.height}function Eh(l,r){return zr(l,{scale:r,type:"scale"})}function kh(l,r,i){return zr(l,{tick:i,index:r,type:"tick"})}function Ch(l,r,i){let t=ko(l);return(i&&r!=="right"||!i&&r==="right")&&(t=Sh(t)),t}function Oh(l,r,i,t){const{top:d,left:a,bottom:n,right:o,chart:s}=l,{chartArea:u,scales:b}=s;let y=0,c,h,f;const p=n-d,m=o-a;if(l.isHorizontal()){if(h=tr(t,a,o),ut(i)){const v=Object.keys(i)[0],_=i[v];f=b[v].getPixelForValue(_)+p-r}else i==="center"?f=(u.bottom+u.top)/2+p-r:f=da(l,i,r);c=o-a}else{if(ut(i)){const v=Object.keys(i)[0],_=i[v];h=b[v].getPixelForValue(_)-m+r}else i==="center"?h=(u.left+u.right)/2-m+r:h=da(l,i,r);f=tr(t,n,d),y=i==="left"?-Ft:Ft}return{titleX:h,titleY:f,maxWidth:c,rotation:y}}class rn extends Lr{constructor(r){super(),this.id=r.id,this.type=r.type,this.options=void 0,this.ctx=r.ctx,this.chart=r.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(r){this.options=r.setContext(this.getContext()),this.axis=r.axis,this._userMin=this.parse(r.min),this._userMax=this.parse(r.max),this._suggestedMin=this.parse(r.suggestedMin),this._suggestedMax=this.parse(r.suggestedMax)}parse(r,i){return r}getUserBounds(){let{_userMin:r,_userMax:i,_suggestedMin:t,_suggestedMax:d}=this;return r=lr(r,Number.POSITIVE_INFINITY),i=lr(i,Number.NEGATIVE_INFINITY),t=lr(t,Number.POSITIVE_INFINITY),d=lr(d,Number.NEGATIVE_INFINITY),{min:lr(r,t),max:lr(i,d),minDefined:Rt(r),maxDefined:Rt(i)}}getMinMax(r){let{min:i,max:t,minDefined:d,maxDefined:a}=this.getUserBounds(),n;if(d&&a)return{min:i,max:t};const o=this.getMatchingVisibleMetas();for(let s=0,u=o.length;s<u;++s)n=o[s].controller.getMinMax(this,r),d||(i=Math.min(i,n.min)),a||(t=Math.max(t,n.max));return i=a&&i>t?t:i,t=d&&i>t?i:t,{min:lr(i,lr(t,i)),max:lr(t,lr(i,t))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const r=this.chart.data;return this.options.labels||(this.isHorizontal()?r.xLabels:r.yLabels)||r.labels||[]}getLabelItems(r=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(r))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jt(this.options.beforeUpdate,[this])}update(r,i,t){const{beginAtZero:d,grace:a,ticks:n}=this.options,o=n.sampleSize;this.beforeUpdate(),this.maxWidth=r,this.maxHeight=i,this._margins=t=Object.assign({left:0,right:0,top:0,bottom:0},t),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+t.left+t.right:this.height+t.top+t.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Au(this,a,d),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=o<this.ticks.length;this._convertTicksToLabels(s?fa(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||n.source==="auto")&&(this.ticks=bh(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let r=this.options.reverse,i,t;this.isHorizontal()?(i=this.left,t=this.right):(i=this.top,t=this.bottom,r=!r),this._startPixel=i,this._endPixel=t,this._reversePixels=r,this._length=t-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jt(this.options.afterUpdate,[this])}beforeSetDimensions(){jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jt(this.options.afterSetDimensions,[this])}_callHooks(r){this.chart.notifyPlugins(r,this.getContext()),jt(this.options[r],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(r){const i=this.options.ticks;let t,d,a;for(t=0,d=r.length;t<d;t++)a=r[t],a.label=jt(i.callback,[a.value,t,r],this)}afterTickToLabelConversion(){jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const r=this.options,i=r.ticks,t=ha(this.ticks.length,r.ticks.maxTicksLimit),d=i.minRotation||0,a=i.maxRotation;let n=d,o,s,u;if(!this._isVisible()||!i.display||d>=a||t<=1||!this.isHorizontal()){this.labelRotation=d;return}const b=this._getLabelSizes(),y=b.widest.width,c=b.highest.height,h=Xt(this.chart.width-y,0,this.maxWidth);o=r.offset?this.maxWidth/t:h/(t-1),y+6>o&&(o=h/(t-(r.offset?.5:1)),s=this.maxHeight-On(r.grid)-i.padding-pa(r.title,this.chart.options.font),u=Math.sqrt(y*y+c*c),n=To(Math.min(Math.asin(Xt((b.highest.height+6)/o,-1,1)),Math.asin(Xt(s/u,-1,1))-Math.asin(Xt(c/u,-1,1)))),n=Math.max(d,Math.min(a,n))),this.labelRotation=n}afterCalculateLabelRotation(){jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jt(this.options.beforeFit,[this])}fit(){const r={width:0,height:0},{chart:i,options:{ticks:t,title:d,grid:a}}=this,n=this._isVisible(),o=this.isHorizontal();if(n){const s=pa(d,i.options.font);if(o?(r.width=this.maxWidth,r.height=On(a)+s):(r.height=this.maxHeight,r.width=On(a)+s),t.display&&this.ticks.length){const{first:u,last:b,widest:y,highest:c}=this._getLabelSizes(),h=t.padding*2,f=pr(this.labelRotation),p=Math.cos(f),m=Math.sin(f);if(o){const v=t.mirror?0:m*y.width+p*c.height;r.height=Math.min(this.maxHeight,r.height+v+h)}else{const v=t.mirror?0:p*y.width+m*c.height;r.width=Math.min(this.maxWidth,r.width+v+h)}this._calculatePadding(u,b,m,p)}}this._handleMargins(),o?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=r.height):(this.width=r.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(r,i,t,d){const{ticks:{align:a,padding:n},position:o}=this.options,s=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,h=0;s?u?(c=d*r.width,h=t*i.height):(c=t*r.height,h=d*i.width):a==="start"?h=i.width:a==="end"?c=r.width:a!=="inner"&&(c=r.width/2,h=i.width/2),this.paddingLeft=Math.max((c-b+n)*this.width/(this.width-b),0),this.paddingRight=Math.max((h-y+n)*this.width/(this.width-y),0)}else{let b=i.height/2,y=r.height/2;a==="start"?(b=0,y=r.height):a==="end"&&(b=i.height,y=0),this.paddingTop=b+n,this.paddingBottom=y+n}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jt(this.options.afterFit,[this])}isHorizontal(){const{axis:r,position:i}=this.options;return i==="top"||i==="bottom"||r==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(r){this.beforeTickToLabelConversion(),this.generateTickLabels(r);let i,t;for(i=0,t=r.length;i<t;i++)pt(r[i].label)&&(r.splice(i,1),t--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let r=this._labelSizes;if(!r){const i=this.options.ticks.sampleSize;let t=this.ticks;i<t.length&&(t=fa(t,i)),this._labelSizes=r=this._computeLabelSizes(t,t.length,this.options.ticks.maxTicksLimit)}return r}_computeLabelSizes(r,i,t){const{ctx:d,_longestTextCache:a}=this,n=[],o=[],s=Math.floor(i/ha(i,t));let u=0,b=0,y,c,h,f,p,m,v,_,g,x,j;for(y=0;y<i;y+=s){if(f=r[y].label,p=this._resolveTickFontOptions(y),d.font=m=p.string,v=a[m]=a[m]||{data:{},gc:[]},_=p.lineHeight,g=x=0,!pt(f)&&!Et(f))g=Cs(d,v.data,v.gc,g,f),x=_;else if(Et(f))for(c=0,h=f.length;c<h;++c)j=f[c],!pt(j)&&!Et(j)&&(g=Cs(d,v.data,v.gc,g,j),x+=_);n.push(g),o.push(x),u=Math.max(g,u),b=Math.max(x,b)}Th(a,i);const E=n.indexOf(u),M=o.indexOf(b),T=O=>({width:n[O]||0,height:o[O]||0});return{first:T(0),last:T(i-1),widest:T(E),highest:T(M),widths:n,heights:o}}getLabelForValue(r){return r}getPixelForValue(r,i){return NaN}getValueForPixel(r){}getPixelForTick(r){const i=this.ticks;return r<0||r>i.length-1?null:this.getPixelForValue(i[r].value)}getPixelForDecimal(r){this._reversePixels&&(r=1-r);const i=this._startPixel+r*this._length;return lu(this._alignToPixels?qr(this.chart,i,0):i)}getDecimalForPixel(r){const i=(r-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:r,max:i}=this;return r<0&&i<0?i:r>0&&i>0?r:0}getContext(r){const i=this.ticks||[];if(r>=0&&r<i.length){const t=i[r];return t.$context||(t.$context=kh(this.getContext(),r,t))}return this.$context||(this.$context=Eh(this.chart.getContext(),this))}_tickSize(){const r=this.options.ticks,i=pr(this.labelRotation),t=Math.abs(Math.cos(i)),d=Math.abs(Math.sin(i)),a=this._getLabelSizes(),n=r.autoSkipPadding||0,o=a?a.widest.width+n:0,s=a?a.highest.height+n:0;return this.isHorizontal()?s*t>o*d?o/t:s/d:s*d<o*t?s/t:o/d}_isVisible(){const r=this.options.display;return r!=="auto"?!!r:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(r){const i=this.axis,t=this.chart,d=this.options,{grid:a,position:n,border:o}=d,s=a.offset,u=this.isHorizontal(),y=this.ticks.length+(s?1:0),c=On(a),h=[],f=o.setContext(this.getContext()),p=f.display?f.width:0,m=p/2,v=function(V){return qr(t,V,p)};let _,g,x,j,E,M,T,O,R,k,D,L;if(n==="top")_=v(this.bottom),M=this.bottom-c,O=_-m,k=v(r.top)+m,L=r.bottom;else if(n==="bottom")_=v(this.top),k=r.top,L=v(r.bottom)-m,M=_+m,O=this.top+c;else if(n==="left")_=v(this.right),E=this.right-c,T=_-m,R=v(r.left)+m,D=r.right;else if(n==="right")_=v(this.left),R=r.left,D=v(r.right)-m,E=_+m,T=this.left+c;else if(i==="x"){if(n==="center")_=v((r.top+r.bottom)/2+.5);else if(ut(n)){const V=Object.keys(n)[0],q=n[V];_=v(this.chart.scales[V].getPixelForValue(q))}k=r.top,L=r.bottom,M=_+m,O=M+c}else if(i==="y"){if(n==="center")_=v((r.left+r.right)/2);else if(ut(n)){const V=Object.keys(n)[0],q=n[V];_=v(this.chart.scales[V].getPixelForValue(q))}E=_-m,T=E-c,R=r.left,D=r.right}const B=at(d.ticks.maxTicksLimit,y),F=Math.max(1,Math.ceil(y/B));for(g=0;g<y;g+=F){const V=this.getContext(g),q=a.setContext(V),G=o.setContext(V),W=q.lineWidth,$=q.color,K=G.dash||[],N=G.dashOffset,A=q.tickWidth,I=q.tickColor,z=q.tickBorderDash||[],Y=q.tickBorderDashOffset;x=Mh(this,g,s),x!==void 0&&(j=qr(t,x,W),u?E=T=R=D=j:M=O=k=L=j,h.push({tx1:E,ty1:M,tx2:T,ty2:O,x1:R,y1:k,x2:D,y2:L,width:W,color:$,borderDash:K,borderDashOffset:N,tickWidth:A,tickColor:I,tickBorderDash:z,tickBorderDashOffset:Y}))}return this._ticksLength=y,this._borderValue=_,h}_computeLabelItems(r){const i=this.axis,t=this.options,{position:d,ticks:a}=t,n=this.isHorizontal(),o=this.ticks,{align:s,crossAlign:u,padding:b,mirror:y}=a,c=On(t.grid),h=c+b,f=y?-b:h,p=-pr(this.labelRotation),m=[];let v,_,g,x,j,E,M,T,O,R,k,D,L="middle";if(d==="top")E=this.bottom-f,M=this._getXAxisLabelAlignment();else if(d==="bottom")E=this.top+f,M=this._getXAxisLabelAlignment();else if(d==="left"){const F=this._getYAxisLabelAlignment(c);M=F.textAlign,j=F.x}else if(d==="right"){const F=this._getYAxisLabelAlignment(c);M=F.textAlign,j=F.x}else if(i==="x"){if(d==="center")E=(r.top+r.bottom)/2+h;else if(ut(d)){const F=Object.keys(d)[0],V=d[F];E=this.chart.scales[F].getPixelForValue(V)+h}M=this._getXAxisLabelAlignment()}else if(i==="y"){if(d==="center")j=(r.left+r.right)/2-h;else if(ut(d)){const F=Object.keys(d)[0],V=d[F];j=this.chart.scales[F].getPixelForValue(V)}M=this._getYAxisLabelAlignment(c).textAlign}i==="y"&&(s==="start"?L="top":s==="end"&&(L="bottom"));const B=this._getLabelSizes();for(v=0,_=o.length;v<_;++v){g=o[v],x=g.label;const F=a.setContext(this.getContext(v));T=this.getPixelForTick(v)+a.labelOffset,O=this._resolveTickFontOptions(v),R=O.lineHeight,k=Et(x)?x.length:1;const V=k/2,q=F.color,G=F.textStrokeColor,W=F.textStrokeWidth;let $=M;n?(j=T,M==="inner"&&(v===_-1?$=this.options.reverse?"left":"right":v===0?$=this.options.reverse?"right":"left":$="center"),d==="top"?u==="near"||p!==0?D=-k*R+R/2:u==="center"?D=-B.highest.height/2-V*R+R:D=-B.highest.height+R/2:u==="near"||p!==0?D=R/2:u==="center"?D=B.highest.height/2-V*R:D=B.highest.height-k*R,y&&(D*=-1),p!==0&&!F.showLabelBackdrop&&(j+=R/2*Math.sin(p))):(E=T,D=(1-k)*R/2);let K;if(F.showLabelBackdrop){const N=nr(F.backdropPadding),A=B.heights[v],I=B.widths[v];let z=D-N.top,Y=0-N.left;switch(L){case"middle":z-=A/2;break;case"bottom":z-=A;break}switch(M){case"center":Y-=I/2;break;case"right":Y-=I;break;case"inner":v===_-1?Y-=I:v>0&&(Y-=I/2);break}K={left:Y,top:z,width:I+N.width,height:A+N.height,color:F.backdropColor}}m.push({label:x,font:O,textOffset:D,options:{rotation:p,color:q,strokeColor:G,strokeWidth:W,textAlign:$,textBaseline:L,translation:[j,E],backdrop:K}})}return m}_getXAxisLabelAlignment(){const{position:r,ticks:i}=this.options;if(-pr(this.labelRotation))return r==="top"?"left":"right";let d="center";return i.align==="start"?d="left":i.align==="end"?d="right":i.align==="inner"&&(d="inner"),d}_getYAxisLabelAlignment(r){const{position:i,ticks:{crossAlign:t,mirror:d,padding:a}}=this.options,n=this._getLabelSizes(),o=r+a,s=n.widest.width;let u,b;return i==="left"?d?(b=this.right+a,t==="near"?u="left":t==="center"?(u="center",b+=s/2):(u="right",b+=s)):(b=this.right-o,t==="near"?u="right":t==="center"?(u="center",b-=s/2):(u="left",b=this.left)):i==="right"?d?(b=this.left+a,t==="near"?u="right":t==="center"?(u="center",b-=s/2):(u="left",b-=s)):(b=this.left+o,t==="near"?u="left":t==="center"?(u="center",b+=s/2):(u="right",b=this.right)):u="right",{textAlign:u,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const r=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:r.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:r.width}}drawBackground(){const{ctx:r,options:{backgroundColor:i},left:t,top:d,width:a,height:n}=this;i&&(r.save(),r.fillStyle=i,r.fillRect(t,d,a,n),r.restore())}getLineWidthForValue(r){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const d=this.ticks.findIndex(a=>a.value===r);return d>=0?i.setContext(this.getContext(d)).lineWidth:0}drawGrid(r){const i=this.options.grid,t=this.ctx,d=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(r));let a,n;const o=(s,u,b)=>{!b.width||!b.color||(t.save(),t.lineWidth=b.width,t.strokeStyle=b.color,t.setLineDash(b.borderDash||[]),t.lineDashOffset=b.borderDashOffset,t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(u.x,u.y),t.stroke(),t.restore())};if(i.display)for(a=0,n=d.length;a<n;++a){const s=d[a];i.drawOnChartArea&&o({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),i.drawTicks&&o({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}drawBorder(){const{chart:r,ctx:i,options:{border:t,grid:d}}=this,a=t.setContext(this.getContext()),n=t.display?a.width:0;if(!n)return;const o=d.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let u,b,y,c;this.isHorizontal()?(u=qr(r,this.left,n)-n/2,b=qr(r,this.right,o)+o/2,y=c=s):(y=qr(r,this.top,n)-n/2,c=qr(r,this.bottom,o)+o/2,u=b=s),i.save(),i.lineWidth=a.width,i.strokeStyle=a.color,i.beginPath(),i.moveTo(u,y),i.lineTo(b,c),i.stroke(),i.restore()}drawLabels(r){if(!this.options.ticks.display)return;const t=this.ctx,d=this._computeLabelArea();d&&Is(t,d);const a=this.getLabelItems(r);for(const n of a){const o=n.options,s=n.font,u=n.label,b=n.textOffset;tn(t,u,0,b,s,o)}d&&Fs(t)}drawTitle(){const{ctx:r,options:{position:i,title:t,reverse:d}}=this;if(!t.display)return;const a=Vt(t.font),n=nr(t.padding),o=t.align;let s=a.lineHeight/2;i==="bottom"||i==="center"||ut(i)?(s+=n.bottom,Et(t.text)&&(s+=a.lineHeight*(t.text.length-1))):s+=n.top;const{titleX:u,titleY:b,maxWidth:y,rotation:c}=Oh(this,s,i,o);tn(r,t.text,0,0,a,{color:t.color,maxWidth:y,rotation:c,textAlign:Ch(o,i,d),textBaseline:"middle",translation:[u,b]})}draw(r){this._isVisible()&&(this.drawBackground(),this.drawGrid(r),this.drawBorder(),this.drawTitle(),this.drawLabels(r))}_layers(){const r=this.options,i=r.ticks&&r.ticks.z||0,t=at(r.grid&&r.grid.z,-1),d=at(r.border&&r.border.z,0);return!this._isVisible()||this.draw!==rn.prototype.draw?[{z:i,draw:a=>{this.draw(a)}}]:[{z:t,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:d,draw:()=>{this.drawBorder()}},{z:i,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(r){const i=this.chart.getSortedVisibleDatasetMetas(),t=this.axis+"AxisID",d=[];let a,n;for(a=0,n=i.length;a<n;++a){const o=i[a];o[t]===this.id&&(!r||o.type===r)&&d.push(o)}return d}_resolveTickFontOptions(r){const i=this.options.ticks.setContext(this.getContext(r));return Vt(i.font)}_maxDigits(){const r=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/r}}class fs{constructor(r,i,t){this.type=r,this.scope=i,this.override=t,this.items=Object.create(null)}isForType(r){return Object.prototype.isPrototypeOf.call(this.type.prototype,r.prototype)}register(r){const i=Object.getPrototypeOf(r);let t;Ah(i)&&(t=this.register(i));const d=this.items,a=r.id,n=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+r);return a in d||(d[a]=r,Ph(r,n,t),this.override&&Dt.override(r.id,r.overrides)),n}get(r){return this.items[r]}unregister(r){const i=this.items,t=r.id,d=this.scope;t in i&&delete i[t],d&&t in Dt[d]&&(delete Dt[d][t],this.override&&delete en[t])}}function Ph(l,r,i){const t=Vn(Object.create(null),[i?Dt.get(i):{},Dt.get(r),l.defaults]);Dt.set(r,t),l.defaultRoutes&&Lh(r,l.defaultRoutes),l.descriptors&&Dt.describe(r,l.descriptors)}function Lh(l,r){Object.keys(r).forEach(i=>{const t=i.split("."),d=t.pop(),a=[l].concat(t).join("."),n=r[i].split("."),o=n.pop(),s=n.join(".");Dt.route(a,d,s,o)})}function Ah(l){return"id"in l&&"defaults"in l}class Rh{constructor(){this.controllers=new fs(Hr,"datasets",!0),this.elements=new fs(Lr,"elements"),this.plugins=new fs(Object,"plugins"),this.scales=new fs(rn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...r){this._each("register",r)}remove(...r){this._each("unregister",r)}addControllers(...r){this._each("register",r,this.controllers)}addElements(...r){this._each("register",r,this.elements)}addPlugins(...r){this._each("register",r,this.plugins)}addScales(...r){this._each("register",r,this.scales)}getController(r){return this._get(r,this.controllers,"controller")}getElement(r){return this._get(r,this.elements,"element")}getPlugin(r){return this._get(r,this.plugins,"plugin")}getScale(r){return this._get(r,this.scales,"scale")}removeControllers(...r){this._each("unregister",r,this.controllers)}removeElements(...r){this._each("unregister",r,this.elements)}removePlugins(...r){this._each("unregister",r,this.plugins)}removeScales(...r){this._each("unregister",r,this.scales)}_each(r,i,t){[...i].forEach(d=>{const a=t||this._getRegistryForType(d);t||a.isForType(d)||a===this.plugins&&d.id?this._exec(r,a,d):gt(d,n=>{const o=t||this._getRegistryForType(n);this._exec(r,o,n)})})}_exec(r,i,t){const d=Mo(r);jt(t["before"+d],[],t),i[r](t),jt(t["after"+d],[],t)}_getRegistryForType(r){for(let i=0;i<this._typedRegistries.length;i++){const t=this._typedRegistries[i];if(t.isForType(r))return t}return this.plugins}_get(r,i,t){const d=i.get(r);if(d===void 0)throw new Error('"'+r+'" is not a registered '+t+".");return d}}var xr=new Rh;class Dh{constructor(){this._init=[]}notify(r,i,t,d){i==="beforeInit"&&(this._init=this._createDescriptors(r,!0),this._notify(this._init,r,"install"));const a=d?this._descriptors(r).filter(d):this._descriptors(r),n=this._notify(a,r,i,t);return i==="afterDestroy"&&(this._notify(a,r,"stop"),this._notify(this._init,r,"uninstall")),n}_notify(r,i,t,d){d=d||{};for(const a of r){const n=a.plugin,o=n[t],s=[i,d,a.options];if(jt(o,s,n)===!1&&d.cancelable)return!1}return!0}invalidate(){pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(r){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(r);return this._notifyStateChanges(r),i}_createDescriptors(r,i){const t=r&&r.config,d=at(t.options&&t.options.plugins,{}),a=Ih(t);return d===!1&&!i?[]:Nh(r,a,d,i)}_notifyStateChanges(r){const i=this._oldCache||[],t=this._cache,d=(a,n)=>a.filter(o=>!n.some(s=>o.plugin.id===s.plugin.id));this._notify(d(i,t),r,"stop"),this._notify(d(t,i),r,"start")}}function Ih(l){const r={},i=[],t=Object.keys(xr.plugins.items);for(let a=0;a<t.length;a++)i.push(xr.getPlugin(t[a]));const d=l.plugins||[];for(let a=0;a<d.length;a++){const n=d[a];i.indexOf(n)===-1&&(i.push(n),r[n.id]=!0)}return{plugins:i,localIds:r}}function Fh(l,r){return!r&&l===!1?null:l===!0?{}:l}function Nh(l,{plugins:r,localIds:i},t,d){const a=[],n=l.getContext();for(const o of r){const s=o.id,u=Fh(t[s],d);u!==null&&a.push({plugin:o,options:Bh(l.config,{plugin:o,local:i[s]},u,n)})}return a}function Bh(l,{plugin:r,local:i},t,d){const a=l.pluginScopeKeys(r),n=l.getOptionScopes(t,a);return i&&r.defaults&&n.push(r.defaults),l.createResolver(n,d,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fo(l,r){const i=Dt.datasets[l]||{};return((r.datasets||{})[l]||{}).indexAxis||r.indexAxis||i.indexAxis||"x"}function Uh(l,r){let i=l;return l==="_index_"?i=r:l==="_value_"&&(i=r==="x"?"y":"x"),i}function Gh(l,r){return l===r?"_index_":"_value_"}function ma(l){if(l==="x"||l==="y"||l==="r")return l}function Vh(l){if(l==="top"||l==="bottom")return"x";if(l==="left"||l==="right")return"y"}function po(l,...r){if(ma(l))return l;for(const i of r){const t=i.axis||Vh(i.position)||l.length>1&&ma(l[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${l}' axis. Please provide 'axis' or 'position' option.`)}function ya(l,r,i){if(i[r+"AxisID"]===l)return{axis:r}}function zh(l,r){if(r.data&&r.data.datasets){const i=r.data.datasets.filter(t=>t.xAxisID===l||t.yAxisID===l);if(i.length)return ya(l,"x",i[0])||ya(l,"y",i[0])}return{}}function Hh(l,r){const i=en[l.type]||{scales:{}},t=r.scales||{},d=fo(l.type,r),a=Object.create(null);return Object.keys(t).forEach(n=>{const o=t[n];if(!ut(o))return console.error(`Invalid scale configuration for scale: ${n}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${n}`);const s=po(n,o,zh(n,l),Dt.scales[o.type]),u=Gh(s,d),b=i.scales||{};a[n]=Fn(Object.create(null),[{axis:s},o,b[s],b[u]])}),l.data.datasets.forEach(n=>{const o=n.type||l.type,s=n.indexAxis||fo(o,r),b=(en[o]||{}).scales||{};Object.keys(b).forEach(y=>{const c=Uh(y,s),h=n[c+"AxisID"]||c;a[h]=a[h]||Object.create(null),Fn(a[h],[{axis:c},t[h],b[y]])})}),Object.keys(a).forEach(n=>{const o=a[n];Fn(o,[Dt.scales[o.type],Dt.scale])}),a}function Il(l){const r=l.options||(l.options={});r.plugins=at(r.plugins,{}),r.scales=Hh(l,r)}function Fl(l){return l=l||{},l.datasets=l.datasets||[],l.labels=l.labels||[],l}function Wh(l){return l=l||{},l.data=Fl(l.data),Il(l),l}const ga=new Map,Nl=new Set;function ps(l,r){let i=ga.get(l);return i||(i=r(),ga.set(l,i),Nl.add(i)),i}const Pn=(l,r,i)=>{const t=Gr(r,i);t!==void 0&&l.add(t)};class qh{constructor(r){this._config=Wh(r),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(r){this._config.type=r}get data(){return this._config.data}set data(r){this._config.data=Fl(r)}get options(){return this._config.options}set options(r){this._config.options=r}get plugins(){return this._config.plugins}update(){const r=this._config;this.clearCache(),Il(r)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(r){return ps(r,()=>[[`datasets.${r}`,""]])}datasetAnimationScopeKeys(r,i){return ps(`${r}.transition.${i}`,()=>[[`datasets.${r}.transitions.${i}`,`transitions.${i}`],[`datasets.${r}`,""]])}datasetElementScopeKeys(r,i){return ps(`${r}-${i}`,()=>[[`datasets.${r}.elements.${i}`,`datasets.${r}`,`elements.${i}`,""]])}pluginScopeKeys(r){const i=r.id,t=this.type;return ps(`${t}-plugin-${i}`,()=>[[`plugins.${i}`,...r.additionalOptionScopes||[]]])}_cachedScopes(r,i){const t=this._scopeCache;let d=t.get(r);return(!d||i)&&(d=new Map,t.set(r,d)),d}getOptionScopes(r,i,t){const{options:d,type:a}=this,n=this._cachedScopes(r,t),o=n.get(i);if(o)return o;const s=new Set;i.forEach(b=>{r&&(s.add(r),b.forEach(y=>Pn(s,r,y))),b.forEach(y=>Pn(s,d,y)),b.forEach(y=>Pn(s,en[a]||{},y)),b.forEach(y=>Pn(s,Dt,y)),b.forEach(y=>Pn(s,uo,y))});const u=Array.from(s);return u.length===0&&u.push(Object.create(null)),Nl.has(i)&&n.set(i,u),u}chartOptionScopes(){const{options:r,type:i}=this;return[r,en[i]||{},Dt.datasets[i]||{},{type:i},Dt,uo]}resolveNamedOptions(r,i,t,d=[""]){const a={$shared:!0},{resolver:n,subPrefixes:o}=ba(this._resolverCache,r,d);let s=n;if(Yh(n,i)){a.$shared=!1,t=Vr(t)?t():t;const u=this.createResolver(r,t,o);s=mn(n,t,u)}for(const u of i)a[u]=s[u];return a}createResolver(r,i,t=[""],d){const{resolver:a}=ba(this._resolverCache,r,t);return ut(i)?mn(a,i,void 0,d):a}}function ba(l,r,i){let t=l.get(r);t||(t=new Map,l.set(r,t));const d=i.join();let a=t.get(d);return a||(a={resolver:Po(r,i),subPrefixes:i.filter(o=>!o.toLowerCase().includes("hover"))},t.set(d,a)),a}const Xh=l=>ut(l)&&Object.getOwnPropertyNames(l).some(r=>Vr(l[r]));function Yh(l,r){const{isScriptable:i,isIndexable:t}=yl(l);for(const d of r){const a=i(d),n=t(d),o=(n||a)&&l[d];if(a&&(Vr(o)||Xh(o))||n&&Et(o))return!0}return!1}var Zh="4.4.1";const $h=["top","bottom","left","right","chartArea"];function va(l,r){return l==="top"||l==="bottom"||$h.indexOf(l)===-1&&r==="x"}function _a(l,r){return function(i,t){return i[l]===t[l]?i[r]-t[r]:i[l]-t[l]}}function xa(l){const r=l.chart,i=r.options.animation;r.notifyPlugins("afterRender"),jt(i&&i.onComplete,[l],r)}function Kh(l){const r=l.chart,i=r.options.animation;jt(i&&i.onProgress,[l],r)}function Bl(l){return Ro()&&typeof l=="string"?l=document.getElementById(l):l&&l.length&&(l=l[0]),l&&l.canvas&&(l=l.canvas),l}const Ss={},wa=l=>{const r=Bl(l);return Object.values(Ss).filter(i=>i.canvas===r).pop()};function Qh(l,r,i){const t=Object.keys(l);for(const d of t){const a=+d;if(a>=r){const n=l[d];delete l[d],(i>0||a>r)&&(l[a+i]=n)}}}function Jh(l,r,i,t){return!i||l.type==="mouseout"?null:t?r:l}function ms(l,r,i){return l.options.clip?l[i]:r[i]}function ef(l,r){const{xScale:i,yScale:t}=l;return i&&t?{left:ms(i,r,"left"),right:ms(i,r,"right"),top:ms(t,r,"top"),bottom:ms(t,r,"bottom")}:r}class Kr{static defaults=Dt;static instances=Ss;static overrides=en;static registry=xr;static version=Zh;static getChart=wa;static register(...r){xr.add(...r),ja()}static unregister(...r){xr.remove(...r),ja()}constructor(r,i){const t=this.config=new qh(i),d=Bl(r),a=wa(d);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const n=t.createResolver(t.chartOptionScopes(),this.getContext());this.platform=new(t.platform||gh(d)),this.platform.updateConfig(t);const o=this.platform.acquireContext(d,n.aspectRatio),s=o&&o.canvas,u=s&&s.height,b=s&&s.width;if(this.id=$c(),this.ctx=o,this.canvas=s,this.width=b,this.height=u,this._options=n,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Dh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hu(y=>this.update(y),n.resizeDelay||0),this._dataChanges=[],Ss[this.id]=this,!o||!s){console.error("Failed to create chart: can't acquire context from the given item");return}Tr.listen(this,"complete",xa),Tr.listen(this,"progress",Kh),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:r,maintainAspectRatio:i},width:t,height:d,_aspectRatio:a}=this;return pt(r)?i&&a?a:d?t/d:null:r}get data(){return this.config.data}set data(r){this.config.data=r}get options(){return this._options}set options(r){this.config.options=r}get registry(){return xr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hi(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Gi(this.canvas,this.ctx),this}stop(){return Tr.stop(this),this}resize(r,i){Tr.running(this)?this._resizeBeforeDraw={width:r,height:i}:this._resize(r,i)}_resize(r,i){const t=this.options,d=this.canvas,a=t.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(d,r,i,a),o=t.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,Hi(this,o,!0)&&(this.notifyPlugins("resize",{size:n}),jt(t.onResize,[this,n],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};gt(i,(t,d)=>{t.id=d})}buildOrUpdateScales(){const r=this.options,i=r.scales,t=this.scales,d=Object.keys(t).reduce((n,o)=>(n[o]=!1,n),{});let a=[];i&&(a=a.concat(Object.keys(i).map(n=>{const o=i[n],s=po(n,o),u=s==="r",b=s==="x";return{options:o,dposition:u?"chartArea":b?"bottom":"left",dtype:u?"radialLinear":b?"category":"linear"}}))),gt(a,n=>{const o=n.options,s=o.id,u=po(s,o),b=at(o.type,n.dtype);(o.position===void 0||va(o.position,u)!==va(n.dposition))&&(o.position=n.dposition),d[s]=!0;let y=null;if(s in t&&t[s].type===b)y=t[s];else{const c=xr.getScale(b);y=new c({id:s,type:b,ctx:this.ctx,chart:this}),t[y.id]=y}y.init(o,r)}),gt(d,(n,o)=>{n||delete t[o]}),gt(t,n=>{rr.configure(this,n,n.options),rr.addBox(this,n)})}_updateMetasets(){const r=this._metasets,i=this.data.datasets.length,t=r.length;if(r.sort((d,a)=>d.index-a.index),t>i){for(let d=i;d<t;++d)this._destroyDatasetMeta(d);r.splice(i,t-i)}this._sortedMetasets=r.slice(0).sort(_a("order","index"))}_removeUnreferencedMetasets(){const{_metasets:r,data:{datasets:i}}=this;r.length>i.length&&delete this._stacks,r.forEach((t,d)=>{i.filter(a=>a===t._dataset).length===0&&this._destroyDatasetMeta(d)})}buildOrUpdateControllers(){const r=[],i=this.data.datasets;let t,d;for(this._removeUnreferencedMetasets(),t=0,d=i.length;t<d;t++){const a=i[t];let n=this.getDatasetMeta(t);const o=a.type||this.config.type;if(n.type&&n.type!==o&&(this._destroyDatasetMeta(t),n=this.getDatasetMeta(t)),n.type=o,n.indexAxis=a.indexAxis||fo(o,this.options),n.order=a.order||0,n.index=t,n.label=""+a.label,n.visible=this.isDatasetVisible(t),n.controller)n.controller.updateIndex(t),n.controller.linkScales();else{const s=xr.getController(o),{datasetElementType:u,dataElementType:b}=Dt.datasets[o];Object.assign(s,{dataElementType:xr.getElement(b),datasetElementType:u&&xr.getElement(u)}),n.controller=new s(this,t),r.push(n.controller)}}return this._updateMetasets(),r}_resetElements(){gt(this.data.datasets,(r,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(r){const i=this.config;i.update();const t=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),d=this._animationsDisabled=!t.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:r,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let u=0,b=this.data.datasets.length;u<b;u++){const{controller:y}=this.getDatasetMeta(u),c=!d&&a.indexOf(y)===-1;y.buildOrUpdateElements(c),n=Math.max(+y.getMaxOverflow(),n)}n=this._minPadding=t.layout.autoPadding?n:0,this._updateLayout(n),d||gt(a,u=>{u.reset()}),this._updateDatasets(r),this.notifyPlugins("afterUpdate",{mode:r}),this._layers.sort(_a("z","_idx"));const{_active:o,_lastEvent:s}=this;s?this._eventHandler(s,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){gt(this.scales,r=>{rr.removeBox(this,r)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const r=this.options,i=new Set(Object.keys(this._listeners)),t=new Set(r.events);(!Li(i,t)||!!this._responsiveListeners!==r.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:r}=this,i=this._getUniformDataChanges()||[];for(const{method:t,start:d,count:a}of i){const n=t==="_removeElements"?-a:a;Qh(r,d,n)}}_getUniformDataChanges(){const r=this._dataChanges;if(!r||!r.length)return;this._dataChanges=[];const i=this.data.datasets.length,t=a=>new Set(r.filter(n=>n[0]===a).map((n,o)=>o+","+n.splice(1).join(","))),d=t(0);for(let a=1;a<i;a++)if(!Li(d,t(a)))return;return Array.from(d).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(r){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rr.update(this,this.width,this.height,r);const i=this.chartArea,t=i.width<=0||i.height<=0;this._layers=[],gt(this.boxes,d=>{t&&d.position==="chartArea"||(d.configure&&d.configure(),this._layers.push(...d._layers()))},this),this._layers.forEach((d,a)=>{d._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(r){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:r,cancelable:!0})!==!1){for(let i=0,t=this.data.datasets.length;i<t;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,t=this.data.datasets.length;i<t;++i)this._updateDataset(i,Vr(r)?r({datasetIndex:i}):r);this.notifyPlugins("afterDatasetsUpdate",{mode:r})}}_updateDataset(r,i){const t=this.getDatasetMeta(r),d={meta:t,index:r,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",d)!==!1&&(t.controller._update(i),d.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",d))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Tr.has(this)?this.attached&&!Tr.running(this)&&Tr.start(this):(this.draw(),xa({chart:this})))}draw(){let r;if(this._resizeBeforeDraw){const{width:t,height:d}=this._resizeBeforeDraw;this._resize(t,d),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(r=0;r<i.length&&i[r].z<=0;++r)i[r].draw(this.chartArea);for(this._drawDatasets();r<i.length;++r)i[r].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(r){const i=this._sortedMetasets,t=[];let d,a;for(d=0,a=i.length;d<a;++d){const n=i[d];(!r||n.visible)&&t.push(n)}return t}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const r=this.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i)this._drawDataset(r[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(r){const i=this.ctx,t=r._clip,d=!t.disabled,a=ef(r,this.chartArea),n={meta:r,index:r.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(d&&Is(i,{left:t.left===!1?0:a.left-t.left,right:t.right===!1?this.width:a.right+t.right,top:t.top===!1?0:a.top-t.top,bottom:t.bottom===!1?this.height:a.bottom+t.bottom}),r.controller.draw(),d&&Fs(i),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(r){return Pr(r,this.chartArea,this._minPadding)}getElementsAtEventForMode(r,i,t,d){const a=$d.modes[i];return typeof a=="function"?a(this,r,t,d):[]}getDatasetMeta(r){const i=this.data.datasets[r],t=this._metasets;let d=t.filter(a=>a&&a._dataset===i).pop();return d||(d={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:r,_dataset:i,_parsed:[],_sorted:!1},t.push(d)),d}getContext(){return this.$context||(this.$context=zr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(r){const i=this.data.datasets[r];if(!i)return!1;const t=this.getDatasetMeta(r);return typeof t.hidden=="boolean"?!t.hidden:!i.hidden}setDatasetVisibility(r,i){const t=this.getDatasetMeta(r);t.hidden=!i}toggleDataVisibility(r){this._hiddenIndices[r]=!this._hiddenIndices[r]}getDataVisibility(r){return!this._hiddenIndices[r]}_updateVisibility(r,i,t){const d=t?"show":"hide",a=this.getDatasetMeta(r),n=a.controller._resolveAnimations(void 0,d);zn(i)?(a.data[i].hidden=!t,this.update()):(this.setDatasetVisibility(r,t),n.update(a,{visible:t}),this.update(o=>o.datasetIndex===r?d:void 0))}hide(r,i){this._updateVisibility(r,i,!1)}show(r,i){this._updateVisibility(r,i,!0)}_destroyDatasetMeta(r){const i=this._metasets[r];i&&i.controller&&i.controller._destroy(),delete this._metasets[r]}_stop(){let r,i;for(this.stop(),Tr.remove(this),r=0,i=this.data.datasets.length;r<i;++r)this._destroyDatasetMeta(r)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:r,ctx:i}=this;this._stop(),this.config.clearCache(),r&&(this.unbindEvents(),Gi(r,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Ss[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...r){return this.canvas.toDataURL(...r)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const r=this._listeners,i=this.platform,t=(a,n)=>{i.addEventListener(this,a,n),r[a]=n},d=(a,n,o)=>{a.offsetX=n,a.offsetY=o,this._eventHandler(a)};gt(this.options.events,a=>t(a,d))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const r=this._responsiveListeners,i=this.platform,t=(s,u)=>{i.addEventListener(this,s,u),r[s]=u},d=(s,u)=>{r[s]&&(i.removeEventListener(this,s,u),delete r[s])},a=(s,u)=>{this.canvas&&this.resize(s,u)};let n;const o=()=>{d("attach",o),this.attached=!0,this.resize(),t("resize",a),t("detach",n)};n=()=>{this.attached=!1,d("resize",a),this._stop(),this._resize(0,0),t("attach",o)},i.isAttached(this.canvas)?o():n()}unbindEvents(){gt(this._listeners,(r,i)=>{this.platform.removeEventListener(this,i,r)}),this._listeners={},gt(this._responsiveListeners,(r,i)=>{this.platform.removeEventListener(this,i,r)}),this._responsiveListeners=void 0}updateHoverStyle(r,i,t){const d=t?"set":"remove";let a,n,o,s;for(i==="dataset"&&(a=this.getDatasetMeta(r[0].datasetIndex),a.controller["_"+d+"DatasetHoverStyle"]()),o=0,s=r.length;o<s;++o){n=r[o];const u=n&&this.getDatasetMeta(n.datasetIndex).controller;u&&u[d+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(r){const i=this._active||[],t=r.map(({datasetIndex:a,index:n})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[n],index:n}});!Ts(t,i)&&(this._active=t,this._lastEvent=null,this._updateHoverStyles(t,i))}notifyPlugins(r,i,t){return this._plugins.notify(this,r,i,t)}isPluginEnabled(r){return this._plugins._cache.filter(i=>i.plugin.id===r).length===1}_updateHoverStyles(r,i,t){const d=this.options.hover,a=(s,u)=>s.filter(b=>!u.some(y=>b.datasetIndex===y.datasetIndex&&b.index===y.index)),n=a(i,r),o=t?r:a(r,i);n.length&&this.updateHoverStyle(n,d.mode,!1),o.length&&d.mode&&this.updateHoverStyle(o,d.mode,!0)}_eventHandler(r,i){const t={event:r,replay:i,cancelable:!0,inChartArea:this.isPointInArea(r)},d=n=>(n.options.events||this.options.events).includes(r.native.type);if(this.notifyPlugins("beforeEvent",t,d)===!1)return;const a=this._handleEvent(r,i,t.inChartArea);return t.cancelable=!1,this.notifyPlugins("afterEvent",t,d),(a||t.changed)&&this.render(),this}_handleEvent(r,i,t){const{_active:d=[],options:a}=this,n=i,o=this._getActiveElements(r,d,t,n),s=ru(r),u=Jh(r,this._lastEvent,t,s);t&&(this._lastEvent=null,jt(a.onHover,[r,o,this],this),s&&jt(a.onClick,[r,o,this],this));const b=!Ts(o,d);return(b||i)&&(this._active=o,this._updateHoverStyles(o,d,i)),this._lastEvent=u,b}_getActiveElements(r,i,t,d){if(r.type==="mouseout")return[];if(!t)return i;const a=this.options.hover;return this.getElementsAtEventForMode(r,a.mode,a,d)}}function ja(){return gt(Kr.instances,l=>l._plugins.invalidate())}function tf(l,r,i){const{startAngle:t,pixelMargin:d,x:a,y:n,outerRadius:o,innerRadius:s}=r;let u=d/o;l.beginPath(),l.arc(a,n,o,t-u,i+u),s>d?(u=d/s,l.arc(a,n,s,i+u,t-u,!0)):l.arc(a,n,d,i+Ft,t-Ft),l.closePath(),l.clip()}function rf(l){return Oo(l,["outerStart","outerEnd","innerStart","innerEnd"])}function nf(l,r,i,t){const d=rf(l.options.borderRadius),a=(i-r)/2,n=Math.min(a,t*r/2),o=s=>{const u=(i-Math.min(a,s))*t/2;return Xt(s,0,Math.min(a,u))};return{outerStart:o(d.outerStart),outerEnd:o(d.outerEnd),innerStart:Xt(d.innerStart,0,n),innerEnd:Xt(d.innerEnd,0,n)}}function cn(l,r,i,t){return{x:i+l*Math.cos(r),y:t+l*Math.sin(r)}}function Ls(l,r,i,t,d,a){const{x:n,y:o,startAngle:s,pixelMargin:u,innerRadius:b}=r,y=Math.max(r.outerRadius+t+i-u,0),c=b>0?b+t+i+u:0;let h=0;const f=d-s;if(t){const F=b>0?b-t:0,V=y>0?y-t:0,q=(F+V)/2,G=q!==0?f*q/(q+t):f;h=(f-G)/2}const p=Math.max(.001,f*y-i/Ct)/y,m=(f-p)/2,v=s+m+h,_=d-m-h,{outerStart:g,outerEnd:x,innerStart:j,innerEnd:E}=nf(r,c,y,_-v),M=y-g,T=y-x,O=v+g/M,R=_-x/T,k=c+j,D=c+E,L=v+j/k,B=_-E/D;if(l.beginPath(),a){const F=(O+R)/2;if(l.arc(n,o,y,O,F),l.arc(n,o,y,F,R),x>0){const W=cn(T,R,n,o);l.arc(W.x,W.y,x,R,_+Ft)}const V=cn(D,_,n,o);if(l.lineTo(V.x,V.y),E>0){const W=cn(D,B,n,o);l.arc(W.x,W.y,E,_+Ft,B+Math.PI)}const q=(_-E/c+(v+j/c))/2;if(l.arc(n,o,c,_-E/c,q,!0),l.arc(n,o,c,q,v+j/c,!0),j>0){const W=cn(k,L,n,o);l.arc(W.x,W.y,j,L+Math.PI,v-Ft)}const G=cn(M,v,n,o);if(l.lineTo(G.x,G.y),g>0){const W=cn(M,O,n,o);l.arc(W.x,W.y,g,v-Ft,O)}}else{l.moveTo(n,o);const F=Math.cos(O)*y+n,V=Math.sin(O)*y+o;l.lineTo(F,V);const q=Math.cos(R)*y+n,G=Math.sin(R)*y+o;l.lineTo(q,G)}l.closePath()}function sf(l,r,i,t,d){const{fullCircles:a,startAngle:n,circumference:o}=r;let s=r.endAngle;if(a){Ls(l,r,i,t,s,d);for(let u=0;u<a;++u)l.fill();isNaN(o)||(s=n+(o%kt||kt))}return Ls(l,r,i,t,s,d),l.fill(),s}function of(l,r,i,t,d){const{fullCircles:a,startAngle:n,circumference:o,options:s}=r,{borderWidth:u,borderJoinStyle:b,borderDash:y,borderDashOffset:c}=s,h=s.borderAlign==="inner";if(!u)return;l.setLineDash(y||[]),l.lineDashOffset=c,h?(l.lineWidth=u*2,l.lineJoin=b||"round"):(l.lineWidth=u,l.lineJoin=b||"bevel");let f=r.endAngle;if(a){Ls(l,r,i,t,f,d);for(let p=0;p<a;++p)l.stroke();isNaN(o)||(f=n+(o%kt||kt))}h&&tf(l,r,f),a||(Ls(l,r,i,t,f,d),l.stroke())}class af extends Lr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(r){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,i,t){const d=this.getProps(["x","y"],t),{angle:a,distance:n}=il(d,{x:r,y:i}),{startAngle:o,endAngle:s,innerRadius:u,outerRadius:b,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],t),c=(this.options.spacing+this.options.borderWidth)/2,f=at(y,s-o)>=kt||Hn(a,o,s),p=Cr(n,u+c,b+c);return f&&p}getCenterPoint(r){const{x:i,y:t,startAngle:d,endAngle:a,innerRadius:n,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:s,spacing:u}=this.options,b=(d+a)/2,y=(n+o+u+s)/2;return{x:i+Math.cos(b)*y,y:t+Math.sin(b)*y}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:i,circumference:t}=this,d=(i.offset||0)/4,a=(i.spacing||0)/2,n=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=t>kt?Math.floor(t/kt):0,t===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const o=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(o)*d,Math.sin(o)*d);const s=1-Math.sin(Math.min(Ct,t||0)),u=d*s;r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,sf(r,this,u,a,n),of(r,this,u,a,n),r.restore()}}function Ul(l,r,i=r){l.lineCap=at(i.borderCapStyle,r.borderCapStyle),l.setLineDash(at(i.borderDash,r.borderDash)),l.lineDashOffset=at(i.borderDashOffset,r.borderDashOffset),l.lineJoin=at(i.borderJoinStyle,r.borderJoinStyle),l.lineWidth=at(i.borderWidth,r.borderWidth),l.strokeStyle=at(i.borderColor,r.borderColor)}function lf(l,r,i){l.lineTo(i.x,i.y)}function cf(l){return l.stepped?Su:l.tension||l.cubicInterpolationMode==="monotone"?Mu:lf}function Gl(l,r,i={}){const t=l.length,{start:d=0,end:a=t-1}=i,{start:n,end:o}=r,s=Math.max(d,n),u=Math.min(a,o),b=d<n&&a<n||d>o&&a>o;return{count:t,start:s,loop:r.loop,ilen:u<s&&!b?t+u-s:u-s}}function uf(l,r,i,t){const{points:d,options:a}=r,{count:n,start:o,loop:s,ilen:u}=Gl(d,i,t),b=cf(a);let{move:y=!0,reverse:c}=t||{},h,f,p;for(h=0;h<=u;++h)f=d[(o+(c?u-h:h))%n],!f.skip&&(y?(l.moveTo(f.x,f.y),y=!1):b(l,p,f,c,a.stepped),p=f);return s&&(f=d[(o+(c?u:0))%n],b(l,p,f,c,a.stepped)),!!s}function df(l,r,i,t){const d=r.points,{count:a,start:n,ilen:o}=Gl(d,i,t),{move:s=!0,reverse:u}=t||{};let b=0,y=0,c,h,f,p,m,v;const _=x=>(n+(u?o-x:x))%a,g=()=>{p!==m&&(l.lineTo(b,m),l.lineTo(b,p),l.lineTo(b,v))};for(s&&(h=d[_(0)],l.moveTo(h.x,h.y)),c=0;c<=o;++c){if(h=d[_(c)],h.skip)continue;const x=h.x,j=h.y,E=x|0;E===f?(j<p?p=j:j>m&&(m=j),b=(y*b+x)/++y):(g(),l.lineTo(x,j),f=E,y=0,p=m=j),v=j}g()}function mo(l){const r=l.options,i=r.borderDash&&r.borderDash.length;return!l._decimated&&!l._loop&&!r.tension&&r.cubicInterpolationMode!=="monotone"&&!r.stepped&&!i?df:uf}function hf(l){return l.stepped?nd:l.tension||l.cubicInterpolationMode==="monotone"?sd:$r}function ff(l,r,i,t){let d=r._path;d||(d=r._path=new Path2D,r.path(d,i,t)&&d.closePath()),Ul(l,r.options),l.stroke(d)}function pf(l,r,i,t){const{segments:d,options:a}=r,n=mo(r);for(const o of d)Ul(l,a,o.style),l.beginPath(),n(l,r,o,{start:i,end:i+t-1})&&l.closePath(),l.stroke()}const mf=typeof Path2D=="function";function yf(l,r,i,t){mf&&!r.options.segment?ff(l,r,i,t):pf(l,r,i,t)}class Bs extends Lr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};constructor(r){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,r&&Object.assign(this,r)}updateControlPoints(r,i){const t=this.options;if((t.tension||t.cubicInterpolationMode==="monotone")&&!t.stepped&&!this._pointsUpdated){const d=t.spanGaps?this._loop:this._fullLoop;Zu(this._points,t,r,d,i),this._pointsUpdated=!0}}set points(r){this._points=r,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ud(this,this.options.segment))}first(){const r=this.segments,i=this.points;return r.length&&i[r[0].start]}last(){const r=this.segments,i=this.points,t=r.length;return t&&i[r[t-1].end]}interpolate(r,i){const t=this.options,d=r[i],a=this.points,n=Tl(this,{property:i,start:d,end:d});if(!n.length)return;const o=[],s=hf(t);let u,b;for(u=0,b=n.length;u<b;++u){const{start:y,end:c}=n[u],h=a[y],f=a[c];if(h===f){o.push(h);continue}const p=Math.abs((d-h[i])/(f[i]-h[i])),m=s(h,f,p,t.stepped);m[i]=r[i],o.push(m)}return o.length===1?o[0]:o}pathSegment(r,i,t){return mo(this)(r,this,i,t)}path(r,i,t){const d=this.segments,a=mo(this);let n=this._loop;i=i||0,t=t||this.points.length-i;for(const o of d)n&=a(r,this,o,{start:i,end:i+t-1});return!!n}draw(r,i,t,d){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(r.save(),yf(r,this,t,d),r.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Sa(l,r,i,t){const d=l.options,{[i]:a}=l.getProps([i],t);return Math.abs(r-a)<d.radius+d.hitRadius}class gf extends Lr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(r){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,i,t){const d=this.options,{x:a,y:n}=this.getProps(["x","y"],t);return Math.pow(r-a,2)+Math.pow(i-n,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(r,i){return Sa(this,r,"x",i)}inYRange(r,i){return Sa(this,r,"y",i)}getCenterPoint(r){const{x:i,y:t}=this.getProps(["x","y"],r);return{x:i,y:t}}size(r){r=r||this.options||{};let i=r.radius||0;i=Math.max(i,i&&r.hoverRadius||0);const t=i&&r.borderWidth||0;return(i+t)*2}draw(r,i){const t=this.options;this.skip||t.radius<.1||!Pr(this,i,this.size(t)/2)||(r.strokeStyle=t.borderColor,r.lineWidth=t.borderWidth,r.fillStyle=t.backgroundColor,ho(r,t,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}function Vl(l,r){const{x:i,y:t,base:d,width:a,height:n}=l.getProps(["x","y","base","width","height"],r);let o,s,u,b,y;return l.horizontal?(y=n/2,o=Math.min(i,d),s=Math.max(i,d),u=t-y,b=t+y):(y=a/2,o=i-y,s=i+y,u=Math.min(t,d),b=Math.max(t,d)),{left:o,top:u,right:s,bottom:b}}function Nr(l,r,i,t){return l?0:Xt(r,i,t)}function bf(l,r,i){const t=l.options.borderWidth,d=l.borderSkipped,a=ml(t);return{t:Nr(d.top,a.top,0,i),r:Nr(d.right,a.right,0,r),b:Nr(d.bottom,a.bottom,0,i),l:Nr(d.left,a.left,0,r)}}function vf(l,r,i){const{enableBorderRadius:t}=l.getProps(["enableBorderRadius"]),d=l.options.borderRadius,a=Qr(d),n=Math.min(r,i),o=l.borderSkipped,s=t||ut(d);return{topLeft:Nr(!s||o.top||o.left,a.topLeft,0,n),topRight:Nr(!s||o.top||o.right,a.topRight,0,n),bottomLeft:Nr(!s||o.bottom||o.left,a.bottomLeft,0,n),bottomRight:Nr(!s||o.bottom||o.right,a.bottomRight,0,n)}}function _f(l){const r=Vl(l),i=r.right-r.left,t=r.bottom-r.top,d=bf(l,i/2,t/2),a=vf(l,i/2,t/2);return{outer:{x:r.left,y:r.top,w:i,h:t,radius:a},inner:{x:r.left+d.l,y:r.top+d.t,w:i-d.l-d.r,h:t-d.t-d.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(d.t,d.l)),topRight:Math.max(0,a.topRight-Math.max(d.t,d.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(d.b,d.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(d.b,d.r))}}}}function no(l,r,i,t){const d=r===null,a=i===null,o=l&&!(d&&a)&&Vl(l,t);return o&&(d||Cr(r,o.left,o.right))&&(a||Cr(i,o.top,o.bottom))}function xf(l){return l.topLeft||l.topRight||l.bottomLeft||l.bottomRight}function wf(l,r){l.rect(r.x,r.y,r.w,r.h)}function so(l,r,i={}){const t=l.x!==i.x?-r:0,d=l.y!==i.y?-r:0,a=(l.x+l.w!==i.x+i.w?r:0)-t,n=(l.y+l.h!==i.y+i.h?r:0)-d;return{x:l.x+t,y:l.y+d,w:l.w+a,h:l.h+n,radius:l.radius}}class jf extends Lr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(r){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,r&&Object.assign(this,r)}draw(r){const{inflateAmount:i,options:{borderColor:t,backgroundColor:d}}=this,{inner:a,outer:n}=_f(this),o=xf(n.radius)?Wn:wf;r.save(),(n.w!==a.w||n.h!==a.h)&&(r.beginPath(),o(r,so(n,i,a)),r.clip(),o(r,so(a,-i,n)),r.fillStyle=t,r.fill("evenodd")),r.beginPath(),o(r,so(a,i)),r.fillStyle=d,r.fill(),r.restore()}inRange(r,i,t){return no(this,r,i,t)}inXRange(r,i){return no(this,r,null,i)}inYRange(r,i){return no(this,null,r,i)}getCenterPoint(r){const{x:i,y:t,base:d,horizontal:a}=this.getProps(["x","y","base","horizontal"],r);return{x:a?(i+d)/2:i,y:a?t:(t+d)/2}}getRange(r){return r==="x"?this.width/2:this.height/2}}var Sf=Object.freeze({__proto__:null,ArcElement:af,BarElement:jf,LineElement:Bs,PointElement:gf});const yo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ma=yo.map(l=>l.replace("rgb(","rgba(").replace(")",", 0.5)"));function zl(l){return yo[l%yo.length]}function Hl(l){return Ma[l%Ma.length]}function Mf(l,r){return l.borderColor=zl(r),l.backgroundColor=Hl(r),++r}function Tf(l,r){return l.backgroundColor=l.data.map(()=>zl(r++)),r}function Ef(l,r){return l.backgroundColor=l.data.map(()=>Hl(r++)),r}function kf(l){let r=0;return(i,t)=>{const d=l.getDatasetMeta(t).controller;d instanceof Io?r=Tf(i,r):d instanceof Ol?r=Ef(i,r):d&&(r=Mf(i,r))}}function Ta(l){let r;for(r in l)if(l[r].borderColor||l[r].backgroundColor)return!0;return!1}function Cf(l){return l&&(l.borderColor||l.backgroundColor)}var Of={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(l,r,i){if(!i.enabled)return;const{data:{datasets:t},options:d}=l.config,{elements:a}=d;if(!i.forceOverride&&(Ta(t)||Cf(d)||a&&Ta(a)))return;const n=kf(l);t.forEach(n)}};function Pf(l,r,i,t,d){const a=d.samples||t;if(a>=i)return l.slice(r,r+i);const n=[],o=(i-2)/(a-2);let s=0;const u=r+i-1;let b=r,y,c,h,f,p;for(n[s++]=l[b],y=0;y<a-2;y++){let m=0,v=0,_;const g=Math.floor((y+1)*o)+1+r,x=Math.min(Math.floor((y+2)*o)+1,i)+r,j=x-g;for(_=g;_<x;_++)m+=l[_].x,v+=l[_].y;m/=j,v/=j;const E=Math.floor(y*o)+1+r,M=Math.min(Math.floor((y+1)*o)+1,i)+r,{x:T,y:O}=l[b];for(h=f=-1,_=E;_<M;_++)f=.5*Math.abs((T-m)*(l[_].y-O)-(T-l[_].x)*(v-O)),f>h&&(h=f,c=l[_],p=_);n[s++]=c,b=p}return n[s++]=l[u],n}function Lf(l,r,i,t){let d=0,a=0,n,o,s,u,b,y,c,h,f,p;const m=[],v=r+i-1,_=l[r].x,x=l[v].x-_;for(n=r;n<r+i;++n){o=l[n],s=(o.x-_)/x*t,u=o.y;const j=s|0;if(j===b)u<f?(f=u,y=n):u>p&&(p=u,c=n),d=(a*d+o.x)/++a;else{const E=n-1;if(!pt(y)&&!pt(c)){const M=Math.min(y,c),T=Math.max(y,c);M!==h&&M!==E&&m.push({...l[M],x:d}),T!==h&&T!==E&&m.push({...l[T],x:d})}n>0&&E!==h&&m.push(l[E]),m.push(o),b=j,a=0,f=p=u,y=c=h=n}}return m}function Wl(l){if(l._decimated){const r=l._data;delete l._decimated,delete l._data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,writable:!0,value:r})}}function Ea(l){l.data.datasets.forEach(r=>{Wl(r)})}function Af(l,r){const i=r.length;let t=0,d;const{iScale:a}=l,{min:n,max:o,minDefined:s,maxDefined:u}=a.getUserBounds();return s&&(t=Xt(Or(r,a.axis,n).lo,0,i-1)),u?d=Xt(Or(r,a.axis,o).hi+1,t,i)-t:d=i-t,{start:t,count:d}}var Rf={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(l,r,i)=>{if(!i.enabled){Ea(l);return}const t=l.width;l.data.datasets.forEach((d,a)=>{const{_data:n,indexAxis:o}=d,s=l.getDatasetMeta(a),u=n||d.data;if(Rn([o,l.options.indexAxis])==="y"||!s.controller.supportsDecimation)return;const b=l.scales[s.xAxisID];if(b.type!=="linear"&&b.type!=="time"||l.options.parsing)return;let{start:y,count:c}=Af(s,u);const h=i.threshold||4*t;if(c<=h){Wl(d);return}pt(n)&&(d._data=u,delete d.data,Object.defineProperty(d,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let f;switch(i.algorithm){case"lttb":f=Pf(u,y,c,t,i);break;case"min-max":f=Lf(u,y,c,t);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}d._decimated=f})},destroy(l){Ea(l)}};function Df(l,r,i){const t=l.segments,d=l.points,a=r.points,n=[];for(const o of t){let{start:s,end:u}=o;u=No(s,u,d);const b=go(i,d[s],d[u],o.loop);if(!r.segments){n.push({source:o,target:b,start:d[s],end:d[u]});continue}const y=Tl(r,b);for(const c of y){const h=go(i,a[c.start],a[c.end],c.loop),f=Ml(o,d,h);for(const p of f)n.push({source:p,target:c,start:{[i]:ka(b,h,"start",Math.max)},end:{[i]:ka(b,h,"end",Math.min)}})}}return n}function go(l,r,i,t){if(t)return;let d=r[l],a=i[l];return l==="angle"&&(d=cr(d),a=cr(a)),{property:l,start:d,end:a}}function If(l,r){const{x:i=null,y:t=null}=l||{},d=r.points,a=[];return r.segments.forEach(({start:n,end:o})=>{o=No(n,o,d);const s=d[n],u=d[o];t!==null?(a.push({x:s.x,y:t}),a.push({x:u.x,y:t})):i!==null&&(a.push({x:i,y:s.y}),a.push({x:i,y:u.y}))}),a}function No(l,r,i){for(;r>l;r--){const t=i[r];if(!isNaN(t.x)&&!isNaN(t.y))break}return r}function ka(l,r,i,t){return l&&r?t(l[i],r[i]):l?l[i]:r?r[i]:0}function ql(l,r){let i=[],t=!1;return Et(l)?(t=!0,i=l):i=If(l,r),i.length?new Bs({points:i,options:{tension:0},_loop:t,_fullLoop:t}):null}function Ca(l){return l&&l.fill!==!1}function Ff(l,r,i){let d=l[r].fill;const a=[r];let n;if(!i)return d;for(;d!==!1&&a.indexOf(d)===-1;){if(!Rt(d))return d;if(n=l[d],!n)return!1;if(n.visible)return d;a.push(d),d=n.fill}return!1}function Nf(l,r,i){const t=Vf(l);if(ut(t))return isNaN(t.value)?!1:t;let d=parseFloat(t);return Rt(d)&&Math.floor(d)===d?Bf(t[0],r,d,i):["origin","start","end","stack","shape"].indexOf(t)>=0&&t}function Bf(l,r,i,t){return(l==="-"||l==="+")&&(i=r+i),i===r||i<0||i>=t?!1:i}function Uf(l,r){let i=null;return l==="start"?i=r.bottom:l==="end"?i=r.top:ut(l)?i=r.getPixelForValue(l.value):r.getBasePixel&&(i=r.getBasePixel()),i}function Gf(l,r,i){let t;return l==="start"?t=i:l==="end"?t=r.options.reverse?r.min:r.max:ut(l)?t=l.value:t=r.getBaseValue(),t}function Vf(l){const r=l.options,i=r.fill;let t=at(i&&i.target,i);return t===void 0&&(t=!!r.backgroundColor),t===!1||t===null?!1:t===!0?"origin":t}function zf(l){const{scale:r,index:i,line:t}=l,d=[],a=t.segments,n=t.points,o=Hf(r,i);o.push(ql({x:null,y:r.bottom},t));for(let s=0;s<a.length;s++){const u=a[s];for(let b=u.start;b<=u.end;b++)Wf(d,n[b],o)}return new Bs({points:d,options:{}})}function Hf(l,r){const i=[],t=l.getMatchingVisibleMetas("line");for(let d=0;d<t.length;d++){const a=t[d];if(a.index===r)break;a.hidden||i.unshift(a.dataset)}return i}function Wf(l,r,i){const t=[];for(let d=0;d<i.length;d++){const a=i[d],{first:n,last:o,point:s}=qf(a,r,"x");if(!(!s||n&&o)){if(n)t.unshift(s);else if(l.push(s),!o)break}}l.push(...t)}function qf(l,r,i){const t=l.interpolate(r,i);if(!t)return{};const d=t[i],a=l.segments,n=l.points;let o=!1,s=!1;for(let u=0;u<a.length;u++){const b=a[u],y=n[b.start][i],c=n[b.end][i];if(Cr(d,y,c)){o=d===y,s=d===c;break}}return{first:o,last:s,point:t}}class Xl{constructor(r){this.x=r.x,this.y=r.y,this.radius=r.radius}pathSegment(r,i,t){const{x:d,y:a,radius:n}=this;return i=i||{start:0,end:kt},r.arc(d,a,n,i.end,i.start,!0),!t.bounds}interpolate(r){const{x:i,y:t,radius:d}=this,a=r.angle;return{x:i+Math.cos(a)*d,y:t+Math.sin(a)*d,angle:a}}}function Xf(l){const{chart:r,fill:i,line:t}=l;if(Rt(i))return Yf(r,i);if(i==="stack")return zf(l);if(i==="shape")return!0;const d=Zf(l);return d instanceof Xl?d:ql(d,t)}function Yf(l,r){const i=l.getDatasetMeta(r);return i&&l.isDatasetVisible(r)?i.dataset:null}function Zf(l){return(l.scale||{}).getPointPositionForValue?Kf(l):$f(l)}function $f(l){const{scale:r={},fill:i}=l,t=Uf(i,r);if(Rt(t)){const d=r.isHorizontal();return{x:d?t:null,y:d?null:t}}return null}function Kf(l){const{scale:r,fill:i}=l,t=r.options,d=r.getLabels().length,a=t.reverse?r.max:r.min,n=Gf(i,r,a),o=[];if(t.grid.circular){const s=r.getPointPositionForValue(0,a);return new Xl({x:s.x,y:s.y,radius:r.getDistanceFromCenterForValue(n)})}for(let s=0;s<d;++s)o.push(r.getPointPositionForValue(s,n));return o}function oo(l,r,i){const t=Xf(r),{line:d,scale:a,axis:n}=r,o=d.options,s=o.fill,u=o.backgroundColor,{above:b=u,below:y=u}=s||{};t&&d.points.length&&(Is(l,i),Qf(l,{line:d,target:t,above:b,below:y,area:i,scale:a,axis:n}),Fs(l))}function Qf(l,r){const{line:i,target:t,above:d,below:a,area:n,scale:o}=r,s=i._loop?"angle":r.axis;l.save(),s==="x"&&a!==d&&(Oa(l,t,n.top),Pa(l,{line:i,target:t,color:d,scale:o,property:s}),l.restore(),l.save(),Oa(l,t,n.bottom)),Pa(l,{line:i,target:t,color:a,scale:o,property:s}),l.restore()}function Oa(l,r,i){const{segments:t,points:d}=r;let a=!0,n=!1;l.beginPath();for(const o of t){const{start:s,end:u}=o,b=d[s],y=d[No(s,u,d)];a?(l.moveTo(b.x,b.y),a=!1):(l.lineTo(b.x,i),l.lineTo(b.x,b.y)),n=!!r.pathSegment(l,o,{move:n}),n?l.closePath():l.lineTo(y.x,i)}l.lineTo(r.first().x,i),l.closePath(),l.clip()}function Pa(l,r){const{line:i,target:t,property:d,color:a,scale:n}=r,o=Df(i,t,d);for(const{source:s,target:u,start:b,end:y}of o){const{style:{backgroundColor:c=a}={}}=s,h=t!==!0;l.save(),l.fillStyle=c,Jf(l,n,h&&go(d,b,y)),l.beginPath();const f=!!i.pathSegment(l,s);let p;if(h){f?l.closePath():La(l,t,y,d);const m=!!t.pathSegment(l,u,{move:f,reverse:!0});p=f&&m,p||La(l,t,b,d)}l.closePath(),l.fill(p?"evenodd":"nonzero"),l.restore()}}function Jf(l,r,i){const{top:t,bottom:d}=r.chart.chartArea,{property:a,start:n,end:o}=i||{};a==="x"&&(l.beginPath(),l.rect(n,t,o-n,d-t),l.clip())}function La(l,r,i,t){const d=r.interpolate(i,t);d&&l.lineTo(d.x,d.y)}var ep={id:"filler",afterDatasetsUpdate(l,r,i){const t=(l.data.datasets||[]).length,d=[];let a,n,o,s;for(n=0;n<t;++n)a=l.getDatasetMeta(n),o=a.dataset,s=null,o&&o.options&&o instanceof Bs&&(s={visible:l.isDatasetVisible(n),index:n,fill:Nf(o,n,t),chart:l,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=s,d.push(s);for(n=0;n<t;++n)s=d[n],!(!s||s.fill===!1)&&(s.fill=Ff(d,n,i.propagate))},beforeDraw(l,r,i){const t=i.drawTime==="beforeDraw",d=l.getSortedVisibleDatasetMetas(),a=l.chartArea;for(let n=d.length-1;n>=0;--n){const o=d[n].$filler;o&&(o.line.updateControlPoints(a,o.axis),t&&o.fill&&oo(l.ctx,o,a))}},beforeDatasetsDraw(l,r,i){if(i.drawTime!=="beforeDatasetsDraw")return;const t=l.getSortedVisibleDatasetMetas();for(let d=t.length-1;d>=0;--d){const a=t[d].$filler;Ca(a)&&oo(l.ctx,a,l.chartArea)}},beforeDatasetDraw(l,r,i){const t=r.meta.$filler;!Ca(t)||i.drawTime!=="beforeDatasetDraw"||oo(l.ctx,t,l.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Aa=(l,r)=>{let{boxHeight:i=r,boxWidth:t=r}=l;return l.usePointStyle&&(i=Math.min(i,r),t=l.pointStyleWidth||Math.min(t,r)),{boxWidth:t,boxHeight:i,itemHeight:Math.max(r,i)}},tp=(l,r)=>l!==null&&r!==null&&l.datasetIndex===r.datasetIndex&&l.index===r.index;class Ra extends Lr{constructor(r){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=r.chart,this.options=r.options,this.ctx=r.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(r,i,t){this.maxWidth=r,this.maxHeight=i,this._margins=t,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const r=this.options.labels||{};let i=jt(r.generateLabels,[this.chart],this)||[];r.filter&&(i=i.filter(t=>r.filter(t,this.chart.data))),r.sort&&(i=i.sort((t,d)=>r.sort(t,d,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:r,ctx:i}=this;if(!r.display){this.width=this.height=0;return}const t=r.labels,d=Vt(t.font),a=d.size,n=this._computeTitleHeight(),{boxWidth:o,itemHeight:s}=Aa(t,a);let u,b;i.font=d.string,this.isHorizontal()?(u=this.maxWidth,b=this._fitRows(n,a,o,s)+10):(b=this.maxHeight,u=this._fitCols(n,d,o,s)+10),this.width=Math.min(u,r.maxWidth||this.maxWidth),this.height=Math.min(b,r.maxHeight||this.maxHeight)}_fitRows(r,i,t,d){const{ctx:a,maxWidth:n,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],u=this.lineWidths=[0],b=d+o;let y=r;a.textAlign="left",a.textBaseline="middle";let c=-1,h=-b;return this.legendItems.forEach((f,p)=>{const m=t+i/2+a.measureText(f.text).width;(p===0||u[u.length-1]+m+2*o>n)&&(y+=b,u[u.length-(p>0?0:1)]=0,h+=b,c++),s[p]={left:0,top:h,row:c,width:m,height:d},u[u.length-1]+=m+o}),y}_fitCols(r,i,t,d){const{ctx:a,maxHeight:n,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],u=this.columnSizes=[],b=n-r;let y=o,c=0,h=0,f=0,p=0;return this.legendItems.forEach((m,v)=>{const{itemWidth:_,itemHeight:g}=rp(t,i,a,m,d);v>0&&h+g+2*o>b&&(y+=c+o,u.push({width:c,height:h}),f+=c+o,p++,c=h=0),s[v]={left:f,top:h,col:p,width:_,height:g},c=Math.max(c,_),h+=g+o}),y+=c,u.push({width:c,height:h}),y}adjustHitBoxes(){if(!this.options.display)return;const r=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:t,labels:{padding:d},rtl:a}}=this,n=fn(a,this.left,this.width);if(this.isHorizontal()){let o=0,s=tr(t,this.left+d,this.right-this.lineWidths[o]);for(const u of i)o!==u.row&&(o=u.row,s=tr(t,this.left+d,this.right-this.lineWidths[o])),u.top+=this.top+r+d,u.left=n.leftForLtr(n.x(s),u.width),s+=u.width+d}else{let o=0,s=tr(t,this.top+r+d,this.bottom-this.columnSizes[o].height);for(const u of i)u.col!==o&&(o=u.col,s=tr(t,this.top+r+d,this.bottom-this.columnSizes[o].height)),u.top=s,u.left+=this.left+d,u.left=n.leftForLtr(n.x(u.left),u.width),s+=u.height+d}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const r=this.ctx;Is(r,this),this._draw(),Fs(r)}}_draw(){const{options:r,columnSizes:i,lineWidths:t,ctx:d}=this,{align:a,labels:n}=r,o=Dt.color,s=fn(r.rtl,this.left,this.width),u=Vt(n.font),{padding:b}=n,y=u.size,c=y/2;let h;this.drawTitle(),d.textAlign=s.textAlign("left"),d.textBaseline="middle",d.lineWidth=.5,d.font=u.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=Aa(n,y),v=function(E,M,T){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;d.save();const O=at(T.lineWidth,1);if(d.fillStyle=at(T.fillStyle,o),d.lineCap=at(T.lineCap,"butt"),d.lineDashOffset=at(T.lineDashOffset,0),d.lineJoin=at(T.lineJoin,"miter"),d.lineWidth=O,d.strokeStyle=at(T.strokeStyle,o),d.setLineDash(at(T.lineDash,[])),n.usePointStyle){const R={radius:p*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:O},k=s.xPlus(E,f/2),D=M+c;pl(d,R,k,D,n.pointStyleWidth&&f)}else{const R=M+Math.max((y-p)/2,0),k=s.leftForLtr(E,f),D=Qr(T.borderRadius);d.beginPath(),Object.values(D).some(L=>L!==0)?Wn(d,{x:k,y:R,w:f,h:p,radius:D}):d.rect(k,R,f,p),d.fill(),O!==0&&d.stroke()}d.restore()},_=function(E,M,T){tn(d,T.text,E,M+m/2,u,{strikethrough:T.hidden,textAlign:s.textAlign(T.textAlign)})},g=this.isHorizontal(),x=this._computeTitleHeight();g?h={x:tr(a,this.left+b,this.right-t[0]),y:this.top+b+x,line:0}:h={x:this.left+b,y:tr(a,this.top+x+b,this.bottom-i[0].height),line:0},wl(this.ctx,r.textDirection);const j=m+b;this.legendItems.forEach((E,M)=>{d.strokeStyle=E.fontColor,d.fillStyle=E.fontColor;const T=d.measureText(E.text).width,O=s.textAlign(E.textAlign||(E.textAlign=n.textAlign)),R=f+c+T;let k=h.x,D=h.y;s.setWidth(this.width),g?M>0&&k+R+b>this.right&&(D=h.y+=j,h.line++,k=h.x=tr(a,this.left+b,this.right-t[h.line])):M>0&&D+j>this.bottom&&(k=h.x=k+i[h.line].width+b,h.line++,D=h.y=tr(a,this.top+x+b,this.bottom-i[h.line].height));const L=s.x(k);if(v(L,D,E),k=fu(O,k+f+c,g?k+R:this.right,r.rtl),_(s.x(k),D,E),g)h.x+=R+b;else if(typeof E.text!="string"){const B=u.lineHeight;h.y+=Yl(E,B)+b}else h.y+=j}),jl(this.ctx,r.textDirection)}drawTitle(){const r=this.options,i=r.title,t=Vt(i.font),d=nr(i.padding);if(!i.display)return;const a=fn(r.rtl,this.left,this.width),n=this.ctx,o=i.position,s=t.size/2,u=d.top+s;let b,y=this.left,c=this.width;if(this.isHorizontal())c=Math.max(...this.lineWidths),b=this.top+u,y=tr(r.align,y,this.right-c);else{const f=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);b=u+tr(r.align,this.top,this.bottom-f-r.labels.padding-this._computeTitleHeight())}const h=tr(o,y,y+c);n.textAlign=a.textAlign(ko(o)),n.textBaseline="middle",n.strokeStyle=i.color,n.fillStyle=i.color,n.font=t.string,tn(n,i.text,h,b,t)}_computeTitleHeight(){const r=this.options.title,i=Vt(r.font),t=nr(r.padding);return r.display?i.lineHeight+t.height:0}_getLegendItemAt(r,i){let t,d,a;if(Cr(r,this.left,this.right)&&Cr(i,this.top,this.bottom)){for(a=this.legendHitBoxes,t=0;t<a.length;++t)if(d=a[t],Cr(r,d.left,d.left+d.width)&&Cr(i,d.top,d.top+d.height))return this.legendItems[t]}return null}handleEvent(r){const i=this.options;if(!op(r.type,i))return;const t=this._getLegendItemAt(r.x,r.y);if(r.type==="mousemove"||r.type==="mouseout"){const d=this._hoveredItem,a=tp(d,t);d&&!a&&jt(i.onLeave,[r,d,this],this),this._hoveredItem=t,t&&!a&&jt(i.onHover,[r,t,this],this)}else t&&jt(i.onClick,[r,t,this],this)}}function rp(l,r,i,t,d){const a=np(t,l,r,i),n=sp(d,t,r.lineHeight);return{itemWidth:a,itemHeight:n}}function np(l,r,i,t){let d=l.text;return d&&typeof d!="string"&&(d=d.reduce((a,n)=>a.length>n.length?a:n)),r+i.size/2+t.measureText(d).width}function sp(l,r,i){let t=l;return typeof r.text!="string"&&(t=Yl(r,i)),t}function Yl(l,r){const i=l.text?l.text.length:0;return r*i}function op(l,r){return!!((l==="mousemove"||l==="mouseout")&&(r.onHover||r.onLeave)||r.onClick&&(l==="click"||l==="mouseup"))}var ip={id:"legend",_element:Ra,start(l,r,i){const t=l.legend=new Ra({ctx:l.ctx,options:i,chart:l});rr.configure(l,t,i),rr.addBox(l,t)},stop(l){rr.removeBox(l,l.legend),delete l.legend},beforeUpdate(l,r,i){const t=l.legend;rr.configure(l,t,i),t.options=i},afterUpdate(l){const r=l.legend;r.buildLabels(),r.adjustHitBoxes()},afterEvent(l,r){r.replay||l.legend.handleEvent(r.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(l,r,i){const t=r.datasetIndex,d=i.chart;d.isDatasetVisible(t)?(d.hide(t),r.hidden=!0):(d.show(t),r.hidden=!1)},onHover:null,onLeave:null,labels:{color:l=>l.chart.options.color,boxWidth:40,padding:10,generateLabels(l){const r=l.data.datasets,{labels:{usePointStyle:i,pointStyle:t,textAlign:d,color:a,useBorderRadius:n,borderRadius:o}}=l.legend.options;return l._getSortedDatasetMetas().map(s=>{const u=s.controller.getStyle(i?0:void 0),b=nr(u.borderWidth);return{text:r[s.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!s.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:u.borderColor,pointStyle:t||u.pointStyle,rotation:u.rotation,textAlign:d||u.textAlign,borderRadius:n&&(o||u.borderRadius),datasetIndex:s.index}},this)}},title:{color:l=>l.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:l=>!l.startsWith("on"),labels:{_scriptable:l=>!["generateLabels","filter","sort"].includes(l)}}};class Bo extends Lr{constructor(r){super(),this.chart=r.chart,this.options=r.options,this.ctx=r.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(r,i){const t=this.options;if(this.left=0,this.top=0,!t.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=r,this.height=this.bottom=i;const d=Et(t.text)?t.text.length:1;this._padding=nr(t.padding);const a=d*Vt(t.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const r=this.options.position;return r==="top"||r==="bottom"}_drawArgs(r){const{top:i,left:t,bottom:d,right:a,options:n}=this,o=n.align;let s=0,u,b,y;return this.isHorizontal()?(b=tr(o,t,a),y=i+r,u=a-t):(n.position==="left"?(b=t+r,y=tr(o,d,i),s=Ct*-.5):(b=a-r,y=tr(o,i,d),s=Ct*.5),u=d-i),{titleX:b,titleY:y,maxWidth:u,rotation:s}}draw(){const r=this.ctx,i=this.options;if(!i.display)return;const t=Vt(i.font),a=t.lineHeight/2+this._padding.top,{titleX:n,titleY:o,maxWidth:s,rotation:u}=this._drawArgs(a);tn(r,i.text,0,0,t,{color:i.color,maxWidth:s,rotation:u,textAlign:ko(i.align),textBaseline:"middle",translation:[n,o]})}}function ap(l,r){const i=new Bo({ctx:l.ctx,options:r,chart:l});rr.configure(l,i,r),rr.addBox(l,i),l.titleBlock=i}var lp={id:"title",_element:Bo,start(l,r,i){ap(l,i)},stop(l){const r=l.titleBlock;rr.removeBox(l,r),delete l.titleBlock},beforeUpdate(l,r,i){const t=l.titleBlock;rr.configure(l,t,i),t.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ys=new WeakMap;var cp={id:"subtitle",start(l,r,i){const t=new Bo({ctx:l.ctx,options:i,chart:l});rr.configure(l,t,i),rr.addBox(l,t),ys.set(l,t)},stop(l){rr.removeBox(l,ys.get(l)),ys.delete(l)},beforeUpdate(l,r,i){const t=ys.get(l);rr.configure(l,t,i),t.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const In={average(l){if(!l.length)return!1;let r,i,t=0,d=0,a=0;for(r=0,i=l.length;r<i;++r){const n=l[r].element;if(n&&n.hasValue()){const o=n.tooltipPosition();t+=o.x,d+=o.y,++a}}return{x:t/a,y:d/a}},nearest(l,r){if(!l.length)return!1;let i=r.x,t=r.y,d=Number.POSITIVE_INFINITY,a,n,o;for(a=0,n=l.length;a<n;++a){const s=l[a].element;if(s&&s.hasValue()){const u=s.getCenterPoint(),b=co(r,u);b<d&&(d=b,o=s)}}if(o){const s=o.tooltipPosition();i=s.x,t=s.y}return{x:i,y:t}}};function _r(l,r){return r&&(Et(r)?Array.prototype.push.apply(l,r):l.push(r)),l}function Er(l){return(typeof l=="string"||l instanceof String)&&l.indexOf(`
`)>-1?l.split(`
`):l}function up(l,r){const{element:i,datasetIndex:t,index:d}=r,a=l.getDatasetMeta(t).controller,{label:n,value:o}=a.getLabelAndValue(d);return{chart:l,label:n,parsed:a.getParsed(d),raw:l.data.datasets[t].data[d],formattedValue:o,dataset:a.getDataset(),dataIndex:d,datasetIndex:t,element:i}}function Da(l,r){const i=l.chart.ctx,{body:t,footer:d,title:a}=l,{boxWidth:n,boxHeight:o}=r,s=Vt(r.bodyFont),u=Vt(r.titleFont),b=Vt(r.footerFont),y=a.length,c=d.length,h=t.length,f=nr(r.padding);let p=f.height,m=0,v=t.reduce((x,j)=>x+j.before.length+j.lines.length+j.after.length,0);if(v+=l.beforeBody.length+l.afterBody.length,y&&(p+=y*u.lineHeight+(y-1)*r.titleSpacing+r.titleMarginBottom),v){const x=r.displayColors?Math.max(o,s.lineHeight):s.lineHeight;p+=h*x+(v-h)*s.lineHeight+(v-1)*r.bodySpacing}c&&(p+=r.footerMarginTop+c*b.lineHeight+(c-1)*r.footerSpacing);let _=0;const g=function(x){m=Math.max(m,i.measureText(x).width+_)};return i.save(),i.font=u.string,gt(l.title,g),i.font=s.string,gt(l.beforeBody.concat(l.afterBody),g),_=r.displayColors?n+2+r.boxPadding:0,gt(t,x=>{gt(x.before,g),gt(x.lines,g),gt(x.after,g)}),_=0,i.font=b.string,gt(l.footer,g),i.restore(),m+=f.width,{width:m,height:p}}function dp(l,r){const{y:i,height:t}=r;return i<t/2?"top":i>l.height-t/2?"bottom":"center"}function hp(l,r,i,t){const{x:d,width:a}=t,n=i.caretSize+i.caretPadding;if(l==="left"&&d+a+n>r.width||l==="right"&&d-a-n<0)return!0}function fp(l,r,i,t){const{x:d,width:a}=i,{width:n,chartArea:{left:o,right:s}}=l;let u="center";return t==="center"?u=d<=(o+s)/2?"left":"right":d<=a/2?u="left":d>=n-a/2&&(u="right"),hp(u,l,r,i)&&(u="center"),u}function Ia(l,r,i){const t=i.yAlign||r.yAlign||dp(l,i);return{xAlign:i.xAlign||r.xAlign||fp(l,r,i,t),yAlign:t}}function pp(l,r){let{x:i,width:t}=l;return r==="right"?i-=t:r==="center"&&(i-=t/2),i}function mp(l,r,i){let{y:t,height:d}=l;return r==="top"?t+=i:r==="bottom"?t-=d+i:t-=d/2,t}function Fa(l,r,i,t){const{caretSize:d,caretPadding:a,cornerRadius:n}=l,{xAlign:o,yAlign:s}=i,u=d+a,{topLeft:b,topRight:y,bottomLeft:c,bottomRight:h}=Qr(n);let f=pp(r,o);const p=mp(r,s,u);return s==="center"?o==="left"?f+=u:o==="right"&&(f-=u):o==="left"?f-=Math.max(b,c)+d:o==="right"&&(f+=Math.max(y,h)+d),{x:Xt(f,0,t.width-r.width),y:Xt(p,0,t.height-r.height)}}function gs(l,r,i){const t=nr(i.padding);return r==="center"?l.x+l.width/2:r==="right"?l.x+l.width-t.right:l.x+t.left}function Na(l){return _r([],Er(l))}function yp(l,r,i){return zr(l,{tooltip:r,tooltipItems:i,type:"tooltip"})}function Ba(l,r){const i=r&&r.dataset&&r.dataset.tooltip&&r.dataset.tooltip.callbacks;return i?l.override(i):l}const Zl={beforeTitle:Mr,title(l){if(l.length>0){const r=l[0],i=r.chart.data.labels,t=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return r.dataset.label||"";if(r.label)return r.label;if(t>0&&r.dataIndex<t)return i[r.dataIndex]}return""},afterTitle:Mr,beforeBody:Mr,beforeLabel:Mr,label(l){if(this&&this.options&&this.options.mode==="dataset")return l.label+": "+l.formattedValue||l.formattedValue;let r=l.dataset.label||"";r&&(r+=": ");const i=l.formattedValue;return pt(i)||(r+=i),r},labelColor(l){const i=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(l){const i=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Mr,afterBody:Mr,beforeFooter:Mr,footer:Mr,afterFooter:Mr};function or(l,r,i,t){const d=l[r].call(i,t);return typeof d>"u"?Zl[r].call(i,t):d}class Ua extends Lr{static positioners=In;constructor(r){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=r.chart,this.options=r.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(r){this.options=r,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const r=this._cachedAnimations;if(r)return r;const i=this.chart,t=this.options.setContext(this.getContext()),d=t.enabled&&i.options.animation&&t.animations,a=new El(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=yp(this.chart.getContext(),this,this._tooltipItems))}getTitle(r,i){const{callbacks:t}=i,d=or(t,"beforeTitle",this,r),a=or(t,"title",this,r),n=or(t,"afterTitle",this,r);let o=[];return o=_r(o,Er(d)),o=_r(o,Er(a)),o=_r(o,Er(n)),o}getBeforeBody(r,i){return Na(or(i.callbacks,"beforeBody",this,r))}getBody(r,i){const{callbacks:t}=i,d=[];return gt(r,a=>{const n={before:[],lines:[],after:[]},o=Ba(t,a);_r(n.before,Er(or(o,"beforeLabel",this,a))),_r(n.lines,or(o,"label",this,a)),_r(n.after,Er(or(o,"afterLabel",this,a))),d.push(n)}),d}getAfterBody(r,i){return Na(or(i.callbacks,"afterBody",this,r))}getFooter(r,i){const{callbacks:t}=i,d=or(t,"beforeFooter",this,r),a=or(t,"footer",this,r),n=or(t,"afterFooter",this,r);let o=[];return o=_r(o,Er(d)),o=_r(o,Er(a)),o=_r(o,Er(n)),o}_createItems(r){const i=this._active,t=this.chart.data,d=[],a=[],n=[];let o=[],s,u;for(s=0,u=i.length;s<u;++s)o.push(up(this.chart,i[s]));return r.filter&&(o=o.filter((b,y,c)=>r.filter(b,y,c,t))),r.itemSort&&(o=o.sort((b,y)=>r.itemSort(b,y,t))),gt(o,b=>{const y=Ba(r.callbacks,b);d.push(or(y,"labelColor",this,b)),a.push(or(y,"labelPointStyle",this,b)),n.push(or(y,"labelTextColor",this,b))}),this.labelColors=d,this.labelPointStyles=a,this.labelTextColors=n,this.dataPoints=o,o}update(r,i){const t=this.options.setContext(this.getContext()),d=this._active;let a,n=[];if(!d.length)this.opacity!==0&&(a={opacity:0});else{const o=In[t.position].call(this,d,this._eventPosition);n=this._createItems(t),this.title=this.getTitle(n,t),this.beforeBody=this.getBeforeBody(n,t),this.body=this.getBody(n,t),this.afterBody=this.getAfterBody(n,t),this.footer=this.getFooter(n,t);const s=this._size=Da(this,t),u=Object.assign({},o,s),b=Ia(this.chart,t,u),y=Fa(t,u,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,a={opacity:1,x:y.x,y:y.y,width:s.width,height:s.height,caretX:o.x,caretY:o.y}}this._tooltipItems=n,this.$context=void 0,a&&this._resolveAnimations().update(this,a),r&&t.external&&t.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(r,i,t,d){const a=this.getCaretPosition(r,t,d);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(r,i,t){const{xAlign:d,yAlign:a}=this,{caretSize:n,cornerRadius:o}=t,{topLeft:s,topRight:u,bottomLeft:b,bottomRight:y}=Qr(o),{x:c,y:h}=r,{width:f,height:p}=i;let m,v,_,g,x,j;return a==="center"?(x=h+p/2,d==="left"?(m=c,v=m-n,g=x+n,j=x-n):(m=c+f,v=m+n,g=x-n,j=x+n),_=m):(d==="left"?v=c+Math.max(s,b)+n:d==="right"?v=c+f-Math.max(u,y)-n:v=this.caretX,a==="top"?(g=h,x=g-n,m=v-n,_=v+n):(g=h+p,x=g+n,m=v+n,_=v-n),j=g),{x1:m,x2:v,x3:_,y1:g,y2:x,y3:j}}drawTitle(r,i,t){const d=this.title,a=d.length;let n,o,s;if(a){const u=fn(t.rtl,this.x,this.width);for(r.x=gs(this,t.titleAlign,t),i.textAlign=u.textAlign(t.titleAlign),i.textBaseline="middle",n=Vt(t.titleFont),o=t.titleSpacing,i.fillStyle=t.titleColor,i.font=n.string,s=0;s<a;++s)i.fillText(d[s],u.x(r.x),r.y+n.lineHeight/2),r.y+=n.lineHeight+o,s+1===a&&(r.y+=t.titleMarginBottom-o)}}_drawColorBox(r,i,t,d,a){const n=this.labelColors[t],o=this.labelPointStyles[t],{boxHeight:s,boxWidth:u}=a,b=Vt(a.bodyFont),y=gs(this,"left",a),c=d.x(y),h=s<b.lineHeight?(b.lineHeight-s)/2:0,f=i.y+h;if(a.usePointStyle){const p={radius:Math.min(u,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},m=d.leftForLtr(c,u)+u/2,v=f+s/2;r.strokeStyle=a.multiKeyBackground,r.fillStyle=a.multiKeyBackground,ho(r,p,m,v),r.strokeStyle=n.borderColor,r.fillStyle=n.backgroundColor,ho(r,p,m,v)}else{r.lineWidth=ut(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,r.strokeStyle=n.borderColor,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset||0;const p=d.leftForLtr(c,u),m=d.leftForLtr(d.xPlus(c,1),u-2),v=Qr(n.borderRadius);Object.values(v).some(_=>_!==0)?(r.beginPath(),r.fillStyle=a.multiKeyBackground,Wn(r,{x:p,y:f,w:u,h:s,radius:v}),r.fill(),r.stroke(),r.fillStyle=n.backgroundColor,r.beginPath(),Wn(r,{x:m,y:f+1,w:u-2,h:s-2,radius:v}),r.fill()):(r.fillStyle=a.multiKeyBackground,r.fillRect(p,f,u,s),r.strokeRect(p,f,u,s),r.fillStyle=n.backgroundColor,r.fillRect(m,f+1,u-2,s-2))}r.fillStyle=this.labelTextColors[t]}drawBody(r,i,t){const{body:d}=this,{bodySpacing:a,bodyAlign:n,displayColors:o,boxHeight:s,boxWidth:u,boxPadding:b}=t,y=Vt(t.bodyFont);let c=y.lineHeight,h=0;const f=fn(t.rtl,this.x,this.width),p=function(T){i.fillText(T,f.x(r.x+h),r.y+c/2),r.y+=c+a},m=f.textAlign(n);let v,_,g,x,j,E,M;for(i.textAlign=n,i.textBaseline="middle",i.font=y.string,r.x=gs(this,m,t),i.fillStyle=t.bodyColor,gt(this.beforeBody,p),h=o&&m!=="right"?n==="center"?u/2+b:u+2+b:0,x=0,E=d.length;x<E;++x){for(v=d[x],_=this.labelTextColors[x],i.fillStyle=_,gt(v.before,p),g=v.lines,o&&g.length&&(this._drawColorBox(i,r,x,f,t),c=Math.max(y.lineHeight,s)),j=0,M=g.length;j<M;++j)p(g[j]),c=y.lineHeight;gt(v.after,p)}h=0,c=y.lineHeight,gt(this.afterBody,p),r.y-=a}drawFooter(r,i,t){const d=this.footer,a=d.length;let n,o;if(a){const s=fn(t.rtl,this.x,this.width);for(r.x=gs(this,t.footerAlign,t),r.y+=t.footerMarginTop,i.textAlign=s.textAlign(t.footerAlign),i.textBaseline="middle",n=Vt(t.footerFont),i.fillStyle=t.footerColor,i.font=n.string,o=0;o<a;++o)i.fillText(d[o],s.x(r.x),r.y+n.lineHeight/2),r.y+=n.lineHeight+t.footerSpacing}}drawBackground(r,i,t,d){const{xAlign:a,yAlign:n}=this,{x:o,y:s}=r,{width:u,height:b}=t,{topLeft:y,topRight:c,bottomLeft:h,bottomRight:f}=Qr(d.cornerRadius);i.fillStyle=d.backgroundColor,i.strokeStyle=d.borderColor,i.lineWidth=d.borderWidth,i.beginPath(),i.moveTo(o+y,s),n==="top"&&this.drawCaret(r,i,t,d),i.lineTo(o+u-c,s),i.quadraticCurveTo(o+u,s,o+u,s+c),n==="center"&&a==="right"&&this.drawCaret(r,i,t,d),i.lineTo(o+u,s+b-f),i.quadraticCurveTo(o+u,s+b,o+u-f,s+b),n==="bottom"&&this.drawCaret(r,i,t,d),i.lineTo(o+h,s+b),i.quadraticCurveTo(o,s+b,o,s+b-h),n==="center"&&a==="left"&&this.drawCaret(r,i,t,d),i.lineTo(o,s+y),i.quadraticCurveTo(o,s,o+y,s),i.closePath(),i.fill(),d.borderWidth>0&&i.stroke()}_updateAnimationTarget(r){const i=this.chart,t=this.$animations,d=t&&t.x,a=t&&t.y;if(d||a){const n=In[r.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=Da(this,r),s=Object.assign({},n,this._size),u=Ia(i,r,s),b=Fa(r,s,u,i);(d._to!==b.x||a._to!==b.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(r){const i=this.options.setContext(this.getContext());let t=this.opacity;if(!t)return;this._updateAnimationTarget(i);const d={width:this.width,height:this.height},a={x:this.x,y:this.y};t=Math.abs(t)<.001?0:t;const n=nr(i.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&o&&(r.save(),r.globalAlpha=t,this.drawBackground(a,r,d,i),wl(r,i.textDirection),a.y+=n.top,this.drawTitle(a,r,i),this.drawBody(a,r,i),this.drawFooter(a,r,i),jl(r,i.textDirection),r.restore())}getActiveElements(){return this._active||[]}setActiveElements(r,i){const t=this._active,d=r.map(({datasetIndex:o,index:s})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[s],index:s}}),a=!Ts(t,d),n=this._positionChanged(d,i);(a||n)&&(this._active=d,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(r,i,t=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const d=this.options,a=this._active||[],n=this._getActiveElements(r,a,i,t),o=this._positionChanged(n,r),s=i||!Ts(n,a)||o;return s&&(this._active=n,(d.enabled||d.external)&&(this._eventPosition={x:r.x,y:r.y},this.update(!0,i))),s}_getActiveElements(r,i,t,d){const a=this.options;if(r.type==="mouseout")return[];if(!d)return i.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const n=this.chart.getElementsAtEventForMode(r,a.mode,a,t);return a.reverse&&n.reverse(),n}_positionChanged(r,i){const{caretX:t,caretY:d,options:a}=this,n=In[a.position].call(this,r,i);return n!==!1&&(t!==n.x||d!==n.y)}}var gp={id:"tooltip",_element:Ua,positioners:In,afterInit(l,r,i){i&&(l.tooltip=new Ua({chart:l,options:i}))},beforeUpdate(l,r,i){l.tooltip&&l.tooltip.initialize(i)},reset(l,r,i){l.tooltip&&l.tooltip.initialize(i)},afterDraw(l){const r=l.tooltip;if(r&&r._willRender()){const i={tooltip:r};if(l.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;r.draw(l.ctx),l.notifyPlugins("afterTooltipDraw",i)}},afterEvent(l,r){if(l.tooltip){const i=r.replay;l.tooltip.handleEvent(r.event,i,r.inChartArea)&&(r.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(l,r)=>r.bodyFont.size,boxWidth:(l,r)=>r.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:l=>l!=="filter"&&l!=="itemSort"&&l!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},bp=Object.freeze({__proto__:null,Colors:Of,Decimation:Rf,Filler:ep,Legend:ip,SubTitle:cp,Title:lp,Tooltip:gp});const vp=(l,r,i,t)=>(typeof r=="string"?(i=l.push(r)-1,t.unshift({index:i,label:r})):isNaN(r)&&(i=null),i);function _p(l,r,i,t){const d=l.indexOf(r);if(d===-1)return vp(l,r,i,t);const a=l.lastIndexOf(r);return d!==a?i:d}const xp=(l,r)=>l===null?null:Xt(Math.round(l),0,r);function Ga(l){const r=this.getLabels();return l>=0&&l<r.length?r[l]:l}class wp extends rn{static id="category";static defaults={ticks:{callback:Ga}};constructor(r){super(r),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(r){const i=this._addedLabels;if(i.length){const t=this.getLabels();for(const{index:d,label:a}of i)t[d]===a&&t.splice(d,1);this._addedLabels=[]}super.init(r)}parse(r,i){if(pt(r))return null;const t=this.getLabels();return i=isFinite(i)&&t[i]===r?i:_p(t,r,at(i,r),this._addedLabels),xp(i,t.length-1)}determineDataLimits(){const{minDefined:r,maxDefined:i}=this.getUserBounds();let{min:t,max:d}=this.getMinMax(!0);this.options.bounds==="ticks"&&(r||(t=0),i||(d=this.getLabels().length-1)),this.min=t,this.max=d}buildTicks(){const r=this.min,i=this.max,t=this.options.offset,d=[];let a=this.getLabels();a=r===0&&i===a.length-1?a:a.slice(r,i+1),this._valueRange=Math.max(a.length-(t?0:1),1),this._startValue=this.min-(t?.5:0);for(let n=r;n<=i;n++)d.push({value:n});return d}getLabelForValue(r){return Ga.call(this,r)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(r){return typeof r!="number"&&(r=this.parse(r)),r===null?NaN:this.getPixelForDecimal((r-this._startValue)/this._valueRange)}getPixelForTick(r){const i=this.ticks;return r<0||r>i.length-1?null:this.getPixelForValue(i[r].value)}getValueForPixel(r){return Math.round(this._startValue+this.getDecimalForPixel(r)*this._valueRange)}getBasePixel(){return this.bottom}}function jp(l,r){const i=[],{bounds:d,step:a,min:n,max:o,precision:s,count:u,maxTicks:b,maxDigits:y,includeBounds:c}=l,h=a||1,f=b-1,{min:p,max:m}=r,v=!pt(n),_=!pt(o),g=!pt(u),x=(m-p)/(y+1);let j=Ri((m-p)/f/h)*h,E,M,T,O;if(j<1e-14&&!v&&!_)return[{value:p},{value:m}];O=Math.ceil(m/j)-Math.floor(p/j),O>f&&(j=Ri(O*j/f/h)*h),pt(s)||(E=Math.pow(10,s),j=Math.ceil(j*E)/E),d==="ticks"?(M=Math.floor(p/j)*j,T=Math.ceil(m/j)*j):(M=p,T=m),v&&_&&a&&iu((o-n)/a,j/1e3)?(O=Math.round(Math.min((o-n)/j,b)),j=(o-n)/O,M=n,T=o):g?(M=v?n:M,T=_?o:T,O=u-1,j=(T-M)/O):(O=(T-M)/j,Nn(O,Math.round(O),j/1e3)?O=Math.round(O):O=Math.ceil(O));const R=Math.max(Di(j),Di(M));E=Math.pow(10,pt(s)?R:s),M=Math.round(M*E)/E,T=Math.round(T*E)/E;let k=0;for(v&&(c&&M!==n?(i.push({value:n}),M<n&&k++,Nn(Math.round((M+k*j)*E)/E,n,Va(n,x,l))&&k++):M<n&&k++);k<O;++k){const D=Math.round((M+k*j)*E)/E;if(_&&D>o)break;i.push({value:D})}return _&&c&&T!==o?i.length&&Nn(i[i.length-1].value,o,Va(o,x,l))?i[i.length-1].value=o:i.push({value:o}):(!_||T===o)&&i.push({value:T}),i}function Va(l,r,{horizontal:i,minRotation:t}){const d=pr(t),a=(i?Math.sin(d):Math.cos(d))||.001,n=.75*r*(""+l).length;return Math.min(r/a,n)}class As extends rn{constructor(r){super(r),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(r,i){return pt(r)||(typeof r=="number"||r instanceof Number)&&!isFinite(+r)?null:+r}handleTickRangeOptions(){const{beginAtZero:r}=this.options,{minDefined:i,maxDefined:t}=this.getUserBounds();let{min:d,max:a}=this;const n=s=>d=i?d:s,o=s=>a=t?a:s;if(r){const s=wr(d),u=wr(a);s<0&&u<0?o(0):s>0&&u>0&&n(0)}if(d===a){let s=a===0?1:Math.abs(a*.05);o(a+s),r||n(d-s)}this.min=d,this.max=a}getTickLimit(){const r=this.options.ticks;let{maxTicksLimit:i,stepSize:t}=r,d;return t?(d=Math.ceil(this.max/t)-Math.floor(this.min/t)+1,d>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${t} would result generating up to ${d} ticks. Limiting to 1000.`),d=1e3)):(d=this.computeTickLimit(),i=i||11),i&&(d=Math.min(i,d)),d}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const r=this.options,i=r.ticks;let t=this.getTickLimit();t=Math.max(2,t);const d={maxTicks:t,bounds:r.bounds,min:r.min,max:r.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},a=this._range||this,n=jp(d,a);return r.bounds==="ticks"&&ol(n,this,"value"),r.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const r=this.ticks;let i=this.min,t=this.max;if(super.configure(),this.options.offset&&r.length){const d=(t-i)/Math.max(r.length-1,1)/2;i-=d,t+=d}this._startValue=i,this._endValue=t,this._valueRange=t-i}getLabelForValue(r){return $n(r,this.chart.options.locale,this.options.ticks.format)}}class Sp extends As{static id="linear";static defaults={ticks:{callback:Ds.formatters.numeric}};determineDataLimits(){const{min:r,max:i}=this.getMinMax(!0);this.min=Rt(r)?r:0,this.max=Rt(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const r=this.isHorizontal(),i=r?this.width:this.height,t=pr(this.options.ticks.minRotation),d=(r?Math.sin(t):Math.cos(t))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,a.lineHeight/d))}getPixelForValue(r){return r===null?NaN:this.getPixelForDecimal((r-this._startValue)/this._valueRange)}getValueForPixel(r){return this._startValue+this.getDecimalForPixel(r)*this._valueRange}}const Xn=l=>Math.floor(Fr(l)),Yr=(l,r)=>Math.pow(10,Xn(l)+r);function za(l){return l/Math.pow(10,Xn(l))===1}function Ha(l,r,i){const t=Math.pow(10,i),d=Math.floor(l/t);return Math.ceil(r/t)-d}function Mp(l,r){const i=r-l;let t=Xn(i);for(;Ha(l,r,t)>10;)t++;for(;Ha(l,r,t)<10;)t--;return Math.min(t,Xn(l))}function Tp(l,{min:r,max:i}){r=lr(l.min,r);const t=[],d=Xn(r);let a=Mp(r,i),n=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),s=d>a?Math.pow(10,d):0,u=Math.round((r-s)*n)/n,b=Math.floor((r-s)/o/10)*o*10;let y=Math.floor((u-b)/Math.pow(10,a)),c=lr(l.min,Math.round((s+b+y*Math.pow(10,a))*n)/n);for(;c<i;)t.push({value:c,major:za(c),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(a++,y=2,n=a>=0?1:n),c=Math.round((s+b+y*Math.pow(10,a))*n)/n;const h=lr(l.max,c);return t.push({value:h,major:za(h),significand:y}),t}class Ep extends rn{static id="logarithmic";static defaults={ticks:{callback:Ds.formatters.logarithmic,major:{enabled:!0}}};constructor(r){super(r),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(r,i){const t=As.prototype.parse.apply(this,[r,i]);if(t===0){this._zero=!0;return}return Rt(t)&&t>0?t:null}determineDataLimits(){const{min:r,max:i}=this.getMinMax(!0);this.min=Rt(r)?Math.max(0,r):null,this.max=Rt(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Rt(this._userMin)&&(this.min=r===Yr(this.min,0)?Yr(this.min,-1):Yr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:r,maxDefined:i}=this.getUserBounds();let t=this.min,d=this.max;const a=o=>t=r?t:o,n=o=>d=i?d:o;t===d&&(t<=0?(a(1),n(10)):(a(Yr(t,-1)),n(Yr(d,1)))),t<=0&&a(Yr(d,-1)),d<=0&&n(Yr(t,1)),this.min=t,this.max=d}buildTicks(){const r=this.options,i={min:this._userMin,max:this._userMax},t=Tp(i,this);return r.bounds==="ticks"&&ol(t,this,"value"),r.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(r){return r===void 0?"0":$n(r,this.chart.options.locale,this.options.ticks.format)}configure(){const r=this.min;super.configure(),this._startValue=Fr(r),this._valueRange=Fr(this.max)-Fr(r)}getPixelForValue(r){return(r===void 0||r===0)&&(r=this.min),r===null||isNaN(r)?NaN:this.getPixelForDecimal(r===this.min?0:(Fr(r)-this._startValue)/this._valueRange)}getValueForPixel(r){const i=this.getDecimalForPixel(r);return Math.pow(10,this._startValue+i*this._valueRange)}}function bo(l){const r=l.ticks;if(r.display&&l.display){const i=nr(r.backdropPadding);return at(r.font&&r.font.size,Dt.font.size)+i.height}return 0}function kp(l,r,i){return i=Et(i)?i:[i],{w:ju(l,r.string,i),h:i.length*r.lineHeight}}function Wa(l,r,i,t,d){return l===t||l===d?{start:r-i/2,end:r+i/2}:l<t||l>d?{start:r-i,end:r}:{start:r,end:r+i}}function Cp(l){const r={l:l.left+l._padding.left,r:l.right-l._padding.right,t:l.top+l._padding.top,b:l.bottom-l._padding.bottom},i=Object.assign({},r),t=[],d=[],a=l._pointLabels.length,n=l.options.pointLabels,o=n.centerPointLabels?Ct/a:0;for(let s=0;s<a;s++){const u=n.setContext(l.getPointLabelContext(s));d[s]=u.padding;const b=l.getPointPosition(s,l.drawingArea+d[s],o),y=Vt(u.font),c=kp(l.ctx,y,l._pointLabels[s]);t[s]=c;const h=cr(l.getIndexAngle(s)+o),f=Math.round(To(h)),p=Wa(f,b.x,c.w,0,180),m=Wa(f,b.y,c.h,90,270);Op(i,r,h,p,m)}l.setCenterPoint(r.l-i.l,i.r-r.r,r.t-i.t,i.b-r.b),l._pointLabelItems=Ap(l,t,d)}function Op(l,r,i,t,d){const a=Math.abs(Math.sin(i)),n=Math.abs(Math.cos(i));let o=0,s=0;t.start<r.l?(o=(r.l-t.start)/a,l.l=Math.min(l.l,r.l-o)):t.end>r.r&&(o=(t.end-r.r)/a,l.r=Math.max(l.r,r.r+o)),d.start<r.t?(s=(r.t-d.start)/n,l.t=Math.min(l.t,r.t-s)):d.end>r.b&&(s=(d.end-r.b)/n,l.b=Math.max(l.b,r.b+s))}function Pp(l,r,i){const t=l.drawingArea,{extra:d,additionalAngle:a,padding:n,size:o}=i,s=l.getPointPosition(r,t+d+n,a),u=Math.round(To(cr(s.angle+Ft))),b=Ip(s.y,o.h,u),y=Rp(u),c=Dp(s.x,o.w,y);return{visible:!0,x:s.x,y:b,textAlign:y,left:c,top:b,right:c+o.w,bottom:b+o.h}}function Lp(l,r){if(!r)return!0;const{left:i,top:t,right:d,bottom:a}=l;return!(Pr({x:i,y:t},r)||Pr({x:i,y:a},r)||Pr({x:d,y:t},r)||Pr({x:d,y:a},r))}function Ap(l,r,i){const t=[],d=l._pointLabels.length,a=l.options,{centerPointLabels:n,display:o}=a.pointLabels,s={extra:bo(a)/2,additionalAngle:n?Ct/d:0};let u;for(let b=0;b<d;b++){s.padding=i[b],s.size=r[b];const y=Pp(l,b,s);t.push(y),o==="auto"&&(y.visible=Lp(y,u),y.visible&&(u=y))}return t}function Rp(l){return l===0||l===180?"center":l<180?"left":"right"}function Dp(l,r,i){return i==="right"?l-=r:i==="center"&&(l-=r/2),l}function Ip(l,r,i){return i===90||i===270?l-=r/2:(i>270||i<90)&&(l-=r),l}function Fp(l,r,i){const{left:t,top:d,right:a,bottom:n}=i,{backdropColor:o}=r;if(!pt(o)){const s=Qr(r.borderRadius),u=nr(r.backdropPadding);l.fillStyle=o;const b=t-u.left,y=d-u.top,c=a-t+u.width,h=n-d+u.height;Object.values(s).some(f=>f!==0)?(l.beginPath(),Wn(l,{x:b,y,w:c,h,radius:s}),l.fill()):l.fillRect(b,y,c,h)}}function Np(l,r){const{ctx:i,options:{pointLabels:t}}=l;for(let d=r-1;d>=0;d--){const a=l._pointLabelItems[d];if(!a.visible)continue;const n=t.setContext(l.getPointLabelContext(d));Fp(i,n,a);const o=Vt(n.font),{x:s,y:u,textAlign:b}=a;tn(i,l._pointLabels[d],s,u+o.lineHeight/2,o,{color:n.color,textAlign:b,textBaseline:"middle"})}}function $l(l,r,i,t){const{ctx:d}=l;if(i)d.arc(l.xCenter,l.yCenter,r,0,kt);else{let a=l.getPointPosition(0,r);d.moveTo(a.x,a.y);for(let n=1;n<t;n++)a=l.getPointPosition(n,r),d.lineTo(a.x,a.y)}}function Bp(l,r,i,t,d){const a=l.ctx,n=r.circular,{color:o,lineWidth:s}=r;!n&&!t||!o||!s||i<0||(a.save(),a.strokeStyle=o,a.lineWidth=s,a.setLineDash(d.dash),a.lineDashOffset=d.dashOffset,a.beginPath(),$l(l,i,n,t),a.closePath(),a.stroke(),a.restore())}function Up(l,r,i){return zr(l,{label:i,index:r,type:"pointLabel"})}class Gp extends As{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ds.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(r){return r},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(r){super(r),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const r=this._padding=nr(bo(this.options)/2),i=this.width=this.maxWidth-r.width,t=this.height=this.maxHeight-r.height;this.xCenter=Math.floor(this.left+i/2+r.left),this.yCenter=Math.floor(this.top+t/2+r.top),this.drawingArea=Math.floor(Math.min(i,t)/2)}determineDataLimits(){const{min:r,max:i}=this.getMinMax(!1);this.min=Rt(r)&&!isNaN(r)?r:0,this.max=Rt(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/bo(this.options))}generateTickLabels(r){As.prototype.generateTickLabels.call(this,r),this._pointLabels=this.getLabels().map((i,t)=>{const d=jt(this.options.pointLabels.callback,[i,t],this);return d||d===0?d:""}).filter((i,t)=>this.chart.getDataVisibility(t))}fit(){const r=this.options;r.display&&r.pointLabels.display?Cp(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(r,i,t,d){this.xCenter+=Math.floor((r-i)/2),this.yCenter+=Math.floor((t-d)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(r,i,t,d))}getIndexAngle(r){const i=kt/(this._pointLabels.length||1),t=this.options.startAngle||0;return cr(r*i+pr(t))}getDistanceFromCenterForValue(r){if(pt(r))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-r)*i:(r-this.min)*i}getValueForDistanceFromCenter(r){if(pt(r))return NaN;const i=r/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(r){const i=this._pointLabels||[];if(r>=0&&r<i.length){const t=i[r];return Up(this.getContext(),r,t)}}getPointPosition(r,i,t=0){const d=this.getIndexAngle(r)-Ft+t;return{x:Math.cos(d)*i+this.xCenter,y:Math.sin(d)*i+this.yCenter,angle:d}}getPointPositionForValue(r,i){return this.getPointPosition(r,this.getDistanceFromCenterForValue(i))}getBasePosition(r){return this.getPointPositionForValue(r||0,this.getBaseValue())}getPointLabelPosition(r){const{left:i,top:t,right:d,bottom:a}=this._pointLabelItems[r];return{left:i,top:t,right:d,bottom:a}}drawBackground(){const{backgroundColor:r,grid:{circular:i}}=this.options;if(r){const t=this.ctx;t.save(),t.beginPath(),$l(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),t.closePath(),t.fillStyle=r,t.fill(),t.restore()}}drawGrid(){const r=this.ctx,i=this.options,{angleLines:t,grid:d,border:a}=i,n=this._pointLabels.length;let o,s,u;if(i.pointLabels.display&&Np(this,n),d.display&&this.ticks.forEach((b,y)=>{if(y!==0){s=this.getDistanceFromCenterForValue(b.value);const c=this.getContext(y),h=d.setContext(c),f=a.setContext(c);Bp(this,h,s,n,f)}}),t.display){for(r.save(),o=n-1;o>=0;o--){const b=t.setContext(this.getPointLabelContext(o)),{color:y,lineWidth:c}=b;!c||!y||(r.lineWidth=c,r.strokeStyle=y,r.setLineDash(b.borderDash),r.lineDashOffset=b.borderDashOffset,s=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),u=this.getPointPosition(o,s),r.beginPath(),r.moveTo(this.xCenter,this.yCenter),r.lineTo(u.x,u.y),r.stroke())}r.restore()}}drawBorder(){}drawLabels(){const r=this.ctx,i=this.options,t=i.ticks;if(!t.display)return;const d=this.getIndexAngle(0);let a,n;r.save(),r.translate(this.xCenter,this.yCenter),r.rotate(d),r.textAlign="center",r.textBaseline="middle",this.ticks.forEach((o,s)=>{if(s===0&&!i.reverse)return;const u=t.setContext(this.getContext(s)),b=Vt(u.font);if(a=this.getDistanceFromCenterForValue(this.ticks[s].value),u.showLabelBackdrop){r.font=b.string,n=r.measureText(o.label).width,r.fillStyle=u.backdropColor;const y=nr(u.backdropPadding);r.fillRect(-n/2-y.left,-a-b.size/2-y.top,n+y.width,b.size+y.height)}tn(r,o.label,0,-a,b,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),r.restore()}drawTitle(){}}const Us={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ir=Object.keys(Us);function qa(l,r){return l-r}function Xa(l,r){if(pt(r))return null;const i=l._adapter,{parser:t,round:d,isoWeekday:a}=l._parseOpts;let n=r;return typeof t=="function"&&(n=t(n)),Rt(n)||(n=typeof t=="string"?i.parse(n,t):i.parse(n)),n===null?null:(d&&(n=d==="week"&&(pn(a)||a===!0)?i.startOf(n,"isoWeek",a):i.startOf(n,d)),+n)}function Ya(l,r,i,t){const d=ir.length;for(let a=ir.indexOf(l);a<d-1;++a){const n=Us[ir[a]],o=n.steps?n.steps:Number.MAX_SAFE_INTEGER;if(n.common&&Math.ceil((i-r)/(o*n.size))<=t)return ir[a]}return ir[d-1]}function Vp(l,r,i,t,d){for(let a=ir.length-1;a>=ir.indexOf(i);a--){const n=ir[a];if(Us[n].common&&l._adapter.diff(d,t,n)>=r-1)return n}return ir[i?ir.indexOf(i):0]}function zp(l){for(let r=ir.indexOf(l)+1,i=ir.length;r<i;++r)if(Us[ir[r]].common)return ir[r]}function Za(l,r,i){if(!i)l[r]=!0;else if(i.length){const{lo:t,hi:d}=Eo(i,r),a=i[t]>=r?i[t]:i[d];l[a]=!0}}function Hp(l,r,i,t){const d=l._adapter,a=+d.startOf(r[0].value,t),n=r[r.length-1].value;let o,s;for(o=a;o<=n;o=+d.add(o,1,t))s=i[o],s>=0&&(r[s].major=!0);return r}function $a(l,r,i){const t=[],d={},a=r.length;let n,o;for(n=0;n<a;++n)o=r[n],d[o]=n,t.push({value:o,major:!1});return a===0||!i?t:Hp(l,t,d,i)}class vo extends rn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(r){super(r),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(r,i={}){const t=r.time||(r.time={}),d=this._adapter=new Wd._date(r.adapters.date);d.init(i),Fn(t.displayFormats,d.formats()),this._parseOpts={parser:t.parser,round:t.round,isoWeekday:t.isoWeekday},super.init(r),this._normalized=i.normalized}parse(r,i){return r===void 0?null:Xa(this,r)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const r=this.options,i=this._adapter,t=r.time.unit||"day";let{min:d,max:a,minDefined:n,maxDefined:o}=this.getUserBounds();function s(u){!n&&!isNaN(u.min)&&(d=Math.min(d,u.min)),!o&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!n||!o)&&(s(this._getLabelBounds()),(r.bounds!=="ticks"||r.ticks.source!=="labels")&&s(this.getMinMax(!1))),d=Rt(d)&&!isNaN(d)?d:+i.startOf(Date.now(),t),a=Rt(a)&&!isNaN(a)?a:+i.endOf(Date.now(),t)+1,this.min=Math.min(d,a-1),this.max=Math.max(d+1,a)}_getLabelBounds(){const r=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;return r.length&&(i=r[0],t=r[r.length-1]),{min:i,max:t}}buildTicks(){const r=this.options,i=r.time,t=r.ticks,d=t.source==="labels"?this.getLabelTimestamps():this._generate();r.bounds==="ticks"&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);const a=this.min,n=this.max,o=uu(d,a,n);return this._unit=i.unit||(t.autoSkip?Ya(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):Vp(this,o.length,i.minUnit,this.min,this.max)),this._majorUnit=!t.major.enabled||this._unit==="year"?void 0:zp(this._unit),this.initOffsets(d),r.reverse&&o.reverse(),$a(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(r=>+r.value))}initOffsets(r=[]){let i=0,t=0,d,a;this.options.offset&&r.length&&(d=this.getDecimalForValue(r[0]),r.length===1?i=1-d:i=(this.getDecimalForValue(r[1])-d)/2,a=this.getDecimalForValue(r[r.length-1]),r.length===1?t=a:t=(a-this.getDecimalForValue(r[r.length-2]))/2);const n=r.length<3?.5:.25;i=Xt(i,0,n),t=Xt(t,0,n),this._offsets={start:i,end:t,factor:1/(i+1+t)}}_generate(){const r=this._adapter,i=this.min,t=this.max,d=this.options,a=d.time,n=a.unit||Ya(a.minUnit,i,t,this._getLabelCapacity(i)),o=at(d.ticks.stepSize,1),s=n==="week"?a.isoWeekday:!1,u=pn(s)||s===!0,b={};let y=i,c,h;if(u&&(y=+r.startOf(y,"isoWeek",s)),y=+r.startOf(y,u?"day":n),r.diff(t,i,n)>1e5*o)throw new Error(i+" and "+t+" are too far apart with stepSize of "+o+" "+n);const f=d.ticks.source==="data"&&this.getDataTimestamps();for(c=y,h=0;c<t;c=+r.add(c,o,n),h++)Za(b,c,f);return(c===t||d.bounds==="ticks"||h===1)&&Za(b,c,f),Object.keys(b).sort(qa).map(p=>+p)}getLabelForValue(r){const i=this._adapter,t=this.options.time;return t.tooltipFormat?i.format(r,t.tooltipFormat):i.format(r,t.displayFormats.datetime)}format(r,i){const d=this.options.time.displayFormats,a=this._unit,n=i||d[a];return this._adapter.format(r,n)}_tickFormatFunction(r,i,t,d){const a=this.options,n=a.ticks.callback;if(n)return jt(n,[r,i,t],this);const o=a.time.displayFormats,s=this._unit,u=this._majorUnit,b=s&&o[s],y=u&&o[u],c=t[i],h=u&&y&&c&&c.major;return this._adapter.format(r,d||(h?y:b))}generateTickLabels(r){let i,t,d;for(i=0,t=r.length;i<t;++i)d=r[i],d.label=this._tickFormatFunction(d.value,i,r)}getDecimalForValue(r){return r===null?NaN:(r-this.min)/(this.max-this.min)}getPixelForValue(r){const i=this._offsets,t=this.getDecimalForValue(r);return this.getPixelForDecimal((i.start+t)*i.factor)}getValueForPixel(r){const i=this._offsets,t=this.getDecimalForPixel(r)/i.factor-i.end;return this.min+t*(this.max-this.min)}_getLabelSize(r){const i=this.options.ticks,t=this.ctx.measureText(r).width,d=pr(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(d),n=Math.sin(d),o=this._resolveTickFontOptions(0).size;return{w:t*a+o*n,h:t*n+o*a}}_getLabelCapacity(r){const i=this.options.time,t=i.displayFormats,d=t[i.unit]||t.millisecond,a=this._tickFormatFunction(r,0,$a(this,[r],this._majorUnit),d),n=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/n.w:this.height/n.h)-1;return o>0?o:1}getDataTimestamps(){let r=this._cache.data||[],i,t;if(r.length)return r;const d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(i=0,t=d.length;i<t;++i)r=r.concat(d[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const r=this._cache.labels||[];let i,t;if(r.length)return r;const d=this.getLabels();for(i=0,t=d.length;i<t;++i)r.push(Xa(this,d[i]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(r){return ll(r.sort(qa))}}function bs(l,r,i){let t=0,d=l.length-1,a,n,o,s;i?(r>=l[t].pos&&r<=l[d].pos&&({lo:t,hi:d}=Or(l,"pos",r)),{pos:a,time:o}=l[t],{pos:n,time:s}=l[d]):(r>=l[t].time&&r<=l[d].time&&({lo:t,hi:d}=Or(l,"time",r)),{time:a,pos:o}=l[t],{time:n,pos:s}=l[d]);const u=n-a;return u?o+(s-o)*(r-a)/u:o}class Wp extends vo{static id="timeseries";static defaults=vo.defaults;constructor(r){super(r),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const r=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(r);this._minPos=bs(i,this.min),this._tableRange=bs(i,this.max)-this._minPos,super.initOffsets(r)}buildLookupTable(r){const{min:i,max:t}=this,d=[],a=[];let n,o,s,u,b;for(n=0,o=r.length;n<o;++n)u=r[n],u>=i&&u<=t&&d.push(u);if(d.length<2)return[{time:i,pos:0},{time:t,pos:1}];for(n=0,o=d.length;n<o;++n)b=d[n+1],s=d[n-1],u=d[n],Math.round((b+s)/2)!==u&&a.push({time:u,pos:n/(o-1)});return a}_generate(){const r=this.min,i=this.max;let t=super.getDataTimestamps();return(!t.includes(r)||!t.length)&&t.splice(0,0,r),(!t.includes(i)||t.length===1)&&t.push(i),t.sort((d,a)=>d-a)}_getTimestampsForTable(){let r=this._cache.all||[];if(r.length)return r;const i=this.getDataTimestamps(),t=this.getLabelTimestamps();return i.length&&t.length?r=this.normalize(i.concat(t)):r=i.length?i:t,r=this._cache.all=r,r}getDecimalForValue(r){return(bs(this._table,r)-this._minPos)/this._tableRange}getValueForPixel(r){const i=this._offsets,t=this.getDecimalForPixel(r)/i.factor-i.end;return bs(this._table,t*this._tableRange+this._minPos,!0)}}var qp=Object.freeze({__proto__:null,CategoryScale:wp,LinearScale:Sp,LogarithmicScale:Ep,RadialLinearScale:Gp,TimeScale:vo,TimeSeriesScale:Wp});const Xp=[Hd,Sf,bp,qp];Kr.register(...Xp);let sr=[],Qn=(l,r)=>{let i=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},l:r||0,lc:0,listen(d,a){return t.lc=i.push(d,a||t.l)/2,()=>{let n=i.indexOf(d);~n&&(i.splice(n,2),--t.lc||t.off())}},notify(d){let a=!sr.length;for(let n=0;n<i.length;n+=2)sr.push(i[n],i[n+1],t.value,d);if(a){for(let n=0;n<sr.length;n+=4){let o;for(let s=n+1;!o&&(s+=4)<sr.length;)sr[s]<sr[n+1]&&(o=sr.push(sr[n],sr[n+1],sr[n+2],sr[n+3]));o||sr[n](sr[n+2],sr[n+3])}sr.length=0}},off(){},set(d){t.value!==d&&(t.value=d,t.notify())},subscribe(d,a){let n=t.listen(d,a);return d(t.value),n},value:l};return t};const Yp=5,vs=6,_s=10;let Zp=(l,r,i,t)=>(l.events=l.events||{},l.events[i+_s]||(l.events[i+_s]=t(d=>{l.events[i].reduceRight((a,n)=>(n(a),a),{shared:{},...d})})),l.events[i]=l.events[i]||[],l.events[i].push(r),()=>{let d=l.events[i],a=d.indexOf(r);d.splice(a,1),d.length||(delete l.events[i],l.events[i+_s](),delete l.events[i+_s])}),$p=1e3,Kp=(l,r)=>Zp(l,t=>{let d=r(t);d&&l.events[vs].push(d)},Yp,t=>{let d=l.listen;l.listen=(...n)=>(!l.lc&&!l.active&&(l.active=!0,t()),d(...n));let a=l.off;return l.events[vs]=[],l.off=()=>{a(),setTimeout(()=>{if(l.active&&!l.lc){l.active=!1;for(let n of l.events[vs])n();l.events[vs]=[]}},$p)},()=>{l.listen=d,l.off=a}}),Qp=(l,r)=>{Array.isArray(l)||(l=[l]);let i,t=()=>{let a=l.map(n=>n.get());(i===void 0||a.some((n,o)=>n!==i[o]))&&(i=a,d.set(r(...a)))},d=Qn(void 0,Math.max(...l.map(a=>a.l))+1);return Kp(d,()=>{let a=l.map(n=>n.listen(t,d.l));return t(),()=>{for(let n of a)n()}}),d};const Kl=[[.31,.0135,3e-4,0,0],[.7388,.3082,.2522,0,0],[.9461,.3481,.3495,.0392,.021],[.9511,.8511,.648,.3106,.2496],[.9696,.855,.7916,.3002,.3136]],Yn=[[.31,.0067,.0054,.0032,.0031],[.8139,.3128,.275,.0061,.0061],[.9351,.3134,.3417,.0127,.0125],[.9564,.8851,.757,.3616,.2076],[.9627,.8608,.8357,.3457,.3107]],Jp=[[.31,.0071,.0055,.0031,.0031],[.6928,.3033,.2757,.0166,.0147],[.9458,.3504,.3528,.0208,.016],[.9525,.8052,.6549,.3313,.2657],[.9689,.8483,.7857,.3233,.3096]],em=[[.31,.006,.0048,7e-4,5e-4],[.8094,.3193,.2766,.0061,.0061],[.9537,.3193,.3211,.0209,.0171],[.9964,.9,.7933,.3844,.2154],[.9964,.885,.847,.3833,.2741]];let Ql=Array(5).fill(0).map(()=>Array(5).fill(0));const Jl={custom:Ql,dynamic23:Yn,faussurier:Kl,row23ArgonOnly:Jp,row23Frozen:em},io=["1s","2s","2p","3s","3p"],tm=[2,2,6,2,6],rm=[1,2,2,3,3];function Uo(l,r,i){let t=0,d=[];for(let a=0;a<r.length;a++){let n=r[a].level,o=r[a].numElectrons,s=l;for(let u=0;u<r.length;u++)s-=(r[u].numElectrons-(a===u?1:0))*i[a][u];d.push(0-s*s/(2*n*n)),t-=o*(s*s/(2*n*n))}return d=[t,...d],d}function ec(l,r,i){let t={t_i:[],v_i:[],v_ij:[]};const d=Go(l,r,i);for(let a=0;a<r.length;a++){let n=r[a].level;t.t_i.push(d[a]*d[a]/(2*n*n)),t.v_i.push(0-l*d[a]/(n*n))}for(let a in d){const n=r[a].level,o=[];for(let s in d){const u=r[s].level;o.push(d[a]*i[a][s]/(n*n)+d[s]*i[s][a]/(u*u))}t.v_ij.push(o)}return t}function Go(l,r,i){let t=[];for(let d=0;d<r.length;d++){let a=l;for(let n=0;n<r.length;n++)a-=(r[n].numElectrons-(d===n?1:0))*i[d][n];t.push(a)}return t}const Ot=Qn({selectedHTMLElement:null,selectedElementInfo:null,selectedElemOrbitals:null}),gn=Qn("custom"),_o=Qn(0),mr=Qn("Ha");function Ka(l,r){const i=Ot.get().selectedElementInfo,t=Ot.get().selectedElemOrbitals,d=Uo(i.number,t,r),a=ec(i.number,t,r);return{matrix:l,t_i:a.t_i,v_i:a.v_i,v_ij:a.v_ij,totalEnergies:d}}const Br=Qp([Ot,gn,mr,_o],(l,r,i,t)=>{if(Ot.get().selectedElementInfo===null)return[];let d=[];d=[...d,Ka("dynamic23",Yn)],d=[...d,Ka("faussurier",Kl)];const a=l.selectedElemOrbitals,n=Jl[r],o=Uo(l.selectedElementInfo.number,a,n),s=ec(l.selectedElementInfo.number,a,n);return d=[...d,{matrix:r,t_i:s.t_i,v_i:s.v_i,v_ij:s.v_ij,totalEnergies:o}],d}),Ms=new Map([["Ha",1],["Ry",2],["eV",27.211386245988],["J",43597447222071e-31],["cal",1042e-21],["kJ/mol",2625.5],["kcal/mol",627.5],["cm-1",219474.6]]);function Rs(l,r){const i=l*Ms.get(r);return Math.abs(i)<1e-4?`${i.toExponential(3)} ${r}`:`${i.toFixed(3)} ${r}`}function nm(l){return l.map(r=>Rs(r,mr.get()))}const tc=[1,.57,3.1,2.05,1.54,1.22,1,.85,.73,.65,3.39,2.59,2.29,1.99,1.74,1.55,1.4,1.27],rc=[4.5,1.41,164.19,37.79,20.45,11.88,7.42,5.41,3.76,2.57,162.7,71.53,56.28,36.31,24.5,19.57,14.71,11.23],nc=[.49973,.90357,.198142,.342603,.304947,.413808,.53412,.500454,.640277,.792482,.188858,.280994,.219973,.299569,.385379,.380723,.476552,.579155],Vo=[.49973,.967795,.198142,.337283,.437215,.543986,.654002,.757922,.864757,.973539,.188858,.277843,.326223,.379004,.433465,.48373,.536331,.589734],zo=[.027715971,0,.022696014,0,.010280366,.046381834,0,.053726774,.124995102,0,.020136828,0,.015942444,.051063845,.027433736,.076332127,.132765158,0];function Ln(l){return Ot.get().selectedElementInfo===null?5:l.dataIndex===Ot.get().selectedElementInfo.number-1?10:5}let sc,un,oc,dn,hn;function sm(){const l={scales:{y:{beginAtZero:!0}}},r=["H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar"],i=document.getElementById("atomicSizeChartCanv");sc=new Kr(i,{type:"line",data:{labels:r,datasets:[{label:"Atomic Size (bohr)",data:[...tc],borderWidth:1,pointRadius:Ln}]},options:l});const t=document.getElementById("electronAffinityChartCanv");un=new Kr(t,{type:"line",data:{labels:r,datasets:[{label:`Electron Affinity (${mr.get()})`,data:[...zo],borderWidth:1,pointRadius:Ln}]},options:{...l,plugins:{title:{text:"https://cccbdb.nist.gov/elecaff1x.asp",display:!0,position:"bottom"}}}});const d=document.getElementById("polarizabilityChartCanv");oc=new Kr(d,{type:"line",data:{labels:r,datasets:[{label:"Polarizability (bohr)",data:[...rc],borderWidth:1,pointRadius:Ln}]},options:l});const a=document.getElementById("ionizationEnergyChartCanv");dn=new Kr(a,{type:"line",data:{labels:r,datasets:[{label:`Ionization Energy (${mr.get()})`,data:[...nc],borderWidth:1,pointRadius:Ln}]},options:{...l,plugins:{title:{text:["Kramida,A., Ralchenko,Yu., Reader,J., and NIST ASD Team (2014).NIST Atomic Spectra Database(ver.5.2),","[Online]. Available:http://physics.nist.gov/asd[2016, February 22]. National Institute of Standards and Technology, Gaithersburg, MD."],display:!0,position:"bottom"}}}});const n=document.getElementById("weightedIonizationEnergyChartCanv");hn=new Kr(n,{type:"line",data:{labels:r,datasets:[{label:`Weighted Ionization Energy (${mr.get()})`,data:[...Vo],borderWidth:1,pointRadius:Ln}]},options:{...l,plugins:{title:{text:["Kramida,A., Ralchenko,Yu., Reader,J., and NIST ASD Team (2014).NIST Atomic Spectra Database(ver.5.2),","[Online]. Available:http://physics.nist.gov/asd[2016, February 22]. National Institute of Standards and Technology, Gaithersburg, MD."],display:!0,position:"bottom"}}}})}function om(){const l=mr.get();for(let r=0;r<un.data.datasets[0].data.length;r++)un.data.datasets[0].data[r]=zo[r]*Ms.get(l);un.data.datasets[0].label=`Electron Affinity (${l})`,un.update();for(let r=0;r<dn.data.datasets[0].data.length;r++)dn.data.datasets[0].data[r]=nc[r]*Ms.get(l);dn.data.datasets[0].label=`Ionization Energy (${l})`,dn.update();for(let r=0;r<hn.data.datasets[0].data.length;r++)hn.data.datasets[0].data[r]=Vo[r]*Ms.get(l);hn.data.datasets[0].label=`Weighted Ionization Energy (${l})`,hn.update()}function im(){sc.update(),un.update(),oc.update(),dn.update(),hn.update()}function am(){const l=mr.get(),r=Ot.get().selectedElementInfo.number-1,i=document.getElementById("energy-element-name");i.innerHTML="Name: "+Ot.get().selectedElementInfo.name;const t=document.getElementById("energy-atomic-size");t.innerHTML="Atomic Size: "+tc[r]+" bohr";const d=document.getElementById("energy-electron-affinity");d.innerHTML="Electron Affinity: "+Rs(zo[r],l);const a=document.getElementById("energy-polarizability");a.innerHTML="Polarizability: "+rc[r]+" bohr";const n=document.getElementById("energy-ionization-energy");n.innerHTML="Weighted Ionization: "+Rs(Vo[r],l)}function ic(){Ot.get().selectedElementInfo!==null&&(im(),om(),am())}Ot.subscribe(()=>ic());mr.subscribe(()=>ic());const lm=[{name:"Hydrogen",symbol:"H",number:1,aMass:1.008,eConfig:"1s1"},{name:"Helium",symbol:"He",aMass:4.0026,number:2,eConfig:"1s2"},{name:"Lithium",symbol:"Li",aMass:6.94,number:3,eConfig:"1s2 2s1"},{name:"Beryllium",symbol:"Be",aMass:9.0122,number:4,eConfig:"1s2 2s2"},{name:"Boron",symbol:"B",aMass:10.81,number:5,eConfig:"1s2 2s2 2p1"},{name:"Carbon",symbol:"C",aMass:12.011,number:6,eConfig:"1s2 2s2 2p2"},{name:"Nitrogen",symbol:"N",aMass:14.007,number:7,eConfig:"1s2 2s2 2p3"},{name:"Oxygen",symbol:"O",aMass:15.999,number:8,eConfig:"1s2 2s2 2p4"},{name:"Fluorine",symbol:"F",aMass:18.998,number:9,eConfig:"1s2 2s2 2p5"},{name:"Neon",symbol:"Ne",aMass:20.18,number:10,eConfig:"1s2 2s2 2p6"},{name:"Sodium",symbol:"Na",aMass:22.99,number:11,eConfig:"1s2 2s2 2p6 3s1"},{name:"Magnesium",symbol:"Mg",aMass:24.305,number:12,eConfig:"1s2 2s2 2p6 3s2"},{name:"Aluminum",symbol:"Al",aMass:26.982,number:13,eConfig:"1s2 2s2 2p6 3s2 3p1"},{name:"Silicon",symbol:"Si",aMass:28.085,number:14,eConfig:"1s2 2s2 2p6 3s2 3p2"},{name:"Phosphorus",symbol:"P",aMass:30.974,number:15,eConfig:"1s2 2s2 2p6 3s2 3p3"},{name:"Sulfur",symbol:"S",aMass:32.06,number:16,eConfig:"1s2 2s2 2p6 3s2 3p4"},{name:"Chlorine",symbol:"Cl",aMass:35.45,number:17,eConfig:"1s2 2s2 2p6 3s2 3p5"},{name:"Argon",symbol:"Ar",aMass:39.948,number:18,eConfig:"1s2 2s2 2p6 3s2 3p6"},{name:"Potassium",symbol:"K",aMass:39.098,number:19,eConfig:"1s2 2s2 2p6 3s2 3p6 4s1"},{name:"Calcium",symbol:"Ca",aMass:40.078,number:20,eConfig:"1s2 2s2 2p6 3s2 3p6 4s2"},{name:"Scandium",symbol:"Sc",aMass:44.956,number:21,eConfig:"1s2 2s2 2p6 3s2 3p6 3d1 4s2"},{name:"Titanium",symbol:"Ti",aMass:47.867,number:22,eConfig:"1s2 2s2 2p6 3s2 3p6 3d2 4s2"},{name:"Vanadium",symbol:"V",aMass:50.942,number:23,eConfig:"1s2 2s2 2p6 3s2 3p6 3d3 4s2"},{name:"Chromium",symbol:"Cr",aMass:51.996,number:24,eConfig:"1s2 2s2 2p6 3s2 3p6 3d5 4s1"},{name:"Manganese",symbol:"Mn",aMass:54.938,number:25,eConfig:"1s2 2s2 2p6 3s2 3p6 3d5 4s2"},{name:"Iron",symbol:"Fe",aMass:55.845,number:26,eConfig:"1s2 2s2 2p6 3s2 3p6 3d6 4s2"},{name:"Cobalt",symbol:"Co",aMass:58.933,number:27,eConfig:"1s2 2s2 2p6 3s2 3p6 3d7 4s2"},{name:"Nickel",symbol:"Ni",aMass:58.693,number:28,eConfig:"1s2 2s2 2p6 3s2 3p6 3d8 4s2"},{name:"Copper",symbol:"Cu",aMass:63.546,number:29,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s1"},{name:"Zinc",symbol:"Zn",aMass:65.38,number:30,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2"},{name:"Gallium",symbol:"Ga",aMass:69.723,number:31,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p1"},{name:"Germanium",symbol:"Ge",aMass:72.63,number:32,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p2"},{name:"Arsenic",symbol:"As",aMass:74.922,number:33,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p3"},{name:"Selenium",symbol:"Se",aMass:78.971,number:34,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p4"},{name:"Bromine",symbol:"Br",aMass:79.904,number:35,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p5"},{name:"Krypton",symbol:"Kr",aMass:83.798,number:36,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6"},{name:"Rubidium",symbol:"Rb",aMass:85.468,number:37,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 5s1"},{name:"Strontium",symbol:"Sr",aMass:87.62,number:38,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 5s2"},{name:"Yttrium",symbol:"Y",aMass:88.906,number:39,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d1 5s2"},{name:"Zirconium",symbol:"Zr",aMass:91.224,number:40,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d2 5s2"},{name:"Niobium",symbol:"Nb",aMass:92.906,number:41,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d4 5s1"},{name:"Molybdenum",symbol:"Mo",aMass:95.95,number:42,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d5 5s1"},{name:"Technetium",symbol:"Tc",aMass:97,number:43,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d5 5s2"},{name:"Ruthenium",symbol:"Ru",aMass:101.07,number:44,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d7 5s"},{name:"Rhodium",symbol:"Rh",aMass:102.91,number:45,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d8 5s2"},{name:"Palladium",symbol:"Pd",aMass:106.42,number:46,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10"},{name:"Silver",symbol:"Ag",aMass:107.87,number:47,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s1"},{name:"Cadmium",symbol:"Cd",aMass:112.41,number:48,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2"},{name:"Indium",symbol:"In",aMass:114.82,number:49,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p1"},{name:"Tin",symbol:"Sn",aMass:118.71,number:50,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p2"},{name:"Antimony",symbol:"Sb",aMass:121.76,number:51,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p3"},{name:"Tellerium",symbol:"Te",aMass:127.6,number:52,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p4"},{name:"Iodine",symbol:"I",aMass:126.9,number:53,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p5"},{name:"Xenon",symbol:"Xe",aMass:131.29,number:54,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6"},{name:"Caesium",symbol:"Cs",aMass:132.91,number:55,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 6s1"},{name:"Barium",symbol:"Ba",aMass:137.33,number:56,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 6s2"},{name:"Lanthanum",symbol:"La",aMass:138.91,number:57,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 5d1 6s2"},{name:"Cerium",symbol:"Ce",aMass:140.12,number:58,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f1 5d 6s2"},{name:"Preseodymium",symbol:"Pr",aMass:140.91,number:59,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f3 6s2"},{name:"Neodymium",symbol:"Nd",aMass:144.24,number:60,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f4 6s2"},{name:"Promethium",symbol:"Pm",aMass:145,number:61,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f5 6s2"},{name:"Samarium",symbol:"Sm",aMass:150.36,number:62,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f6 6s2"},{name:"Europium",symbol:"Eu",aMass:151.96,number:63,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f7 6s2"},{name:"Gadolinium",symbol:"Gd",aMass:157.25,number:64,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f7 5d 6s2"},{name:"Terbium",symbol:"Tb",aMass:158.93,number:65,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f9 6s2"},{name:"Dysprosium",symbol:"Dy",aMass:162.5,number:66,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f10 6s2"},{name:"Holmium",symbol:"Ho",aMass:164.93,number:67,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f11 6s2"},{name:"Erbium",symbol:"Er",aMass:167.26,number:68,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f12 6s2"},{name:"Thulium",symbol:"Tm",aMass:168.93,number:69,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f13 6s2"},{name:"Ytterbium",symbol:"Yb",aMass:173.05,number:70,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 6s2"},{name:"Lutetium",symbol:"Lu",aMass:174.97,number:71,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d 6s2"},{name:"Hafnium",symbol:"Hf",aMass:178.49,number:72,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d2 6s2"},{name:"Tantalum",symbol:"Ta",aMass:180.95,number:73,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d3 6s2"},{name:"Tungsten",symbol:"W",aMass:183.84,number:74,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d4 6s2"},{name:"Rhenium",symbol:"Re",aMass:186.21,number:75,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d5 6s2"},{name:"Osmium",symbol:"Os",aMass:190.23,number:76,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2"},{name:"Iridium",symbol:"Ir",aMass:192.22,number:77,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d7 6s2"},{name:"Platinum",symbol:"Pt",aMass:195.08,number:78,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d9 6s"},{name:"Gold",symbol:"Au",aMass:196.97,number:79,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d10 6s2"},{name:"Mercury",symbol:"Hg",aMass:200.59,number:80,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2"},{name:"Thallium",symbol:"Tl",aMass:204.38,number:81,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p1"},{name:"Lead",symbol:"Pb",aMass:207.2,number:82,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p2"},{name:"Bismuth",symbol:"Bi",aMass:208.98,number:83,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p3"},{name:"Polonium",symbol:"Po",aMass:209,number:84,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p4"},{name:"Astatine",symbol:"At",aMass:210,number:85,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p5"},{name:"Radon",symbol:"Rn",aMass:222,number:86,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6"},{name:"Francium",symbol:"Fr",aMass:223,number:87,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 7s1"},{name:"Radium",symbol:"Ra",aMass:226,number:88,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 7s2"},{name:"Actinium",symbol:"Ac",aMass:227,number:89,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 6d1 7s2"},{name:"Thorium",symbol:"Th",aMass:232.04,number:90,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 6d2 7s2"},{name:"Protactinium,",symbol:"Pa",aMass:231.04,number:91,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f3 6d1 7s2"},{name:"Uranium",symbol:"U",aMass:238.03,number:92,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f3 6d1 7s2"},{name:"Neptunium",symbol:"Np",aMass:237,number:93,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f4 6d1 7s2"},{name:"Plutonium",symbol:"Pu",aMass:244,number:94,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f6 7s2"},{name:"Americium",symbol:"Am",aMass:243,number:95,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f7 7s2"},{name:"Curium",symbol:"Cm",aMass:247,number:96,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f7 6d1 7s2"},{name:"Berkelium",symbol:"Bk",aMass:247,number:97,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f9 7s2"},{name:"Californium",symbol:"Cf",aMass:251,number:98,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f10 7s2"},{name:"Einsteinium",symbol:"Es",aMass:252,number:99,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f11 7s2"},{name:"Fermium",symbol:"Fm",aMass:257,number:100,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f12 7s2"},{name:"Mendelevium",symbol:"Md",aMass:258,number:101,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f13 7s2"},{name:"Nobelium",symbol:"No",aMass:259,number:102,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f14 6d 7s2"},{name:"Lawrencium",symbol:"Lr",aMass:266,number:103,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f14 7s2 7p"},{name:"Rutherfordium",symbol:"Rf",aMass:267,number:104,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f14 6d2 7s2"},{name:"Dubnium",symbol:"Db",aMass:268,number:105,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f14 6d3 7s2"},{name:"Seaborgium",symbol:"Sg",aMass:269,number:106,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f14 642 7s2"},{name:"Bohrium",symbol:"Bh",aMass:270,number:107,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p6 5f14 6d5 7s2"},{name:"Hassium",symbol:"Hs",aMass:269,number:108,eConfig:"1s2 2s2 2p6 3s2 3p6 3d10 4s2 4p6 4d10 5s2 5p6 4f14 5d6 6s2 6p65f14 6d6 7s2"},{name:"Meitnerium",symbol:"Mt",aMass:268,number:109,eConfig:""},{name:"Darmstadium",symbol:"Ds",aMass:281,number:110,eConfig:""},{name:"Roentgenium",symbol:"Rg",aMass:282,number:111,eConfig:""},{name:"Copernicium",symbol:"Cn",aMass:285,number:112,eConfig:""},{name:"Nihonium",symbol:"Nh",aMass:286,number:113,eConfig:""},{name:"Flerovium",symbol:"Fl",aMass:289,number:114,eConfig:""},{name:"Moscovium",symbol:"Mc",aMass:289,number:115,eConfig:""},{name:"Livermorium",symbol:"Lv",aMass:293,number:116,eConfig:""},{name:"Tennessine",symbol:"Ts",aMass:294,number:117,eConfig:""},{name:"Oganesson",symbol:"Og",aMass:294,number:118,eConfig:""}];let Qa=-1,xo=0,ac;function cm(){if(gn.get()!=="custom"){clearInterval(ac);return}Qa<xo&&Ot.get()!==null&&(dm(),_o.set(xo)),Qa=_o.get()}function um(){ac=setInterval(cm,1e3);let l=document.getElementById("selectableMatrix");const r={childList:!0,subtree:!0,characterData:!0};function i(d){xo++}new MutationObserver(i).observe(l,r)}function dm(){const l=document.getElementsByClassName("selectableMatrixRow");let r=0;for(const i of l){let t=0;for(const d of i.children)d.tagName==="TD"&&(Ql[r][t]=Number(d.textContent),t++);r++}}function hm(l){let r=Jl[l];const i=document.getElementsByClassName("selectableMatrixRow");for(let t=0;t<i.length;t++){const d=i[t].getElementsByClassName("selectableMatrixCell");for(let a=0;a<d.length;a++)d[a].textContent=r[t][a].toString(),d[a].setAttribute("contenteditable",String(l==="custom"))}}function fm(){document.querySelectorAll(".tab").forEach(r=>{r.addEventListener("click",()=>{const t=r.parentElement.children,d=[];for(let n of t)d.push(document.querySelector(n.dataset.target));d.forEach(n=>n.classList.remove("is-active")),document.querySelector(r.dataset.target).classList.add("is-active");for(let n of t)n.classList.remove("is-active");r.classList.add("is-active")})})}window.addEventListener("load",()=>{const l=document.querySelectorAll(".clickable > .element.ptable");for(let t=0;t<l.length;t++)l[t].addEventListener("click",ym);const r=document.getElementById("matrixSelector");r.addEventListener("change",()=>{gn.set(r.value)}),gn.subscribe(t=>{hm(t),t==="custom"&&um()});const i=document.getElementsByClassName("unit-selector");for(let t of i)t.addEventListener("change",()=>{mr.set(t.value)});mr.listen(t=>{for(let d of i)d.value=t}),fm(),sm()});function pm(l){return lm.find(r=>r.number===l)}function mm(l){const r=[],i=l.split(" ");for(const t of i){const d=/(\d+)([sp])(\d+)/,a=t.match(d);r.push({level:Number(a[1]),sOrP:a[2],numElectrons:Number(a[3])})}return r}function ym(l){const r=document.getElementsByClassName("detailsTempText"),i=document.getElementsByClassName("detailsElemBox"),t=l.target.nodeName==="A"?l.target:l.target.parentElement;if(t.classList.contains("clicked")){const d=document.getElementsByClassName("element ptable");for(let a of d)a.classList.contains("clicked")&&a.classList.remove("clicked");for(let a of r){a.style.display="block";for(let n of i)n.style.display="none"}Ot.set({selectedHTMLElement:null,selectedElementInfo:null,selectedElemOrbitals:null})}else{const d=document.getElementsByClassName("element ptable");for(let s of d)s.classList.contains("clicked")&&s.classList.remove("clicked"),s.innerHTML===t.innerHTML&&s.classList.add("clicked");const a=t.textContent.replace(/\D/g,""),n=pm(parseInt(a)),o=mm(n.eConfig);for(let s of r)s.style.display="none";for(let s of i)s.style.display="block";Ot.set({selectedHTMLElement:t,selectedElementInfo:n,selectedElemOrbitals:o})}}function gm(){const l=Ot.get().selectedElemOrbitals.map(r=>r.numElectrons);return l.concat(Array(5-l.length).fill(0))}function bm(){if(Ot.get().selectedElementInfo===null||Br.get().length===0)return;const l=document.getElementsByClassName("ion-energy-econfig-static-row")[0];l.replaceChildren();let r=document.createElement("td");r.innerText="# of electrons",l.appendChild(r);let i=gm();i.forEach(h=>{r=document.createElement("td"),r.innerText=`${h}`,l.appendChild(r)});const t=document.getElementsByClassName("ion-energy-z_es-static-row")[0];t.replaceChildren(),r=document.createElement("td"),r.innerHTML="Z<sub>e</sub>",t.appendChild(r);const d=Ot.get().selectedElementInfo.number,a=Ot.get().selectedElemOrbitals,n=Go(d,a,Yn);i.forEach((h,f)=>{r=document.createElement("td"),r.innerText=`${h===0?"0.000":n[f].toFixed(3)}`,t.appendChild(r)});const[o,...s]=Br.get()[0].totalEnergies,u=document.getElementsByClassName("ion-energy-vaoe-static-row")[0];u.replaceChildren(),r=document.createElement("td"),r.innerHTML="VAOE",u.appendChild(r),i.forEach((h,f)=>{r=document.createElement("td"),r.innerText=`${h===0?"0.000":s[f].toFixed(3)}`,u.appendChild(r)});const b=document.getElementsByClassName("ion-energy-et-static-row")[0];b.replaceChildren(),r=document.createElement("td"),r.innerHTML="E<sub>t</sub>",b.appendChild(r),i.forEach((h,f)=>{r=document.createElement("td"),r.innerText=`${h===0?"0.000":(s[f]*i[f]).toFixed(3)}`,b.appendChild(r)});const y=document.getElementById("ion-energy-left-table-total-energy");y.innerText=`${o.toFixed(3)}`;const c=document.getElementsByClassName("ion-energy-econfig-dyn-row")[0];c.replaceChildren(),r=document.createElement("td"),r.innerText="# of electrons",c.appendChild(r),i.forEach((h,f)=>{r=document.createElement("td");const p=document.createElement("select");r.appendChild(p);for(let v=0;v<=h;v++){const _=document.createElement("option");_.innerText=_.value=`${v}`,p.appendChild(_)}p.value=`${h}`;const m=`ion-energy-num-ions-selected-${f}`;p.setAttribute("id",m),p.setAttribute("name",m),p.setAttribute("autocomplete","off"),p.setAttribute("class","ion-energy-econfig-select"),p.addEventListener("change",()=>Ja(o)),c.appendChild(r)}),Ja(o)}function Ja(l){const r=document.getElementsByClassName("ion-energy-econfig-dyn-row")[0],i=document.getElementsByClassName("ion-energy-z_es-dyn-row")[0],t=document.getElementsByClassName("ion-energy-vaoe-dyn-row")[0],d=document.getElementsByClassName("ion-energy-et-dyn-row")[0];i.replaceChildren();let a=document.createElement("td");a.innerHTML="Z<sub>e</sub>",i.appendChild(a);const n=Ot.get(),o=n.selectedElemOrbitals.map(_=>({..._}));document.querySelectorAll(".ion-energy-econfig-select").forEach(_=>{const g=Number(_.id.charAt(_.id.length-1));g<o.length?o[g].numElectrons=Number(_.value):o.push({level:rm[g],sOrP:"p",numElectrons:Number(_.value)})}),Go(n.selectedElementInfo.number,o,Yn).forEach((_,g)=>{const x=document.createElement("td");x.innerText=o[g].numElectrons===0?"0.000":`${_.toFixed(3)}`,i.appendChild(x)}),t.replaceChildren();const[b,...y]=Uo(n.selectedElementInfo.number,o,Yn);a=document.createElement("td"),a.innerHTML="VAOE",t.appendChild(a),y.forEach((_,g)=>{a=document.createElement("td"),a.innerText=o[g].numElectrons===0?"0.000":`${_.toFixed(3)}`,t.appendChild(a)}),d.replaceChildren(),a=document.createElement("td"),a.innerHTML="E<sub>t</sub>",d.appendChild(a),y.forEach((_,g)=>{a=document.createElement("td"),a.innerText=`${(_*o[g].numElectrons).toFixed(3)}`,d.appendChild(a)});const c=document.getElementById("ion-energy-right-table-total-energy");c.innerText=`${b.toFixed(3)}`;const h=document.getElementById("ion-energy-ionization-energy"),f=Math.abs(l-b);h.innerText=`${f.toFixed(3)}`;const p=r.querySelectorAll("select"),m=o.reduce((_,g)=>_+g.numElectrons,0),v=n.selectedElementInfo.number-m;p.forEach((_,g)=>{_.replaceChildren();for(let x=0;x<=Math.min(tm[g],o[g].numElectrons+v);x++){const j=document.createElement("option");j.innerText=j.value=`${x}`,_.appendChild(j)}_.value=`${o[g].numElectrons}`})}Br.listen(()=>bm());var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function ws(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lc={exports:{}};/*! p5.js v1.9.0 November 28, 2023 */(function(l,r){(function(i){l.exports=i()})(function(){var i;return function t(d,a,n){function o(b,y){if(!a[b]){if(!d[b]){var c=typeof ws=="function"&&ws;if(!y&&c)return c(b,!0);if(s)return s(b,!0);throw(y=new Error("Cannot find module '"+b+"'")).code="MODULE_NOT_FOUND",y}c=a[b]={exports:{}},d[b][0].call(c.exports,function(h){return o(d[b][1][h]||h)},c,c.exports,t,d,a,n)}return a[b].exports}for(var s=typeof ws=="function"&&ws,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(t,d,a){a.byteLength=function(p){var p=c(p),f=p[0],p=p[1];return 3*(f+p)/4-p},a.toByteArray=function(h){var f,p,v=c(h),m=v[0],v=v[1],_=new s(function(j,E){return 3*(j+E)/4-E}(m,v)),g=0,x=0<v?m-4:m;for(p=0;p<x;p+=4)f=o[h.charCodeAt(p)]<<18|o[h.charCodeAt(p+1)]<<12|o[h.charCodeAt(p+2)]<<6|o[h.charCodeAt(p+3)],_[g++]=f>>16&255,_[g++]=f>>8&255,_[g++]=255&f;return v===2&&(f=o[h.charCodeAt(p)]<<2|o[h.charCodeAt(p+1)]>>4,_[g++]=255&f),v===1&&(f=o[h.charCodeAt(p)]<<10|o[h.charCodeAt(p+1)]<<4|o[h.charCodeAt(p+2)]>>2,_[g++]=f>>8&255,_[g++]=255&f),_},a.fromByteArray=function(h){for(var f,p=h.length,m=p%3,v=[],_=0,g=p-m;_<g;_+=16383)v.push(function(x,j,E){for(var M,T=[],O=j;O<E;O+=3)M=(x[O]<<16&16711680)+(x[O+1]<<8&65280)+(255&x[O+2]),T.push(function(R){return n[R>>18&63]+n[R>>12&63]+n[R>>6&63]+n[63&R]}(M));return T.join("")}(h,_,g<_+16383?g:_+16383));return m==1?(f=h[p-1],v.push(n[f>>2]+n[f<<4&63]+"==")):m==2&&(f=(h[p-2]<<8)+h[p-1],v.push(n[f>>10]+n[f>>4&63]+n[f<<2&63]+"=")),v.join("")};for(var n=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,y=u.length;b<y;++b)n[b]=u[b],o[u.charCodeAt(b)]=b;function c(h){var f=h.length;if(0<f%4)throw new Error("Invalid string. Length must be a multiple of 4");return h=h.indexOf("="),f=(h=h===-1?f:h)===f?0:4-h%4,[h,f]}o[45]=62,o[95]=63},{}],2:[function(t,d,a){},{}],3:[function(t,d,a){},{}],4:[function(t,d,a){(function(c){var o=t("base64-js"),s=t("ieee754"),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,b=(a.Buffer=c,a.SlowBuffer=function(A){return+A!=A&&(A=0),c.alloc(+A)},a.INSPECT_MAX_BYTES=50,2147483647);function y(A){if(b<A)throw new RangeError('The value "'+A+'" is invalid for option "size"');return A=new Uint8Array(A),Object.setPrototypeOf(A,c.prototype),A}function c(A,I,z){if(typeof A!="number")return h(A,I,z);if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(A)}function h(A,I,z){if(typeof A=="string"){var Y=A,J=I;if(c.isEncoding(J=typeof J=="string"&&J!==""?J:"utf8"))return ee=0|_(Y,J),ce=y(ee),ce=(Y=ce.write(Y,J))!==ee?ce.slice(0,Y):ce;throw new TypeError("Unknown encoding: "+J)}if(ArrayBuffer.isView(A))return m(A);if(A!=null){if($(A,ArrayBuffer)||A&&$(A.buffer,ArrayBuffer)){var ee=A,Y=I,ce=z;if(Y<0||ee.byteLength<Y)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<Y+(ce||0))throw new RangeError('"length" is outside of buffer bounds');return ee=Y===void 0&&ce===void 0?new Uint8Array(ee):ce===void 0?new Uint8Array(ee,Y):new Uint8Array(ee,Y,ce),Object.setPrototypeOf(ee,c.prototype),ee}if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(J=A.valueOf&&A.valueOf(),J!=null&&J!==A)return c.from(J,I,z);var pe=function(ie){{var de,ue;if(c.isBuffer(ie))return de=0|v(ie.length),(ue=y(de)).length!==0&&ie.copy(ue,0,0,de),ue}if(ie.length!==void 0)return typeof ie.length!="number"||K(ie.length)?y(0):m(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return m(ie.data)}(A);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return c.from(A[Symbol.toPrimitive]("string"),I,z)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function f(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function p(A){return f(A),y(A<0?0:0|v(A))}function m(A){for(var I=A.length<0?0:0|v(A.length),z=y(I),Y=0;Y<I;Y+=1)z[Y]=255&A[Y];return z}function v(A){if(b<=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|A}function _(A,I){if(c.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||$(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);var z=A.length,Y=2<arguments.length&&arguments[2]===!0;if(!Y&&z===0)return 0;for(var J=!1;;)switch(I){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return q(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return G(A).length;default:if(J)return Y?-1:q(A).length;I=(""+I).toLowerCase(),J=!0}}function g(A,I,z){var Y,J=!1;if((I=I===void 0||I<0?0:I)>this.length||(z=z===void 0||z>this.length?this.length:z)<=0||(z>>>=0)<=(I>>>=0))return"";for(A=A||"utf8";;)switch(A){case"hex":var ee=this,ye=I,ce=z,ue=ee.length;(!ce||ce<0||ue<ce)&&(ce=ue);for(var pe="",ie=ye=!ye||ye<0?0:ye;ie<ce;++ie)pe+=N[ee[ie]];return pe;case"utf8":case"utf-8":return O(this,I,z);case"ascii":var de=this,ue=I,re=z,le="";re=Math.min(de.length,re);for(var me=ue;me<re;++me)le+=String.fromCharCode(127&de[me]);return le;case"latin1":case"binary":var je=this,ye=I,ve=z,Me="";ve=Math.min(je.length,ve);for(var Fe=ye;Fe<ve;++Fe)Me+=String.fromCharCode(je[Fe]);return Me;case"base64":return Ce=this,Y=z,($e=I)===0&&Y===Ce.length?o.fromByteArray(Ce):o.fromByteArray(Ce.slice($e,Y));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ce=I,$e=z,Ve=this.slice(Ce,$e),ze="",qe=0;qe<Ve.length;qe+=2)ze+=String.fromCharCode(Ve[qe]+256*Ve[qe+1]);return ze;default:if(J)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),J=!0}}function x(A,I,z){var Y=A[I];A[I]=A[z],A[z]=Y}function j(A,I,z,Y,J){if(A.length===0)return-1;if(typeof z=="string"?(Y=z,z=0):2147483647<z?z=2147483647:z<-2147483648&&(z=-2147483648),(z=(z=K(z=+z)?J?0:A.length-1:z)<0?A.length+z:z)>=A.length){if(J)return-1;z=A.length-1}else if(z<0){if(!J)return-1;z=0}if(typeof I=="string"&&(I=c.from(I,Y)),c.isBuffer(I))return I.length===0?-1:E(A,I,z,Y,J);if(typeof I=="number")return I&=255,typeof Uint8Array.prototype.indexOf=="function"?(J?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(A,I,z):E(A,[I],z,Y,J);throw new TypeError("val must be string, number or Buffer")}function E(A,I,z,Y,J){var ee=1,ce=A.length,pe=I.length;if(Y!==void 0&&((Y=String(Y).toLowerCase())==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(A.length<2||I.length<2)return-1;ce/=ee=2,pe/=2,z/=2}function ie(me,je){return ee===1?me[je]:me.readUInt16BE(je*ee)}if(J)for(var de=-1,ue=z;ue<ce;ue++)if(ie(A,ue)===ie(I,de===-1?0:ue-de)){if(ue-(de=de===-1?ue:de)+1===pe)return de*ee}else de!==-1&&(ue-=ue-de),de=-1;else for(ue=z=ce<z+pe?ce-pe:z;0<=ue;ue--){for(var re=!0,le=0;le<pe;le++)if(ie(A,ue+le)!==ie(I,le)){re=!1;break}if(re)return ue}return-1}function M(A,I,z,Y){return W(function(J){for(var ee=[],ce=0;ce<J.length;++ce)ee.push(255&J.charCodeAt(ce));return ee}(I),A,z,Y)}function T(A,I,z,Y){return W(function(J,ee){for(var ce,pe,ie=[],de=0;de<J.length&&!((ee-=2)<0);++de)pe=J.charCodeAt(de),ce=pe>>8,pe=pe%256,ie.push(pe),ie.push(ce);return ie}(I,A.length-z),A,z,Y)}function O(A,I,z){z=Math.min(A.length,z);for(var Y=[],J=I;J<z;){var ee,ce,pe,ie,de=A[J],ue=null,re=239<de?4:223<de?3:191<de?2:1;if(J+re<=z)switch(re){case 1:de<128&&(ue=de);break;case 2:(192&(ee=A[J+1]))==128&&127<(ie=(31&de)<<6|63&ee)&&(ue=ie);break;case 3:ee=A[J+1],ce=A[J+2],(192&ee)==128&&(192&ce)==128&&2047<(ie=(15&de)<<12|(63&ee)<<6|63&ce)&&(ie<55296||57343<ie)&&(ue=ie);break;case 4:ee=A[J+1],ce=A[J+2],pe=A[J+3],(192&ee)==128&&(192&ce)==128&&(192&pe)==128&&65535<(ie=(15&de)<<18|(63&ee)<<12|(63&ce)<<6|63&pe)&&ie<1114112&&(ue=ie)}ue===null?(ue=65533,re=1):65535<ue&&(ue-=65536,Y.push(ue>>>10&1023|55296),ue=56320|1023&ue),Y.push(ue),J+=re}var le=Y,me=le.length;if(me<=R)return String.fromCharCode.apply(String,le);for(var je="",ye=0;ye<me;)je+=String.fromCharCode.apply(String,le.slice(ye,ye+=R));return je}a.kMaxLength=b,(c.TYPED_ARRAY_SUPPORT=function(){try{var A=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(A,I),A.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=h,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(A,I,z){return I=I,z=z,f(A=A),!(A<=0)&&I!==void 0?typeof z=="string"?y(A).fill(I,z):y(A).fill(I):y(A)},c.allocUnsafe=p,c.allocUnsafeSlow=p,c.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==c.prototype},c.compare=function(A,I){if($(A,Uint8Array)&&(A=c.from(A,A.offset,A.byteLength)),$(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),!c.isBuffer(A)||!c.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===I)return 0;for(var z=A.length,Y=I.length,J=0,ee=Math.min(z,Y);J<ee;++J)if(A[J]!==I[J]){z=A[J],Y=I[J];break}return z<Y?-1:Y<z?1:0},c.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(A,I){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return c.alloc(0);if(I===void 0)for(J=I=0;J<A.length;++J)I+=A[J].length;for(var z=c.allocUnsafe(I),Y=0,J=0;J<A.length;++J){var ee=A[J];if($(ee,Uint8Array)&&(ee=c.from(ee)),!c.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(z,Y),Y+=ee.length}return z},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<A;I+=2)x(this,I,I+1);return this},c.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<A;I+=4)x(this,I,I+3),x(this,I+1,I+2);return this},c.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<A;I+=8)x(this,I,I+7),x(this,I+1,I+6),x(this,I+2,I+5),x(this,I+3,I+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?O(this,0,A):g.apply(this,arguments)},c.prototype.equals=function(A){if(c.isBuffer(A))return this===A||c.compare(this,A)===0;throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var I="",A=a.INSPECT_MAX_BYTES,I=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim();return this.length>A&&(I+=" ... "),"<Buffer "+I+">"},u&&(c.prototype[u]=c.prototype.inspect),c.prototype.compare=function(A,I,z,Y,J){if($(A,Uint8Array)&&(A=c.from(A,A.offset,A.byteLength)),!c.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(z===void 0&&(z=A?A.length:0),Y===void 0&&(Y=0),J===void 0&&(J=this.length),(I=I===void 0?0:I)<0||z>A.length||Y<0||J>this.length)throw new RangeError("out of range index");if(J<=Y&&z<=I)return 0;if(J<=Y)return-1;if(z<=I)return 1;if(this===A)return 0;for(var ee=(J>>>=0)-(Y>>>=0),ce=(z>>>=0)-(I>>>=0),pe=Math.min(ee,ce),ie=this.slice(Y,J),de=A.slice(I,z),ue=0;ue<pe;++ue)if(ie[ue]!==de[ue]){ee=ie[ue],ce=de[ue];break}return ee<ce?-1:ce<ee?1:0},c.prototype.includes=function(A,I,z){return this.indexOf(A,I,z)!==-1},c.prototype.indexOf=function(A,I,z){return j(this,A,I,z,!0)},c.prototype.lastIndexOf=function(A,I,z){return j(this,A,I,z,!1)},c.prototype.write=function(A,I,z,Y){if(I===void 0)Y="utf8",z=this.length,I=0;else if(z===void 0&&typeof I=="string")Y=I,z=this.length,I=0;else{if(!isFinite(I))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");I>>>=0,isFinite(z)?(z>>>=0,Y===void 0&&(Y="utf8")):(Y=z,z=void 0)}var J=this.length-I;if((z===void 0||J<z)&&(z=J),0<A.length&&(z<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y=Y||"utf8";for(var ee,ce,pe,ie=!1;;)switch(Y){case"hex":var de=this,ue=A,re=I,le=z,me=(re=Number(re)||0,de.length-re);(!le||me<(le=Number(le)))&&(le=me),(me=ue.length)/2<le&&(le=me/2);for(var je=0;je<le;++je){var ye=parseInt(ue.substr(2*je,2),16);if(K(ye))return je;de[re+je]=ye}return je;case"utf8":case"utf-8":return me=I,pe=z,W(q(A,(ce=this).length-me),ce,me,pe);case"ascii":return M(this,A,I,z);case"latin1":case"binary":return M(this,A,I,z);case"base64":return ce=this,pe=I,ee=z,W(G(A),ce,pe,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,A,I,z);default:if(ie)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),ie=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function k(A,I,z){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(z<A+I)throw new RangeError("Trying to access beyond buffer length")}function D(A,I,z,Y,J,ee){if(!c.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(J<I||I<ee)throw new RangeError('"value" argument is out of bounds');if(z+Y>A.length)throw new RangeError("Index out of range")}function L(A,I,z,Y){if(z+Y>A.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function B(A,I,z,Y,J){return I=+I,z>>>=0,J||L(A,0,z,4),s.write(A,I,z,Y,23,4),z+4}function F(A,I,z,Y,J){return I=+I,z>>>=0,J||L(A,0,z,8),s.write(A,I,z,Y,52,8),z+8}c.prototype.slice=function(A,I){var z=this.length,z=((A=~~A)<0?(A+=z)<0&&(A=0):z<A&&(A=z),(I=I===void 0?z:~~I)<0?(I+=z)<0&&(I=0):z<I&&(I=z),I<A&&(I=A),this.subarray(A,I));return Object.setPrototypeOf(z,c.prototype),z},c.prototype.readUIntLE=function(A,I,z){A>>>=0,I>>>=0,z||k(A,I,this.length);for(var Y=this[A],J=1,ee=0;++ee<I&&(J*=256);)Y+=this[A+ee]*J;return Y},c.prototype.readUIntBE=function(A,I,z){A>>>=0,I>>>=0,z||k(A,I,this.length);for(var Y=this[A+--I],J=1;0<I&&(J*=256);)Y+=this[A+--I]*J;return Y},c.prototype.readUInt8=function(A,I){return A>>>=0,I||k(A,1,this.length),this[A]},c.prototype.readUInt16LE=function(A,I){return A>>>=0,I||k(A,2,this.length),this[A]|this[A+1]<<8},c.prototype.readUInt16BE=function(A,I){return A>>>=0,I||k(A,2,this.length),this[A]<<8|this[A+1]},c.prototype.readUInt32LE=function(A,I){return A>>>=0,I||k(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},c.prototype.readUInt32BE=function(A,I){return A>>>=0,I||k(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},c.prototype.readIntLE=function(A,I,z){A>>>=0,I>>>=0,z||k(A,I,this.length);for(var Y=this[A],J=1,ee=0;++ee<I&&(J*=256);)Y+=this[A+ee]*J;return(J*=128)<=Y&&(Y-=Math.pow(2,8*I)),Y},c.prototype.readIntBE=function(A,I,z){A>>>=0,I>>>=0,z||k(A,I,this.length);for(var Y=I,J=1,ee=this[A+--Y];0<Y&&(J*=256);)ee+=this[A+--Y]*J;return(J*=128)<=ee&&(ee-=Math.pow(2,8*I)),ee},c.prototype.readInt8=function(A,I){return A>>>=0,I||k(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},c.prototype.readInt16LE=function(A,I){return A>>>=0,I||k(A,2,this.length),I=this[A]|this[A+1]<<8,32768&I?4294901760|I:I},c.prototype.readInt16BE=function(A,I){return A>>>=0,I||k(A,2,this.length),I=this[A+1]|this[A]<<8,32768&I?4294901760|I:I},c.prototype.readInt32LE=function(A,I){return A>>>=0,I||k(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},c.prototype.readInt32BE=function(A,I){return A>>>=0,I||k(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},c.prototype.readFloatLE=function(A,I){return A>>>=0,I||k(A,4,this.length),s.read(this,A,!0,23,4)},c.prototype.readFloatBE=function(A,I){return A>>>=0,I||k(A,4,this.length),s.read(this,A,!1,23,4)},c.prototype.readDoubleLE=function(A,I){return A>>>=0,I||k(A,8,this.length),s.read(this,A,!0,52,8)},c.prototype.readDoubleBE=function(A,I){return A>>>=0,I||k(A,8,this.length),s.read(this,A,!1,52,8)},c.prototype.writeUIntLE=function(A,I,z,Y){A=+A,I>>>=0,z>>>=0,Y||D(this,A,I,z,Math.pow(2,8*z)-1,0);var J=1,ee=0;for(this[I]=255&A;++ee<z&&(J*=256);)this[I+ee]=A/J&255;return I+z},c.prototype.writeUIntBE=function(A,I,z,Y){A=+A,I>>>=0,z>>>=0,Y||D(this,A,I,z,Math.pow(2,8*z)-1,0);var J=z-1,ee=1;for(this[I+J]=255&A;0<=--J&&(ee*=256);)this[I+J]=A/ee&255;return I+z},c.prototype.writeUInt8=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,1,255,0),this[I]=255&A,I+1},c.prototype.writeUInt16LE=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,2,65535,0),this[I]=255&A,this[I+1]=A>>>8,I+2},c.prototype.writeUInt16BE=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,2,65535,0),this[I]=A>>>8,this[I+1]=255&A,I+2},c.prototype.writeUInt32LE=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,4,4294967295,0),this[I+3]=A>>>24,this[I+2]=A>>>16,this[I+1]=A>>>8,this[I]=255&A,I+4},c.prototype.writeUInt32BE=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,4,4294967295,0),this[I]=A>>>24,this[I+1]=A>>>16,this[I+2]=A>>>8,this[I+3]=255&A,I+4},c.prototype.writeIntLE=function(A,I,z,Y){A=+A,I>>>=0,Y||D(this,A,I,z,(Y=Math.pow(2,8*z-1))-1,-Y);var J=0,ee=1,ce=0;for(this[I]=255&A;++J<z&&(ee*=256);)A<0&&ce===0&&this[I+J-1]!==0&&(ce=1),this[I+J]=(A/ee>>0)-ce&255;return I+z},c.prototype.writeIntBE=function(A,I,z,Y){A=+A,I>>>=0,Y||D(this,A,I,z,(Y=Math.pow(2,8*z-1))-1,-Y);var J=z-1,ee=1,ce=0;for(this[I+J]=255&A;0<=--J&&(ee*=256);)A<0&&ce===0&&this[I+J+1]!==0&&(ce=1),this[I+J]=(A/ee>>0)-ce&255;return I+z},c.prototype.writeInt8=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,1,127,-128),this[I]=255&(A=A<0?255+A+1:A),I+1},c.prototype.writeInt16LE=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,2,32767,-32768),this[I]=255&A,this[I+1]=A>>>8,I+2},c.prototype.writeInt16BE=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,2,32767,-32768),this[I]=A>>>8,this[I+1]=255&A,I+2},c.prototype.writeInt32LE=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,4,2147483647,-2147483648),this[I]=255&A,this[I+1]=A>>>8,this[I+2]=A>>>16,this[I+3]=A>>>24,I+4},c.prototype.writeInt32BE=function(A,I,z){return A=+A,I>>>=0,z||D(this,A,I,4,2147483647,-2147483648),this[I]=(A=A<0?4294967295+A+1:A)>>>24,this[I+1]=A>>>16,this[I+2]=A>>>8,this[I+3]=255&A,I+4},c.prototype.writeFloatLE=function(A,I,z){return B(this,A,I,!0,z)},c.prototype.writeFloatBE=function(A,I,z){return B(this,A,I,!1,z)},c.prototype.writeDoubleLE=function(A,I,z){return F(this,A,I,!0,z)},c.prototype.writeDoubleBE=function(A,I,z){return F(this,A,I,!1,z)},c.prototype.copy=function(A,I,z,Y){if(!c.isBuffer(A))throw new TypeError("argument should be a Buffer");if(z=z||0,Y||Y===0||(Y=this.length),I>=A.length&&(I=A.length),(Y=0<Y&&Y<z?z:Y)===z||A.length===0||this.length===0)return 0;if((I=I||0)<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length);var J=(Y=A.length-I<Y-z?A.length-I+z:Y)-z;if(this===A&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(I,z,Y);else if(this===A&&z<I&&I<Y)for(var ee=J-1;0<=ee;--ee)A[ee+I]=this[ee+z];else Uint8Array.prototype.set.call(A,this.subarray(z,Y),I);return J},c.prototype.fill=function(A,I,z,Y){if(typeof A=="string"){if(typeof I=="string"?(Y=I,I=0,z=this.length):typeof z=="string"&&(Y=z,z=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!c.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);var J;A.length===1&&(J=A.charCodeAt(0),(Y==="utf8"&&J<128||Y==="latin1")&&(A=J))}else typeof A=="number"?A&=255:typeof A=="boolean"&&(A=Number(A));if(I<0||this.length<I||this.length<z)throw new RangeError("Out of range index");var ee;if(!(z<=I))if(I>>>=0,z=z===void 0?this.length:z>>>0,typeof(A=A||0)=="number")for(ee=I;ee<z;++ee)this[ee]=A;else{var ce=c.isBuffer(A)?A:c.from(A,Y),pe=ce.length;if(pe===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ee=0;ee<z-I;++ee)this[ee+I]=ce[ee%pe]}return this};var V=/[^+/0-9A-Za-z-_]/g;function q(A,I){I=I||1/0;for(var z,Y=A.length,J=null,ee=[],ce=0;ce<Y;++ce){if(55295<(z=A.charCodeAt(ce))&&z<57344){if(!J){if(56319<z){-1<(I-=3)&&ee.push(239,191,189);continue}if(ce+1===Y){-1<(I-=3)&&ee.push(239,191,189);continue}J=z;continue}if(z<56320){-1<(I-=3)&&ee.push(239,191,189),J=z;continue}z=65536+(J-55296<<10|z-56320)}else J&&-1<(I-=3)&&ee.push(239,191,189);if(J=null,z<128){if(--I<0)break;ee.push(z)}else if(z<2048){if((I-=2)<0)break;ee.push(z>>6|192,63&z|128)}else if(z<65536){if((I-=3)<0)break;ee.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;ee.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return ee}function G(A){return o.toByteArray(function(I){if((I=(I=I.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;I.length%4!=0;)I+="=";return I}(A))}function W(A,I,z,Y){for(var J=0;J<Y&&!(J+z>=I.length||J>=A.length);++J)I[J+z]=A[J];return J}function $(A,I){return A instanceof I||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===I.name}function K(A){return A!=A}var N=function(){for(var A="0123456789abcdef",I=new Array(256),z=0;z<16;++z)for(var Y=16*z,J=0;J<16;++J)I[Y+J]=A[z]+A[J];return I}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:246}],5:[function(t,d,a){d.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},{}],6:[function(t,d,a){var n=t("../internals/is-object");d.exports=function(o){if(n(o)||o===null)return o;throw TypeError("Can't set "+String(o)+" as a prototype")}},{"../internals/is-object":74}],7:[function(s,d,a){var n=s("../internals/well-known-symbol"),o=s("../internals/object-create"),s=s("../internals/object-define-property"),u=n("unscopables"),b=Array.prototype;b[u]==null&&s.f(b,u,{configurable:!0,value:o(null)}),d.exports=function(y){b[u][y]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(t,d,a){var n=t("../internals/string-multibyte").charAt;d.exports=function(o,s,u){return s+(u?n(o,s).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,d,a){d.exports=function(n,o,s){if(n instanceof o)return n;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(t,d,a){var n=t("../internals/is-object");d.exports=function(o){if(n(o))return o;throw TypeError(String(o)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,d,a){d.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(L,d,a){function n(F){return y(F)&&c(B,h(F))}var o,s=L("../internals/array-buffer-native"),u=L("../internals/descriptors"),b=L("../internals/global"),y=L("../internals/is-object"),c=L("../internals/has"),h=L("../internals/classof"),f=L("../internals/create-non-enumerable-property"),p=L("../internals/redefine"),m=L("../internals/object-define-property").f,v=L("../internals/object-get-prototype-of"),_=L("../internals/object-set-prototype-of"),R=L("../internals/well-known-symbol"),L=L("../internals/uid"),g=b.Int8Array,x=g&&g.prototype,j=b.Uint8ClampedArray,j=j&&j.prototype,E=g&&v(g),M=x&&v(x),T=Object.prototype,O=T.isPrototypeOf,R=R("toStringTag"),k=L("TYPED_ARRAY_TAG"),D=s&&!!_&&h(b.opera)!=="Opera",L=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(o in B)b[o]||(D=!1);if((!D||typeof E!="function"||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},D))for(o in B)b[o]&&_(b[o],E);if((!D||!M||M===T)&&(M=E.prototype,D))for(o in B)b[o]&&_(b[o].prototype,M);if(D&&v(j)!==M&&_(j,M),u&&!c(M,R))for(o in L=!0,m(M,R,{get:function(){return y(this)?this[k]:void 0}}),B)b[o]&&f(b[o],k,o);d.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:L&&k,aTypedArray:function(F){if(n(F))return F;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(F){if(_){if(O.call(E,F))return F}else for(var V in B)if(c(B,o)&&(V=b[V],V&&(F===V||O.call(V,F))))return F;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(F,V,q){if(u){if(q)for(var G in B)G=b[G],G&&c(G.prototype,F)&&delete G.prototype[F];M[F]&&!q||p(M,F,!q&&D&&x[F]||V)}},exportTypedArrayStaticMethod:function(F,V,q){var G,W;if(u){if(_){if(q)for(G in B)(W=b[G])&&c(W,F)&&delete W[F];if(E[F]&&!q)return;try{return p(E,F,!q&&D&&g[F]||V)}catch{}}for(G in B)!(W=b[G])||W[F]&&!q||p(W,F,V)}},isView:function(F){return F=h(F),F==="DataView"||c(B,F)},isTypedArray:n,TypedArray:E,TypedArrayPrototype:M}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(z,d,a){function n(re){return[255&re]}function o(re){return[255&re,re>>8&255]}function s(re){return[255&re,re>>8&255,re>>16&255,re>>24&255]}function u(re){return re[3]<<24|re[2]<<16|re[1]<<8|re[0]}function b(re){return ee(re,23,4)}function y(re){return ee(re,52,8)}function c(re,le){L(re[$],le,{get:function(){return V(this)[le]}})}function h(Me,le,ve,je){if(ve=T(ve),Me=V(Me),ve+le>Me.byteLength)throw J(K);var ye=V(Me.buffer).bytes,ve=ve+Me.byteOffset,Me=ye.slice(ve,ve+le);return je?Me:Me.reverse()}function f(re,le,me,je,ye,ve){if(me=T(me),re=V(re),me+le>re.byteLength)throw J(K);for(var Me=V(re.buffer).bytes,Fe=me+re.byteOffset,Ce=je(+ye),$e=0;$e<le;$e++)Me[Fe+$e]=Ce[ve?$e:le-$e-1]}var p=z("../internals/global"),m=z("../internals/descriptors"),v=z("../internals/array-buffer-native"),_=z("../internals/create-non-enumerable-property"),g=z("../internals/redefine-all"),x=z("../internals/fails"),j=z("../internals/an-instance"),E=z("../internals/to-integer"),M=z("../internals/to-length"),T=z("../internals/to-index"),O=z("../internals/ieee754"),R=z("../internals/object-get-prototype-of"),k=z("../internals/object-set-prototype-of"),D=z("../internals/object-get-own-property-names").f,L=z("../internals/object-define-property").f,B=z("../internals/array-fill"),F=z("../internals/set-to-string-tag"),z=z("../internals/internal-state"),V=z.get,q=z.set,G="ArrayBuffer",W="DataView",$="prototype",K="Wrong index",N=p[G],A=N,I=p[W],z=I&&I[$],Y=Object.prototype,J=p.RangeError,ee=O.pack,ce=O.unpack;if(v){if(!x(function(){N(1)})||!x(function(){new N(-1)})||x(function(){return new N,new N(1.5),new N(NaN),N.name!=G})){for(var pe,p=(A=function(me){return j(this,A),new N(T(me))})[$]=N[$],ie=D(N),de=0;ie.length>de;)(pe=ie[de++])in A||_(A,pe,N[pe]);p.constructor=A}k&&R(z)!==Y&&k(z,Y);var O=new I(new A(2)),ue=z.setInt8;O.setInt8(0,2147483648),O.setInt8(1,2147483649),!O.getInt8(0)&&O.getInt8(1)||g(z,{setInt8:function(le,me){ue.call(this,le,me<<24>>24)},setUint8:function(le,me){ue.call(this,le,me<<24>>24)}},{unsafe:!0})}else A=function(re){j(this,A,G),re=T(re),q(this,{bytes:B.call(new Array(re),0),byteLength:re}),m||(this.byteLength=re)},I=function(re,ye,me){j(this,I,W),j(re,A,W);var je=V(re).byteLength,ye=E(ye);if(ye<0||je<ye)throw J("Wrong offset");if(je<ye+(me=me===void 0?je-ye:M(me)))throw J("Wrong length");q(this,{buffer:re,byteLength:me,byteOffset:ye}),m||(this.buffer=re,this.byteLength=me,this.byteOffset=ye)},m&&(c(A,"byteLength"),c(I,"buffer"),c(I,"byteLength"),c(I,"byteOffset")),g(I[$],{getInt8:function(re){return h(this,1,re)[0]<<24>>24},getUint8:function(re){return h(this,1,re)[0]},getInt16:function(re){return re=h(this,2,re,1<arguments.length?arguments[1]:void 0),(re[1]<<8|re[0])<<16>>16},getUint16:function(re){return re=h(this,2,re,1<arguments.length?arguments[1]:void 0),re[1]<<8|re[0]},getInt32:function(re){return u(h(this,4,re,1<arguments.length?arguments[1]:void 0))},getUint32:function(re){return u(h(this,4,re,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(re){return ce(h(this,4,re,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(re){return ce(h(this,8,re,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(re,le){f(this,1,re,n,le)},setUint8:function(re,le){f(this,1,re,n,le)},setInt16:function(re,le){f(this,2,re,o,le,2<arguments.length?arguments[2]:void 0)},setUint16:function(re,le){f(this,2,re,o,le,2<arguments.length?arguments[2]:void 0)},setInt32:function(re,le){f(this,4,re,s,le,2<arguments.length?arguments[2]:void 0)},setUint32:function(re,le){f(this,4,re,s,le,2<arguments.length?arguments[2]:void 0)},setFloat32:function(re,le){f(this,4,re,b,le,2<arguments.length?arguments[2]:void 0)},setFloat64:function(re,le){f(this,8,re,y,le,2<arguments.length?arguments[2]:void 0)}});F(A,G),F(I,W),d.exports={ArrayBuffer:A,DataView:I}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(t,d,a){var n=t("../internals/to-object"),o=t("../internals/to-absolute-index"),s=t("../internals/to-length"),u=Math.min;d.exports=[].copyWithin||function(m,y){var c=n(this),h=s(c.length),f=o(m,h),p=o(y,h),m=2<arguments.length?arguments[2]:void 0,v=u((m===void 0?h:o(m,h))-p,h-f),_=1;for(p<f&&f<p+v&&(_=-1,p+=v-1,f+=v-1);0<v--;)p in c?c[f]=c[p]:delete c[f],f+=_,p+=_;return c}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(t,d,a){var n=t("../internals/to-object"),o=t("../internals/to-absolute-index"),s=t("../internals/to-length");d.exports=function(u){for(var b=n(this),y=s(b.length),h=arguments.length,c=o(1<h?arguments[1]:void 0,y),h=2<h?arguments[2]:void 0,f=h===void 0?y:o(h,y);c<f;)b[c++]=u;return b}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(s,d,a){var n=s("../internals/array-iteration").forEach,o=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),o=o("forEach"),s=s("forEach");d.exports=o&&s?[].forEach:function(u){return n(this,u,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,d,a){var n=t("../internals/function-bind-context"),o=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),u=t("../internals/is-array-iterator-method"),b=t("../internals/to-length"),y=t("../internals/create-property"),c=t("../internals/get-iterator-method");d.exports=function(j){var f,p,m,v,_,g,x=o(j),j=typeof this=="function"?this:Array,E=arguments.length,M=1<E?arguments[1]:void 0,T=M!==void 0,O=c(x),R=0;if(T&&(M=n(M,2<E?arguments[2]:void 0,2)),O==null||j==Array&&u(O))for(p=new j(f=b(x.length));R<f;R++)g=T?M(x[R],R):x[R],y(p,R,g);else for(_=(v=O.call(x)).next,p=new j;!(m=_.call(v)).done;R++)g=T?s(v,M,[m.value,R],!0):m.value,y(p,R,g);return p.length=R,p}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(t,d,a){function n(b){return function(y,c,h){var f,p=o(y),m=s(p.length),v=u(h,m);if(b&&c!=c){for(;v<m;)if((f=p[v++])!=f)return!0}else for(;v<m;v++)if((b||v in p)&&p[v]===c)return b||v||0;return!b&&-1}}var o=t("../internals/to-indexed-object"),s=t("../internals/to-length"),u=t("../internals/to-absolute-index");d.exports={includes:n(!0),indexOf:n(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(t,d,a){function n(h){var f=h==1,p=h==2,m=h==3,v=h==4,_=h==6,g=h==5||_;return function(x,j,E,M){for(var T,O,R=u(x),k=s(R),D=o(j,E,3),L=b(k.length),B=0,j=M||y,F=f?j(x,L):p?j(x,0):void 0;B<L;B++)if((g||B in k)&&(O=D(T=k[B],B,R),h)){if(f)F[B]=O;else if(O)switch(h){case 3:return!0;case 5:return T;case 6:return B;case 2:c.call(F,T)}else if(v)return!1}return _?-1:m||v?v:F}}var o=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),u=t("../internals/to-object"),b=t("../internals/to-length"),y=t("../internals/array-species-create"),c=[].push;d.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(h,d,a){var n=h("../internals/to-indexed-object"),o=h("../internals/to-integer"),s=h("../internals/to-length"),c=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),u=Math.min,b=[].lastIndexOf,y=!!b&&1/[1].lastIndexOf(1,-0)<0,c=c("lastIndexOf"),h=h("indexOf",{ACCESSORS:!0,1:0});d.exports=y||!c||!h?function(f){if(y)return b.apply(this,arguments)||0;var p=n(this),m=s(p.length),v=m-1;for((v=1<arguments.length?u(v,o(arguments[1])):v)<0&&(v=m+v);0<=v;v--)if(v in p&&p[v]===f)return v||0;return-1}:b},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(t,d,a){var n=t("../internals/fails"),o=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),u=o("species");d.exports=function(b){return 51<=s||!n(function(){var y=[];return(y.constructor={})[u]=function(){return{foo:1}},y[b](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(t,d,a){var n=t("../internals/fails");d.exports=function(o,s){var u=[][o];return!!u&&n(function(){u.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,d,a){function n(c){throw c}var o=t("../internals/descriptors"),s=t("../internals/fails"),u=t("../internals/has"),b=Object.defineProperty,y={};d.exports=function(c,h){var f,p,m,v;return u(y,c)?y[c]:(f=[][c],p=!!u(h=h||{},"ACCESSORS")&&h.ACCESSORS,m=u(h,0)?h[0]:n,v=u(h,1)?h[1]:void 0,y[c]=!!f&&!s(function(){if(p&&!o)return!0;var _={length:-1};p?b(_,1,{enumerable:!0,get:n}):_[1]=1,f.call(_,m,v)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,d,a){function n(y){return function(c,h,f,p){o(h);var m=s(c),v=u(m),_=b(m.length),g=y?_-1:0,x=y?-1:1;if(f<2)for(;;){if(g in v){p=v[g],g+=x;break}if(g+=x,y?g<0:_<=g)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=g:g<_;g+=x)g in v&&(p=h(p,v[g],g,m));return p}}var o=t("../internals/a-function"),s=t("../internals/to-object"),u=t("../internals/indexed-object"),b=t("../internals/to-length");d.exports={left:n(!1),right:n(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(t,d,a){var n=t("../internals/is-object"),o=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");d.exports=function(u,b){var y;return new((y=o(u)&&(typeof(y=u.constructor)=="function"&&(y===Array||o(y.prototype))||n(y)&&(y=y[s])===null)?void 0:y)===void 0?Array:y)(b===0?0:b)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(t,d,a){var n=t("../internals/an-object");d.exports=function(o,s,u,b){try{return b?s(n(u)[0],u[1]):s(u)}catch(y){throw b=o.return,b!==void 0&&n(b.call(o)),y}}},{"../internals/an-object":10}],27:[function(t,d,a){var n=t("../internals/well-known-symbol")("iterator"),o=!1;try{var s=0,u={next:function(){return{done:!!s++}},return:function(){o=!0}};u[n]=function(){return this},Array.from(u,function(){throw 2})}catch{}d.exports=function(b,y){if(!y&&!o)return!1;var c=!1;try{var h={};h[n]=function(){return{next:function(){return{done:c=!0}}}},b(h)}catch{}return c}},{"../internals/well-known-symbol":148}],28:[function(t,d,a){var n={}.toString;d.exports=function(o){return n.call(o).slice(8,-1)}},{}],29:[function(t,d,a){var n=t("../internals/to-string-tag-support"),o=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),u=o(function(){return arguments}())=="Arguments";d.exports=n?o:function(b){var y;return b===void 0?"Undefined":b===null?"Null":typeof(y=function(c,h){try{return c[h]}catch{}}(b=Object(b),s))=="string"?y:u?o(b):(y=o(b))=="Object"&&typeof b.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(m,d,a){var n=m("../internals/object-define-property").f,o=m("../internals/object-create"),s=m("../internals/redefine-all"),u=m("../internals/function-bind-context"),b=m("../internals/an-instance"),y=m("../internals/iterate"),c=m("../internals/define-iterator"),h=m("../internals/set-species"),f=m("../internals/descriptors"),p=m("../internals/internal-metadata").fastKey,m=m("../internals/internal-state"),v=m.set,_=m.getterFor;d.exports={getConstructor:function(g,x,j,E){function M(k,D,L){var B,F=R(k),V=T(k,D);return V?V.value=L:(F.last=V={index:B=p(D,!0),key:D,value:L,previous:D=F.last,next:void 0,removed:!1},F.first||(F.first=V),D&&(D.next=V),f?F.size++:k.size++,B!=="F"&&(F.index[B]=V)),k}function T(B,D){var L,B=R(B),F=p(D);if(F!=="F")return B.index[F];for(L=B.first;L;L=L.next)if(L.key==D)return L}var O=g(function(k,D){b(k,O,x),v(k,{type:x,index:o(null),first:void 0,last:void 0,size:0}),f||(k.size=0),D!=null&&y(D,k[E],k,j)}),R=_(x);return s(O.prototype,{clear:function(){for(var k=R(this),D=k.index,L=k.first;L;)L.removed=!0,L.previous&&(L.previous=L.previous.next=void 0),delete D[L.index],L=L.next;k.first=k.last=void 0,f?k.size=0:this.size=0},delete:function(F){var D,L,B=R(this),F=T(this,F);return F&&(D=F.next,L=F.previous,delete B.index[F.index],F.removed=!0,L&&(L.next=D),D&&(D.previous=L),B.first==F&&(B.first=D),B.last==F&&(B.last=L),f?B.size--:this.size--),!!F},forEach:function(k){for(var D,L=R(this),B=u(k,1<arguments.length?arguments[1]:void 0,3);D=D?D.next:L.first;)for(B(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(k){return!!T(this,k)}}),s(O.prototype,j?{get:function(k){return k=T(this,k),k&&k.value},set:function(k,D){return M(this,k===0?0:k,D)}}:{add:function(k){return M(this,k=k===0?0:k,k)}}),f&&n(O.prototype,"size",{get:function(){return R(this).size}}),O},setStrong:function(g,x,j){var E=x+" Iterator",M=_(x),T=_(E);c(g,x,function(O,R){v(this,{type:E,target:O,state:M(O),kind:R,last:void 0})},function(){for(var O=T(this),R=O.kind,k=O.last;k&&k.removed;)k=k.previous;return O.target&&(O.last=k=k?k.next:O.state.first)?R=="keys"?{value:k.key,done:!1}:R=="values"?{value:k.value,done:!1}:{value:[k.key,k.value],done:!1}:{value:O.target=void 0,done:!0}},j?"entries":"values",!j,!0),h(x)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(v,d,a){function n(M){return M.frozen||(M.frozen=new o)}function o(){this.entries=[]}function s(M,T){return x(M.entries,function(O){return O[0]===T})}var u=v("../internals/redefine-all"),b=v("../internals/internal-metadata").getWeakData,y=v("../internals/an-object"),c=v("../internals/is-object"),h=v("../internals/an-instance"),f=v("../internals/iterate"),p=v("../internals/array-iteration"),m=v("../internals/has"),v=v("../internals/internal-state"),_=v.set,g=v.getterFor,x=p.find,j=p.findIndex,E=0;o.prototype={get:function(M){if(M=s(this,M),M)return M[1]},has:function(M){return!!s(this,M)},set:function(M,T){var O=s(this,M);O?O[1]=T:this.entries.push([M,T])},delete:function(M){var T=j(this.entries,function(O){return O[0]===M});return~T&&this.entries.splice(T,1),!!~T}},d.exports={getConstructor:function(M,T,O,R){function k(B,F,V){var q=L(B),G=b(y(F),!0);return G===!0?n(q).set(F,V):G[q.id]=V,B}var D=M(function(B,F){h(B,D,T),_(B,{type:T,id:E++,frozen:void 0}),F!=null&&f(F,B[R],B,O)}),L=g(T);return u(D.prototype,{delete:function(B){var F,V=L(this);return!!c(B)&&((F=b(B))===!0?n(V).delete(B):F&&m(F,V.id)&&delete F[V.id])},has:function(B){var F,V=L(this);return!!c(B)&&((F=b(B))===!0?n(V).has(B):F&&m(F,V.id))}}),u(D.prototype,O?{get:function(B){var F,V=L(this);if(c(B))return(F=b(B))===!0?n(V).get(B):F?F[V.id]:void 0},set:function(B,F){return k(this,B,F)}}:{add:function(B){return k(this,B,!0)}}),D}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/global"),s=t("../internals/is-forced"),u=t("../internals/redefine"),b=t("../internals/internal-metadata"),y=t("../internals/iterate"),c=t("../internals/an-instance"),h=t("../internals/is-object"),f=t("../internals/fails"),p=t("../internals/check-correctness-of-iteration"),m=t("../internals/set-to-string-tag"),v=t("../internals/inherit-if-required");d.exports=function(_,g,x){function j(G){var W=F[G];u(F,G,G=="add"?function($){return W.call(this,$===0?0:$),this}:G=="delete"?function($){return!(D&&!h($))&&W.call(this,$===0?0:$)}:G=="get"?function($){return D&&!h($)?void 0:W.call(this,$===0?0:$)}:G=="has"?function($){return!(D&&!h($))&&W.call(this,$===0?0:$)}:function($,K){return W.call(this,$===0?0:$,K),this})}var E,M,T,O,R,k=_.indexOf("Map")!==-1,D=_.indexOf("Weak")!==-1,L=k?"set":"add",B=o[_],F=B&&B.prototype,V=B,q={};return s(_,typeof B!="function"||!(D||F.forEach&&!f(function(){new B().entries().next()})))?(V=x.getConstructor(g,_,k,L),b.REQUIRED=!0):s(_,!0)&&(M=(E=new V)[L](D?{}:-0,1)!=E,T=f(function(){E.has(1)}),O=p(function(G){new B(G)}),R=!D&&f(function(){for(var G=new B,W=5;W--;)G[L](W,W);return!G.has(-0)}),O||(((V=g(function(G,W){return c(G,V,_),G=v(new B,G,V),W!=null&&y(W,G[L],G,k),G})).prototype=F).constructor=V),(T||R)&&(j("delete"),j("has"),k&&j("get")),(R||M)&&j(L),D&&F.clear&&delete F.clear),q[_]=V,n({global:!0,forced:V!=B},q),m(V,_),D||x.setStrong(V,_,k),V}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,d,a){var n=t("../internals/has"),o=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),u=t("../internals/object-define-property");d.exports=function(b,y){for(var c=o(y),h=u.f,f=s.f,p=0;p<c.length;p++){var m=c[p];n(b,m)||h(b,m,f(y,m))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,d,a){var n=t("../internals/well-known-symbol")("match");d.exports=function(o){var s=/./;try{"/./"[o](s)}catch{try{return s[n]=!1,"/./"[o](s)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(t,d,a){t=t("../internals/fails"),d.exports=!t(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},{"../internals/fails":51}],36:[function(t,d,a){var n=t("../internals/require-object-coercible"),o=/"/g;d.exports=function(c,u,b,y){var c=String(n(c)),h="<"+u;return b!==""&&(h+=" "+b+'="'+String(y).replace(o,"&quot;")+'"'),h+">"+c+"</"+u+">"}},{"../internals/require-object-coercible":113}],37:[function(t,d,a){function n(){return this}var o=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),u=t("../internals/create-property-descriptor"),b=t("../internals/set-to-string-tag"),y=t("../internals/iterators");d.exports=function(c,h,f){return h+=" Iterator",c.prototype=s(o,{next:u(1,f)}),b(c,h,!1,!0),y[h]=n,c}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,d,a){var n=t("../internals/descriptors"),o=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");d.exports=n?function(u,b,y){return o.f(u,b,s(1,y))}:function(u,b,y){return u[b]=y,u}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,d,a){d.exports=function(n,o){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:o}}},{}],40:[function(t,d,a){var n=t("../internals/to-primitive"),o=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");d.exports=function(u,b,y){b=n(b),b in u?o.f(u,b,s(0,y)):u[b]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(v,d,a){function n(){return this}var o=v("../internals/export"),s=v("../internals/create-iterator-constructor"),u=v("../internals/object-get-prototype-of"),b=v("../internals/object-set-prototype-of"),y=v("../internals/set-to-string-tag"),c=v("../internals/create-non-enumerable-property"),h=v("../internals/redefine"),f=v("../internals/well-known-symbol"),p=v("../internals/is-pure"),m=v("../internals/iterators"),v=v("../internals/iterators-core"),_=v.IteratorPrototype,g=v.BUGGY_SAFARI_ITERATORS,x=f("iterator"),j="values",E="entries";d.exports=function(M,T,O,q,k,D,L){s(O,T,q);function B(A){if(A===k&&K)return K;if(!g&&A in W)return W[A];switch(A){case"keys":case j:case E:return function(){return new O(this,A)}}return function(){return new O(this)}}var F,V,q=T+" Iterator",G=!1,W=M.prototype,$=W[x]||W["@@iterator"]||k&&W[k],K=!g&&$||B(k),N=T=="Array"&&W.entries||$;if(N&&(N=u(N.call(new M)),_!==Object.prototype&&N.next&&(p||u(N)===_||(b?b(N,_):typeof N[x]!="function"&&c(N,x,n)),y(N,q,!0,!0),p&&(m[q]=n))),k==j&&$&&$.name!==j&&(G=!0,K=function(){return $.call(this)}),p&&!L||W[x]===K||c(W,x,K),m[T]=K,k)if(F={values:B(j),keys:D?K:B("keys"),entries:B(E)},L)for(V in F)!g&&!G&&V in W||h(W,V,F[V]);else o({target:T,proto:!0,forced:g||G},F);return F}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(t,d,a){var n=t("../internals/path"),o=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),u=t("../internals/object-define-property").f;d.exports=function(b){var y=n.Symbol||(n.Symbol={});o(y,b)||u(y,b,{value:s.f(b)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(t,d,a){t=t("../internals/fails"),d.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(o,d,a){var n=o("../internals/global"),o=o("../internals/is-object"),s=n.document,u=o(s)&&o(s.createElement);d.exports=function(b){return u?s.createElement(b):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,d,a){d.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,d,a){t=t("../internals/engine-user-agent"),d.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,d,a){t=t("../internals/get-built-in"),d.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(s,d,a){var n,o,u=s("../internals/global"),s=s("../internals/engine-user-agent"),u=u.process,u=u&&u.versions,u=u&&u.v8;u?o=(n=u.split("."))[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||74<=n[1])&&(n=s.match(/Chrome\/(\d+)/))&&(o=n[1]),d.exports=o&&+o},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,d,a){d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,d,a){var n=t("../internals/global"),o=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),u=t("../internals/redefine"),b=t("../internals/set-global"),y=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");d.exports=function(h,f){var p,m,v,_=h.target,g=h.global,x=h.stat,j=g?n:x?n[_]||b(_,{}):(n[_]||{}).prototype;if(j)for(p in f){if(m=f[p],v=h.noTargetGet?(v=o(j,p))&&v.value:j[p],!c(g?p:_+(x?".":"#")+p,h.forced)&&v!==void 0){if(typeof m==typeof v)continue;y(m,v)}(h.sham||v&&v.sham)&&s(m,"sham",!0),u(j,p,m,h)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,d,a){d.exports=function(n){try{return!!n()}catch{return!0}}},{}],52:[function(f,d,a){f("../modules/es.regexp.exec");var n=f("../internals/redefine"),o=f("../internals/fails"),s=f("../internals/well-known-symbol"),u=f("../internals/regexp-exec"),b=f("../internals/create-non-enumerable-property"),y=s("species"),c=!o(function(){var v=/./;return v.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(v,"$<a>")!=="7"}),h="a".replace(/./,"$0")==="$0",f=s("replace"),p=!!/./[f]&&/./[f]("a","$0")==="",m=!o(function(){var _=/(?:)/,v=_.exec,_=(_.exec=function(){return v.apply(this,arguments)},"ab".split(_));return _.length!==2||_[0]!=="a"||_[1]!=="b"});d.exports=function(v,_,g,x){var j,E,M=s(v),T=!o(function(){var R={};return R[M]=function(){return 7},""[v](R)!=7}),O=T&&!o(function(){var R=!1,k=/a/;return v==="split"&&((k={constructor:{}}).constructor[y]=function(){return k},k.flags="",k[M]=/./[M]),k.exec=function(){return R=!0,null},k[M](""),!R});T&&O&&(v!=="replace"||c&&h&&!p)&&(v!=="split"||m)||(j=/./[M],g=(O=g(M,""[v],function(R,k,D,L,B){return k.exec===u?T&&!B?{done:!0,value:j.call(k,D,L)}:{done:!0,value:R.call(D,k,L)}:{done:!1}},{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}))[0],E=O[1],n(String.prototype,v,g),n(RegExp.prototype,M,_==2?function(R,k){return E.call(R,this,k)}:function(R){return E.call(R,this)})),x&&b(RegExp.prototype[M],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":187}],53:[function(t,d,a){t=t("../internals/fails"),d.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,d,a){var n=t("../internals/a-function");d.exports=function(o,s,u){if(n(o),s===void 0)return o;switch(u){case 0:return function(){return o.call(s)};case 1:return function(b){return o.call(s,b)};case 2:return function(b,y){return o.call(s,b,y)};case 3:return function(b,y,c){return o.call(s,b,y,c)}}return function(){return o.apply(s,arguments)}}},{"../internals/a-function":5}],55:[function(t,d,a){var n=t("../internals/a-function"),o=t("../internals/is-object"),s=[].slice,u={};d.exports=Function.bind||function(b){var y=n(this),c=s.call(arguments,1),h=function(){var f=c.concat(s.call(arguments));if(this instanceof h){var p=y,m=f.length,v=f;if(!(m in u)){for(var _=[],g=0;g<m;g++)_[g]="a["+g+"]";u[m]=Function("C,a","return new C("+_.join(",")+")")}return u[m](p,v)}return y.apply(b,f)};return o(y.prototype)&&(h.prototype=y.prototype),h}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,d,a){function n(u){return typeof u=="function"?u:void 0}var o=t("../internals/path"),s=t("../internals/global");d.exports=function(u,b){return arguments.length<2?n(o[u])||n(s[u]):o[u]&&o[u][b]||s[u]&&s[u][b]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,d,a){var n=t("../internals/classof"),o=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");d.exports=function(u){if(u!=null)return u[s]||u["@@iterator"]||o[n(u)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(t,d,a){var n=t("../internals/an-object"),o=t("../internals/get-iterator-method");d.exports=function(s){var u=o(s);if(typeof u!="function")throw TypeError(String(s)+" is not iterable");return n(u.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,d,a){(function(n){function o(s){return s&&s.Math==Math&&s}d.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof n=="object"&&n)||Function("return this")()}).call(this,typeof xs<"u"?xs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,d,a){var n={}.hasOwnProperty;d.exports=function(o,s){return n.call(o,s)}},{}],61:[function(t,d,a){d.exports={}},{}],62:[function(t,d,a){var n=t("../internals/global");d.exports=function(o,s){var u=n.console;u&&u.error&&(arguments.length===1?u.error(o):u.error(o,s))}},{"../internals/global":59}],63:[function(t,d,a){t=t("../internals/get-built-in"),d.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,d,a){var n=t("../internals/descriptors"),o=t("../internals/fails"),s=t("../internals/document-create-element");d.exports=!n&&!o(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,d,a){var n=Math.abs,o=Math.pow,s=Math.floor,u=Math.log,b=Math.LN2;d.exports={pack:function(y,c,g){var f,p,m,v=new Array(g),_=8*g-c-1,g=(1<<_)-1,x=g>>1,j=c===23?o(2,-24)-o(2,-77):0,E=y<0||y===0&&1/y<0?1:0,M=0;for((y=n(y))!=y||y===1/0?(p=y!=y?1:0,f=g):(f=s(u(y)/b),y*(m=o(2,-f))<1&&(f--,m*=2),2<=(y+=1<=f+x?j/m:j*o(2,1-x))*m&&(f++,m/=2),g<=f+x?(p=0,f=g):1<=f+x?(p=(y*m-1)*o(2,c),f+=x):(p=y*o(2,x-1)*o(2,c),f=0));8<=c;v[M++]=255&p,p/=256,c-=8);for(f=f<<c|p,_+=c;0<_;v[M++]=255&f,f/=256,_-=8);return v[--M]|=128*E,v},unpack:function(y,c){var h,f=y.length,g=8*f-c-1,p=(1<<g)-1,m=p>>1,v=g-7,_=f-1,g=y[_--],x=127&g;for(g>>=7;0<v;x=256*x+y[_],_--,v-=8);for(h=x&(1<<-v)-1,x>>=-v,v+=c;0<v;h=256*h+y[_],_--,v-=8);if(x===0)x=1-m;else{if(x===p)return h?NaN:g?-1/0:1/0;h+=o(2,c),x-=m}return(g?-1:1)*h*o(2,x-c)}}},{}],66:[function(t,d,a){var n=t("../internals/fails"),o=t("../internals/classof-raw"),s="".split;d.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return o(u)=="String"?s.call(u,""):Object(u)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,d,a){var n=t("../internals/is-object"),o=t("../internals/object-set-prototype-of");d.exports=function(s,u,b){return o&&typeof(u=u.constructor)=="function"&&u!==b&&n(u=u.prototype)&&u!==b.prototype&&o(s,u),s}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(n,d,a){var n=n("../internals/shared-store"),o=Function.toString;typeof n.inspectSource!="function"&&(n.inspectSource=function(s){return o.call(s)}),d.exports=n.inspectSource},{"../internals/shared-store":119}],69:[function(t,d,a){function n(v){b(v,h,{value:{objectID:"O"+ ++f,weakData:{}}})}var o=t("../internals/hidden-keys"),s=t("../internals/is-object"),u=t("../internals/has"),b=t("../internals/object-define-property").f,y=t("../internals/uid"),c=t("../internals/freezing"),h=y("meta"),f=0,p=Object.isExtensible||function(){return!0},m=d.exports={REQUIRED:!1,fastKey:function(v,_){if(!s(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!u(v,h)){if(!p(v))return"F";if(!_)return"E";n(v)}return v[h].objectID},getWeakData:function(v,_){if(!u(v,h)){if(!p(v))return!0;if(!_)return!1;n(v)}return v[h].weakData},onFreeze:function(v){return c&&m.REQUIRED&&p(v)&&!u(v,h)&&n(v),v}};o[h]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(g,d,a){var n,o,s,u,b,y,c,h,f=g("../internals/native-weak-map"),x=g("../internals/global"),p=g("../internals/is-object"),m=g("../internals/create-non-enumerable-property"),v=g("../internals/has"),_=g("../internals/shared-key"),g=g("../internals/hidden-keys"),x=x.WeakMap;c=f?(n=new x,o=n.get,s=n.has,u=n.set,b=function(j,E){return u.call(n,j,E),E},y=function(j){return o.call(n,j)||{}},function(j){return s.call(n,j)}):(g[h=_("state")]=!0,b=function(j,E){return m(j,h,E),E},y=function(j){return v(j,h)?j[h]:{}},function(j){return v(j,h)}),d.exports={set:b,get:y,has:c,enforce:function(j){return c(j)?y(j):b(j,{})},getterFor:function(j){return function(E){if(p(E)&&(E=y(E)).type===j)return E;throw TypeError("Incompatible receiver, "+j+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,d,a){var n=t("../internals/well-known-symbol"),o=t("../internals/iterators"),s=n("iterator"),u=Array.prototype;d.exports=function(b){return b!==void 0&&(o.Array===b||u[s]===b)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(t,d,a){var n=t("../internals/classof-raw");d.exports=Array.isArray||function(o){return n(o)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,d,a){function n(h,f){return(h=b[u(h)])==c||h!=y&&(typeof f=="function"?o(f):!!f)}var o=t("../internals/fails"),s=/#|\.prototype\./,u=n.normalize=function(h){return String(h).replace(s,".").toLowerCase()},b=n.data={},y=n.NATIVE="N",c=n.POLYFILL="P";d.exports=n},{"../internals/fails":51}],74:[function(t,d,a){d.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},{}],75:[function(t,d,a){d.exports=!1},{}],76:[function(t,d,a){var n=t("../internals/is-object"),o=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");d.exports=function(u){var b;return n(u)&&((b=u[s])!==void 0?!!b:o(u)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(t,d,a){function n(h,f){this.stopped=h,this.result=f}var o=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),u=t("../internals/to-length"),b=t("../internals/function-bind-context"),y=t("../internals/get-iterator-method"),c=t("../internals/call-with-safe-iteration-closing");(d.exports=function(h,f,p,m,v){var _,g,x,j,E,M,T=b(f,p,m?2:1);if(v)_=h;else{if(typeof(f=y(h))!="function")throw TypeError("Target is not iterable");if(s(f)){for(g=0,x=u(h.length);g<x;g++)if((j=m?T(o(M=h[g])[0],M[1]):T(h[g]))&&j instanceof n)return j;return new n(!1)}_=f.call(h)}for(E=_.next;!(M=E.call(_)).done;)if(typeof(j=c(_,T,M.value,m))=="object"&&j&&j instanceof n)return j;return new n(!1)}).stop=function(h){return new n(!0,h)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(y,d,a){var n,o,s=y("../internals/object-get-prototype-of"),u=y("../internals/create-non-enumerable-property"),b=y("../internals/has"),c=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),c=c("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(s=s(s(o)))!==Object.prototype&&(n=s):h=!0),n==null&&(n={}),y||b(n,c)||u(n,c,function(){return this}),d.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(t,d,a){d.exports={}},{}],80:[function(t,d,a){d.exports=Math.sign||function(n){return(n=+n)==0||n!=n?n:n<0?-1:1}},{}],81:[function(m,d,a){var n,o,s,u,b,y,c,h,f=m("../internals/global"),E=m("../internals/object-get-own-property-descriptor").f,j=m("../internals/classof-raw"),p=m("../internals/task").set,m=m("../internals/engine-is-ios"),v=f.MutationObserver||f.WebKitMutationObserver,_=f.process,g=f.Promise,x=j(_)=="process",j=E(f,"queueMicrotask"),E=j&&j.value;E||(n=function(){var M,T;for(x&&(M=_.domain)&&M.exit();o;){T=o.fn,o=o.next;try{T()}catch(O){throw o?u():s=void 0,O}}s=void 0,M&&M.enter()},u=x?function(){_.nextTick(n)}:v&&!m?(b=!0,y=document.createTextNode(""),new v(n).observe(y,{characterData:!0}),function(){y.data=b=!b}):g&&g.resolve?(c=g.resolve(void 0),h=c.then,function(){h.call(c,n)}):function(){p.call(f,n)}),d.exports=E||function(M){M={fn:M,next:void 0},s&&(s.next=M),o||(o=M,u()),s=M}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(t,d,a){t=t("../internals/global"),d.exports=t.Promise},{"../internals/global":59}],83:[function(t,d,a){t=t("../internals/fails"),d.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,d,a){var n=t("../internals/fails"),o=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),u=o("iterator");d.exports=!n(function(){var b=new URL("b?a=1&b=2&c=3","http://a"),y=b.searchParams,c="";return b.pathname="c%20d",y.forEach(function(h,f){y.delete("b"),c+=f+h}),s&&!b.toJSON||!y.sort||b.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[u]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||c!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(n,d,a){var o=n("../internals/global"),n=n("../internals/inspect-source"),o=o.WeakMap;d.exports=typeof o=="function"&&/native code/.test(n(o))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,d,a){function n(s){var u,b;this.promise=new s(function(y,c){if(u!==void 0||b!==void 0)throw TypeError("Bad Promise constructor");u=y,b=c}),this.resolve=o(u),this.reject=o(b)}var o=t("../internals/a-function");d.exports.f=function(s){return new n(s)}},{"../internals/a-function":5}],87:[function(t,d,a){var n=t("../internals/is-regexp");d.exports=function(o){if(n(o))throw TypeError("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":76}],88:[function(t,d,a){var n=t("../internals/global").isFinite;d.exports=Number.isFinite||function(o){return typeof o=="number"&&n(o)}},{"../internals/global":59}],89:[function(t,d,a){var n=t("../internals/descriptors"),o=t("../internals/fails"),s=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),b=t("../internals/object-property-is-enumerable"),y=t("../internals/to-object"),c=t("../internals/indexed-object"),h=Object.assign,f=Object.defineProperty;d.exports=!h||o(function(){var p,m,v,_;return!(!n||h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(m={},_="abcdefghijklmnopqrst",(p={})[v=Symbol()]=7,_.split("").forEach(function(g){m[g]=g}),h({},p)[v]!=7||s(h({},m)).join("")!=_)})?function(p,m){for(var v=y(p),_=arguments.length,g=1,x=u.f,j=b.f;g<_;)for(var E,M=c(arguments[g++]),T=x?s(M).concat(x(M)):s(M),O=T.length,R=0;R<O;)E=T[R++],n&&!j.call(M,E)||(v[E]=M[E]);return v}:h},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(f,d,a){function n(){}var o,s=f("../internals/an-object"),u=f("../internals/object-define-properties"),b=f("../internals/enum-bug-keys"),y=f("../internals/hidden-keys"),c=f("../internals/html"),h=f("../internals/document-create-element"),f=f("../internals/shared-key"),p="prototype",m="script",v=f("IE_PROTO"),_=function(x){return"<"+m+">"+x+"</"+m+">"},g=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch{}g=o?((x=o).write(_("")),x.close(),j=x.parentWindow.Object,x=null,j):(x=h("iframe"),j="java"+m+":",x.style.display="none",c.appendChild(x),x.src=String(j),(j=x.contentWindow.document).open(),j.write(_("document.F=Object")),j.close(),j.F);for(var x,j,E=b.length;E--;)delete g[p][b[E]];return g()};y[v]=!0,d.exports=Object.create||function(x,j){var E;return x!==null?(n[p]=s(x),E=new n,n[p]=null,E[v]=x):E=g(),j===void 0?E:u(E,j)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,d,a){var n=t("../internals/descriptors"),o=t("../internals/object-define-property"),s=t("../internals/an-object"),u=t("../internals/object-keys");d.exports=n?Object.defineProperties:function(b,y){s(b);for(var c,h=u(y),f=h.length,p=0;p<f;)o.f(b,c=h[p++],y[c]);return b}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,d,a){var n=t("../internals/descriptors"),o=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),u=t("../internals/to-primitive"),b=Object.defineProperty;a.f=n?b:function(y,c,h){if(s(y),c=u(c,!0),s(h),o)try{return b(y,c,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(y[c]=h.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(t,d,a){var n=t("../internals/descriptors"),o=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),u=t("../internals/to-indexed-object"),b=t("../internals/to-primitive"),y=t("../internals/has"),c=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;a.f=n?h:function(f,p){if(f=u(f),p=b(p,!0),c)try{return h(f,p)}catch{}if(y(f,p))return s(!o.f.call(f,p),f[p])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(t,d,a){var n=t("../internals/to-indexed-object"),o=t("../internals/object-get-own-property-names").f,s={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];d.exports.f=function(b){if(!u||s.call(b)!="[object Window]")return o(n(b));try{return o(b)}catch{return u.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(t,d,a){var n=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys").concat("length","prototype");a.f=Object.getOwnPropertyNames||function(s){return n(s,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,d,a){a.f=Object.getOwnPropertySymbols},{}],97:[function(u,d,a){var n=u("../internals/has"),o=u("../internals/to-object"),s=u("../internals/shared-key"),u=u("../internals/correct-prototype-getter"),b=s("IE_PROTO"),y=Object.prototype;d.exports=u?Object.getPrototypeOf:function(c){return c=o(c),n(c,b)?c[b]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(t,d,a){var n=t("../internals/has"),o=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,u=t("../internals/hidden-keys");d.exports=function(b,y){var c,h=o(b),f=0,p=[];for(c in h)!n(u,c)&&n(h,c)&&p.push(c);for(;y.length>f;)!n(h,c=y[f++])||~s(p,c)||p.push(c);return p}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(t,d,a){var n=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys");d.exports=Object.keys||function(s){return n(s,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,d,a){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!n.call({1:2},1);a.f=s?function(u){return u=o(this,u),!!u&&u.enumerable}:n},{}],101:[function(t,d,a){var n=t("../internals/an-object"),o=t("../internals/a-possible-prototype");d.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,u=!1,b={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(b,[]),u=b instanceof Array}catch{}return function(y,c){return n(y),o(c),u?s.call(y,c):y.__proto__=c,y}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,d,a){var n=t("../internals/to-string-tag-support"),o=t("../internals/classof");d.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(t,d,a){var n=t("../internals/get-built-in"),o=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),u=t("../internals/an-object");d.exports=n("Reflect","ownKeys")||function(b){var y=o.f(u(b)),c=s.f;return c?y.concat(c(b)):y}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,d,a){t=t("../internals/global"),d.exports=t},{"../internals/global":59}],105:[function(t,d,a){d.exports=function(n){try{return{error:!1,value:n()}}catch(o){return{error:!0,value:o}}}},{}],106:[function(t,d,a){var n=t("../internals/an-object"),o=t("../internals/is-object"),s=t("../internals/new-promise-capability");d.exports=function(u,b){return n(u),o(b)&&b.constructor===u?b:((0,(u=s.f(u)).resolve)(b),u.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,d,a){var n=t("../internals/redefine");d.exports=function(o,s,u){for(var b in s)n(o,b,s[b],u);return o}},{"../internals/redefine":108}],108:[function(y,d,a){var n=y("../internals/global"),o=y("../internals/create-non-enumerable-property"),s=y("../internals/has"),u=y("../internals/set-global"),b=y("../internals/inspect-source"),y=y("../internals/internal-state"),c=y.get,h=y.enforce,f=String(String).split("String");(d.exports=function(p,m,v,j){var g=!!j&&!!j.unsafe,x=!!j&&!!j.enumerable,j=!!j&&!!j.noTargetGet;typeof v=="function"&&(typeof m!="string"||s(v,"name")||o(v,"name",m),h(v).source=f.join(typeof m=="string"?m:"")),p===n?x?p[m]=v:u(m,v):(g?!j&&p[m]&&(x=!0):delete p[m],x?p[m]=v:o(p,m,v))})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||b(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,d,a){var n=t("./classof-raw"),o=t("./regexp-exec");d.exports=function(s,u){var b=s.exec;if(typeof b=="function"){if(b=b.call(s,u),typeof b!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return b}if(n(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return o.call(s,u)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(u,d,a){var n,o,s=u("./regexp-flags"),u=u("./regexp-sticky-helpers"),b=RegExp.prototype.exec,y=String.prototype.replace,c=b,h=(n=/a/,o=/b*/g,b.call(n,"a"),b.call(o,"a"),n.lastIndex!==0||o.lastIndex!==0),f=u.UNSUPPORTED_Y||u.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0;d.exports=c=h||p||f?function(m){var v,_,g,x,j=this,E=f&&j.sticky,M=s.call(j),T=j.source,O=0,R=m;return E&&((M=M.replace("y","")).indexOf("g")===-1&&(M+="g"),R=String(m).slice(j.lastIndex),0<j.lastIndex&&(!j.multiline||j.multiline&&m[j.lastIndex-1]!==`
`)&&(T="(?: "+T+")",R=" "+R,O++),_=new RegExp("^(?:"+T+")",M)),p&&(_=new RegExp("^"+T+"$(?!\\s)",M)),h&&(v=j.lastIndex),g=b.call(E?_:j,R),E?g?(g.input=g.input.slice(O),g[0]=g[0].slice(O),g.index=j.lastIndex,j.lastIndex+=g[0].length):j.lastIndex=0:h&&g&&(j.lastIndex=j.global?g.index+g[0].length:v),p&&g&&1<g.length&&y.call(g[0],_,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(g[x]=void 0)}),g}:c},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,d,a){var n=t("../internals/an-object");d.exports=function(){var o=n(this),s="";return o.global&&(s+="g"),o.ignoreCase&&(s+="i"),o.multiline&&(s+="m"),o.dotAll&&(s+="s"),o.unicode&&(s+="u"),o.sticky&&(s+="y"),s}},{"../internals/an-object":10}],112:[function(t,d,a){t=t("./fails");function n(o,s){return RegExp(o,s)}a.UNSUPPORTED_Y=t(function(){var o=n("a","y");return o.lastIndex=2,o.exec("abcd")!=null}),a.BROKEN_CARET=t(function(){var o=n("^r","gy");return o.lastIndex=2,o.exec("str")!=null})},{"./fails":51}],113:[function(t,d,a){d.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},{}],114:[function(t,d,a){d.exports=Object.is||function(n,o){return n===o?n!==0||1/n==1/o:n!=n&&o!=o}},{}],115:[function(t,d,a){var n=t("../internals/global"),o=t("../internals/create-non-enumerable-property");d.exports=function(s,u){try{o(n,s,u)}catch{n[s]=u}return u}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,d,a){var n=t("../internals/get-built-in"),o=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),u=t("../internals/descriptors"),b=s("species");d.exports=function(c){var c=n(c),h=o.f;u&&c&&!c[b]&&h(c,b,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(t,d,a){var n=t("../internals/object-define-property").f,o=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");d.exports=function(u,b,y){u&&!o(u=y?u:u.prototype,s)&&n(u,s,{configurable:!0,value:b})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(t,d,a){var n=t("../internals/shared"),o=t("../internals/uid"),s=n("keys");d.exports=function(u){return s[u]||(s[u]=o(u))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(n,d,a){var s=n("../internals/global"),n=n("../internals/set-global"),o="__core-js_shared__",s=s[o]||n(o,{});d.exports=s},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,d,a){var n=t("../internals/is-pure"),o=t("../internals/shared-store");(d.exports=function(s,u){return o[s]||(o[s]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,d,a){var n=t("../internals/an-object"),o=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");d.exports=function(y,b){var y=n(y).constructor;return y===void 0||(y=n(y)[s])==null?b:o(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(t,d,a){var n=t("../internals/fails");d.exports=function(o){return n(function(){var s=""[o]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],123:[function(t,d,a){function n(u){return function(h,f){var c,h=String(s(h)),f=o(f),p=h.length;return f<0||p<=f?u?"":void 0:(c=h.charCodeAt(f))<55296||56319<c||f+1===p||(p=h.charCodeAt(f+1))<56320||57343<p?u?h.charAt(f):c:u?h.slice(f,f+2):p-56320+(c-55296<<10)+65536}}var o=t("../internals/to-integer"),s=t("../internals/require-object-coercible");d.exports={codeAt:n(!1),charAt:n(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(t,d,a){t=t("../internals/engine-user-agent"),d.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],125:[function(t,d,a){function n(y){return function(p,_,v){var p=String(u(p)),m=p.length,v=v===void 0?" ":String(v),_=o(_);return _<=m||v==""?p:((m=s.call(v,b((_=_-m)/v.length))).length>_&&(m=m.slice(0,_)),y?p+m:m+p)}}var o=t("../internals/to-length"),s=t("../internals/string-repeat"),u=t("../internals/require-object-coercible"),b=Math.ceil;d.exports={start:n(!1),end:n(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(t,d,a){function n(g){return g+22+75*(g<26)}function o(g){var x,j=[],E=(g=function($){for(var K=[],N=0,A=$.length;N<A;){var I,z=$.charCodeAt(N++);55296<=z&&z<=56319&&N<A?(64512&(I=$.charCodeAt(N++)))==56320?K.push(((1023&z)<<10)+(1023&I)+65536):(K.push(z),N--):K.push(z)}return K}(g)).length,M=128,T=0,O=72;for(L=0;L<g.length;L++)(x=g[L])<128&&j.push(_(x));var R=j.length,k=R;for(R&&j.push("-");k<E;){for(var D=s,L=0;L<g.length;L++)M<=(x=g[L])&&x<D&&(D=x);var B=k+1;if(D-M>v((s-T)/B))throw RangeError(p);for(T+=(D-M)*B,M=D,L=0;L<g.length;L++){if((x=g[L])<M&&++T>s)throw RangeError(p);if(x==M){for(var F=T,V=u;;V+=u){var q=V<=O?1:O+b<=V?b:V-O;if(F<q)break;var G=F-q,W=u-q;j.push(_(n(q+G%W))),F=v(G/W)}j.push(_(n(F))),O=function($,K,N){var A=0;for($=N?v($/c):$>>1,$+=v($/K);m*b>>1<$;A+=u)$=v($/m);return v(A+(m+1)*$/($+y))}(T,B,k==R),T=0,++k}}++T,++M}return j.join("")}var s=2147483647,u=36,b=26,y=38,c=700,h=/[^\0-\u007E]/,f=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",m=u-1,v=Math.floor,_=String.fromCharCode;d.exports=function(g){for(var x,j=[],E=g.toLowerCase().replace(f,".").split("."),M=0;M<E.length;M++)x=E[M],j.push(h.test(x)?"xn--"+o(x):x);return j.join(".")}},{}],127:[function(t,d,a){var n=t("../internals/to-integer"),o=t("../internals/require-object-coercible");d.exports="".repeat||function(s){var u=String(o(this)),b="",y=n(s);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(u+=u))1&y&&(b+=u);return b}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(t,d,a){var n=t("../internals/fails"),o=t("../internals/whitespaces");d.exports=function(s){return n(function(){return!!o[s]()||""[s]()!=""||o[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(s,d,a){function n(y){return function(c){return c=String(o(c)),1&y&&(c=c.replace(u,"")),c=2&y?c.replace(b,""):c}}var o=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",u=RegExp("^"+s+s+"*"),b=RegExp(s+s+"*$");d.exports={start:n(1),end:n(2),trim:n(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(m,d,a){function n(k){return function(){R(k)}}function o(k){R(k.data)}function s(k){b.postMessage(k+"",v.protocol+"//"+v.host)}var u,b=m("../internals/global"),y=m("../internals/fails"),c=m("../internals/classof-raw"),h=m("../internals/function-bind-context"),f=m("../internals/html"),p=m("../internals/document-create-element"),m=m("../internals/engine-is-ios"),v=b.location,_=b.setImmediate,g=b.clearImmediate,x=b.process,j=b.MessageChannel,E=b.Dispatch,M=0,T={},O="onreadystatechange",R=function(k){var D;T.hasOwnProperty(k)&&(D=T[k],delete T[k],D())};_&&g||(_=function(k){for(var D=[],L=1;L<arguments.length;)D.push(arguments[L++]);return T[++M]=function(){(typeof k=="function"?k:Function(k)).apply(void 0,D)},u(M),M},g=function(k){delete T[k]},c(x)=="process"?u=function(k){x.nextTick(n(k))}:E&&E.now?u=function(k){E.now(n(k))}:j&&!m?(m=(c=new j).port2,c.port1.onmessage=o,u=h(m.postMessage,m,1)):!b.addEventListener||typeof postMessage!="function"||b.importScripts||y(s)||v.protocol==="file:"?u=O in p("script")?function(k){f.appendChild(p("script"))[O]=function(){f.removeChild(this),R(k)}}:function(k){setTimeout(n(k),0)}:(u=s,b.addEventListener("message",o,!1))),d.exports={set:_,clear:g}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(t,d,a){var n=t("../internals/classof-raw");d.exports=function(o){if(typeof o!="number"&&n(o)!="Number")throw TypeError("Incorrect invocation");return+o}},{"../internals/classof-raw":28}],132:[function(t,d,a){var n=t("../internals/to-integer"),o=Math.max,s=Math.min;d.exports=function(u,b){return u=n(u),u<0?o(u+b,0):s(u,b)}},{"../internals/to-integer":135}],133:[function(t,d,a){var n=t("../internals/to-integer"),o=t("../internals/to-length");d.exports=function(u){if(u===void 0)return 0;var u=n(u),b=o(u);if(u!==b)throw RangeError("Wrong length or index");return b}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(t,d,a){var n=t("../internals/indexed-object"),o=t("../internals/require-object-coercible");d.exports=function(s){return n(o(s))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(t,d,a){var n=Math.ceil,o=Math.floor;d.exports=function(s){return isNaN(s=+s)?0:(0<s?o:n)(s)}},{}],136:[function(t,d,a){var n=t("../internals/to-integer"),o=Math.min;d.exports=function(s){return 0<s?o(n(s),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(t,d,a){var n=t("../internals/require-object-coercible");d.exports=function(o){return Object(n(o))}},{"../internals/require-object-coercible":113}],138:[function(t,d,a){var n=t("../internals/to-positive-integer");d.exports=function(o,s){if(o=n(o),o%s)throw RangeError("Wrong offset");return o}},{"../internals/to-positive-integer":139}],139:[function(t,d,a){var n=t("../internals/to-integer");d.exports=function(o){if(o=n(o),o<0)throw RangeError("The argument can't be less than 0");return o}},{"../internals/to-integer":135}],140:[function(t,d,a){var n=t("../internals/is-object");d.exports=function(o,s){if(!n(o))return o;var u,b;if(s&&typeof(u=o.toString)=="function"&&!n(b=u.call(o))||typeof(u=o.valueOf)=="function"&&!n(b=u.call(o))||!s&&typeof(u=o.toString)=="function"&&!n(b=u.call(o)))return b;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(t,d,a){var n={};n[t("../internals/well-known-symbol")("toStringTag")]="z",d.exports=String(n)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(t,d,a){function n(ye,ve){for(var Me=0,Fe=ve.length,Ce=new(re(ye))(Fe);Me<Fe;)Ce[Me]=ve[Me++];return Ce}function o(ye,ve){I(ye,ve,{get:function(){return N(this)[ve]}})}function s(ye){return ye instanceof ee||(ye=R(ye))=="ArrayBuffer"||ye=="SharedArrayBuffer"}function u(ye,ve){return le(ye)&&typeof ve!="symbol"&&ve in ye&&String(+ve)==String(ve)}function b(ye,ve){return u(ye,ve=T(ve,!0))?g(2,ye[ve]):z(ye,ve)}function y(ye,ve,Me){return!(u(ye,ve=T(ve,!0))&&k(Me)&&O(Me,"value"))||O(Me,"get")||O(Me,"set")||Me.configurable||O(Me,"writable")&&!Me.writable||O(Me,"enumerable")&&!Me.enumerable?I(ye,ve,Me):(ye[ve]=Me.value,ye)}var c=t("../internals/export"),h=t("../internals/global"),f=t("../internals/descriptors"),p=t("../internals/typed-array-constructors-require-wrappers"),m=t("../internals/array-buffer-view-core"),v=t("../internals/array-buffer"),_=t("../internals/an-instance"),g=t("../internals/create-property-descriptor"),x=t("../internals/create-non-enumerable-property"),j=t("../internals/to-length"),E=t("../internals/to-index"),M=t("../internals/to-offset"),T=t("../internals/to-primitive"),O=t("../internals/has"),R=t("../internals/classof"),k=t("../internals/is-object"),D=t("../internals/object-create"),L=t("../internals/object-set-prototype-of"),B=t("../internals/object-get-own-property-names").f,F=t("../internals/typed-array-from"),V=t("../internals/array-iteration").forEach,q=t("../internals/set-species"),G=t("../internals/object-define-property"),W=t("../internals/object-get-own-property-descriptor"),$=t("../internals/internal-state"),K=t("../internals/inherit-if-required"),N=$.get,A=$.set,I=G.f,z=W.f,Y=Math.round,J=h.RangeError,ee=v.ArrayBuffer,ce=v.DataView,pe=m.NATIVE_ARRAY_BUFFER_VIEWS,ie=m.TYPED_ARRAY_TAG,de=m.TypedArray,ue=m.TypedArrayPrototype,re=m.aTypedArrayConstructor,le=m.isTypedArray,me="BYTES_PER_ELEMENT",je="Wrong length";f?(pe||(W.f=b,G.f=y,o(ue,"buffer"),o(ue,"byteOffset"),o(ue,"byteLength"),o(ue,"length")),c({target:"Object",stat:!0,forced:!pe},{getOwnPropertyDescriptor:b,defineProperty:y}),d.exports=function(_e,ve,Me){function Fe(Se,Q){I(Se,Q,{get:function(){var ne=this,Z=Q;return(ne=N(ne)).view[Ve](Z*Ce+ne.byteOffset,!0)},set:function(ne){var Z=this,se=Q;Z=N(Z),Me&&(ne=(ne=Y(ne))<0?0:255<ne?255:255&ne),Z.view[ze](se*Ce+Z.byteOffset,ne,!0)},enumerable:!0})}var Ce=_e.match(/\d+$/)[0]/8,$e=_e+(Me?"Clamped":"")+"Array",Ve="get"+_e,ze="set"+_e,qe=h[$e],He=qe,_e=He&&He.prototype,Ae={};pe?p&&(He=ve(function(Se,Q,ne,Z){return _(Se,He,$e),K(k(Q)?s(Q)?Z!==void 0?new qe(Q,M(ne,Ce),Z):ne!==void 0?new qe(Q,M(ne,Ce)):new qe(Q):le(Q)?n(He,Q):F.call(He,Q):new qe(E(Q)),Se,He)}),L&&L(He,de),V(B(qe),function(Se){Se in He||x(He,Se,qe[Se])}),He.prototype=_e):(He=ve(function(Se,Q,ne,Z){_(Se,He,$e);var se,ge,we=0,Pe=0;if(k(Q)){if(!s(Q))return le(Q)?n(He,Q):F.call(He,Q);var Ne=Q,Pe=M(ne,Ce),ne=Q.byteLength;if(Z===void 0){if(ne%Ce||(se=ne-Pe)<0)throw J(je)}else if(ne<(se=j(Z)*Ce)+Pe)throw J(je);ge=se/Ce}else ge=E(Q),Ne=new ee(se=ge*Ce);for(A(Se,{buffer:Ne,byteOffset:Pe,byteLength:se,length:ge,view:new ce(Ne)});we<ge;)Fe(Se,we++)}),L&&L(He,de),_e=He.prototype=D(ue)),_e.constructor!==He&&x(_e,"constructor",He),ie&&x(_e,ie,$e),Ae[$e]=He,c({global:!0,forced:He!=qe,sham:!pe},Ae),me in He||x(He,me,Ce),me in _e||x(_e,me,Ce),q($e)}):d.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(u,d,a){var n=u("../internals/global"),o=u("../internals/fails"),s=u("../internals/check-correctness-of-iteration"),u=u("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,b=n.ArrayBuffer,y=n.Int8Array;d.exports=!u||!o(function(){y(1)})||!o(function(){new y(-1)})||!s(function(c){new y,new y(null),new y(1.5),new y(c)},!0)||o(function(){return new y(new b(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(t,d,a){var n=t("../internals/to-object"),o=t("../internals/to-length"),s=t("../internals/get-iterator-method"),u=t("../internals/is-array-iterator-method"),b=t("../internals/function-bind-context"),y=t("../internals/array-buffer-view-core").aTypedArrayConstructor;d.exports=function(c){var h,f,p,m,v,_,g=n(c),x=arguments.length,j=1<x?arguments[1]:void 0,E=j!==void 0,M=s(g);if(M!=null&&!u(M))for(_=(v=M.call(g)).next,g=[];!(m=_.call(v)).done;)g.push(m.value);for(E&&2<x&&(j=b(j,arguments[2],2)),f=o(g.length),p=new(y(this))(f),h=0;h<f;h++)p[h]=E?j(g[h],h):g[h];return p}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(t,d,a){var n=0,o=Math.random();d.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++n+o).toString(36)}},{}],146:[function(t,d,a){t=t("../internals/native-symbol"),d.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(t,d,a){t=t("../internals/well-known-symbol"),a.f=t},{"../internals/well-known-symbol":148}],148:[function(y,d,a){var n=y("../internals/global"),o=y("../internals/shared"),s=y("../internals/has"),u=y("../internals/uid"),b=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),c=o("wks"),h=n.Symbol,f=y?h:h&&h.withoutSetter||u;d.exports=function(p){return s(c,p)||(b&&s(h,p)?c[p]=h[p]:c[p]=f("Symbol."+p)),c[p]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(t,d,a){d.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],150:[function(s,d,a){var n=s("../internals/export"),o=s("../internals/global"),b=s("../internals/array-buffer"),s=s("../internals/set-species"),u="ArrayBuffer",b=b[u];n({global:!0,forced:o[u]!==b},{ArrayBuffer:b}),s(u)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(g,d,a){var n=g("../internals/export"),o=g("../internals/fails"),s=g("../internals/is-array"),u=g("../internals/is-object"),b=g("../internals/to-object"),y=g("../internals/to-length"),c=g("../internals/create-property"),h=g("../internals/array-species-create"),f=g("../internals/array-method-has-species-support"),_=g("../internals/well-known-symbol"),g=g("../internals/engine-v8-version"),p=_("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",_=51<=g||!o(function(){var x=[];return x[p]=!1,x.concat()[0]!==x}),g=f("concat");n({target:"Array",proto:!0,forced:!_||!g},{concat:function(x){for(var j,E,M,T,O,R=b(this),k=h(R,0),D=0,L=-1,B=arguments.length;L<B;L++)if(O=void 0,!u(T=M=L===-1?R:arguments[L])||((O=T[p])!==void 0?!O:!s(T))){if(m<=D)throw TypeError(v);c(k,D++,M)}else{if(E=y(M.length),m<D+E)throw TypeError(v);for(j=0;j<E;j++,D++)j in M&&c(k,D,M[j])}return k.length=D,k}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(s,d,a){var n=s("../internals/export"),o=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");n({target:"Array",proto:!0},{copyWithin:o}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(u,d,a){var n=u("../internals/export"),o=u("../internals/array-iteration").every,s=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),s=s("every"),u=u("every");n({target:"Array",proto:!0,forced:!s||!u},{every:function(b){return o(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(s,d,a){var n=s("../internals/export"),o=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");n({target:"Array",proto:!0},{fill:o}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(u,d,a){var n=u("../internals/export"),o=u("../internals/array-iteration").filter,s=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),s=s("filter"),u=u("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(b){return o(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(y,d,a){var n=y("../internals/export"),o=y("../internals/array-iteration").findIndex,s=y("../internals/add-to-unscopables"),y=y("../internals/array-method-uses-to-length"),u="findIndex",b=!0,y=y(u);u in[]&&Array(1)[u](function(){b=!1}),n({target:"Array",proto:!0,forced:b||!y},{findIndex:function(c){return o(this,c,1<arguments.length?arguments[1]:void 0)}}),s(u)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(o,d,a){var n=o("../internals/export"),o=o("../internals/array-for-each");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},{"../internals/array-for-each":16,"../internals/export":50}],158:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/array-from");n({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:o})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],159:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");n({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(u){return o(this,u,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(y,d,a){var n=y("../internals/export"),o=y("../internals/array-includes").indexOf,b=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,b=b("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!b||!y},{indexOf:function(c){return u?s.apply(this,arguments)||0:o(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],161:[function(b,d,a){var n=b("../internals/to-indexed-object"),o=b("../internals/add-to-unscopables"),s=b("../internals/iterators"),u=b("../internals/internal-state"),b=b("../internals/define-iterator"),y="Array Iterator",c=u.set,h=u.getterFor(y);d.exports=b(Array,"Array",function(f,p){c(this,{type:y,target:n(f),index:0,kind:p})},function(){var f=h(this),p=f.target,m=f.kind,v=f.index++;return!p||v>=p.length?{value:f.target=void 0,done:!0}:m=="keys"?{value:v,done:!1}:m=="values"?{value:p[v],done:!1}:{value:[v,p[v]],done:!1}},"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],162:[function(b,d,a){var n=b("../internals/export"),u=b("../internals/indexed-object"),o=b("../internals/to-indexed-object"),b=b("../internals/array-method-is-strict"),s=[].join,u=u!=Object,b=b("join",",");n({target:"Array",proto:!0,forced:u||!b},{join:function(y){return s.call(o(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],163:[function(o,d,a){var n=o("../internals/export"),o=o("../internals/array-last-index-of");n({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},{"../internals/array-last-index-of":20,"../internals/export":50}],164:[function(u,d,a){var n=u("../internals/export"),o=u("../internals/array-iteration").map,s=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),s=s("map"),u=u("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(b){return o(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(p,d,a){var n=p("../internals/export"),o=p("../internals/is-object"),s=p("../internals/is-array"),u=p("../internals/to-absolute-index"),b=p("../internals/to-length"),y=p("../internals/to-indexed-object"),c=p("../internals/create-property"),h=p("../internals/well-known-symbol"),f=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),f=f("slice"),p=p("slice",{ACCESSORS:!0,0:0,1:2}),m=h("species"),v=[].slice,_=Math.max;n({target:"Array",proto:!0,forced:!f||!p},{slice:function(g,x){var j,E,M,T=y(this),O=b(T.length),R=u(g,O),k=u(x===void 0?O:x,O);if(s(T)&&((j=typeof(j=T.constructor)=="function"&&(j===Array||s(j.prototype))||o(j)&&(j=j[m])===null?void 0:j)===Array||j===void 0))return v.call(T,R,k);for(E=new(j===void 0?Array:j)(_(k-R,0)),M=0;R<k;R++,M++)R in T&&c(E,M,T[R]);return E.length=M,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],166:[function(u,d,a){var n=u("../internals/export"),o=u("../internals/array-iteration").some,s=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),s=s("some"),u=u("some");n({target:"Array",proto:!0,forced:!s||!u},{some:function(b){return o(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],167:[function(f,d,a){var n=f("../internals/export"),o=f("../internals/to-absolute-index"),s=f("../internals/to-integer"),u=f("../internals/to-length"),b=f("../internals/to-object"),y=f("../internals/array-species-create"),c=f("../internals/create-property"),h=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),h=h("splice"),f=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min;n({target:"Array",proto:!0,forced:!h||!f},{splice:function(D,_){var g,x,j,E,M,T,O=b(this),R=u(O.length),k=o(D,R),D=arguments.length;if(D===0?g=x=0:x=D===1?(g=0,R-k):(g=D-2,m(p(s(_),0),R-k)),9007199254740991<R+g-x)throw TypeError("Maximum allowed length exceeded");for(j=y(O,x),E=0;E<x;E++)(M=k+E)in O&&c(j,E,O[M]);if(g<(j.length=x)){for(E=k;E<R-x;E++)T=E+g,(M=E+x)in O?O[T]=O[M]:delete O[T];for(E=R;R-x+g<E;E--)delete O[E-1]}else if(x<g)for(E=R-x;k<E;E--)T=E+g-1,(M=E+x-1)in O?O[T]=O[M]:delete O[T];for(E=0;E<g;E++)O[E+k]=arguments[E+2];return O.length=R-x+g,j}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],168:[function(o,d,a){var n=o("../internals/descriptors"),o=o("../internals/object-define-property").f,s=Function.prototype,u=s.toString,b=/^\s*function ([^ (]*)/;!n||"name"in s||o(s,"name",{configurable:!0,get:function(){try{return u.call(this).match(b)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],169:[function(o,d,a){var n=o("../internals/collection"),o=o("../internals/collection-strong");d.exports=n("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},o)},{"../internals/collection":32,"../internals/collection-strong":30}],170:[function(n,d,a){var n=n("../internals/export"),o=Math.hypot,s=Math.abs,u=Math.sqrt;n({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(b,y){for(var c,h,f=0,p=0,m=arguments.length,v=0;p<m;)v<(c=s(arguments[p++]))?(f=f*(h=v/c)*h+1,v=c):f+=0<c?(h=c/v)*h:c;return v===1/0?1/0:v*u(f)}})},{"../internals/export":50}],171:[function(n,d,a){var n=n("../internals/export"),o=Math.log,s=Math.LN2;n({target:"Math",stat:!0},{log2:function(u){return o(u)/s}})},{"../internals/export":50}],172:[function(t,d,a){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],173:[function(t,d,a){function n(L){var B,F,V,q,G,W,$,K=f(L,!1);if(typeof K=="string"&&2<K.length){if((L=(K=x(K)).charCodeAt(0))===43||L===45){if((B=K.charCodeAt(2))===88||B===120)return NaN}else if(L===48){switch(K.charCodeAt(1)){case 66:case 98:F=2,V=49;break;case 79:case 111:F=8,V=55;break;default:return+K}for(G=(q=K.slice(2)).length,W=0;W<G;W++)if(($=q.charCodeAt(W))<48||V<$)return NaN;return parseInt(q,F)}}return+K}var o=t("../internals/descriptors"),s=t("../internals/global"),u=t("../internals/is-forced"),b=t("../internals/redefine"),y=t("../internals/has"),c=t("../internals/classof-raw"),h=t("../internals/inherit-if-required"),f=t("../internals/to-primitive"),p=t("../internals/fails"),m=t("../internals/object-create"),v=t("../internals/object-get-own-property-names").f,_=t("../internals/object-get-own-property-descriptor").f,g=t("../internals/object-define-property").f,x=t("../internals/string-trim").trim,j="Number",E=s[j],M=E.prototype,T=c(m(M))==j;if(u(j,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var O,R=function(B){var B=arguments.length<1?0:B,F=this;return F instanceof R&&(T?p(function(){M.valueOf.call(F)}):c(F)!=j)?h(new E(n(B)),F,R):n(B)},k=o?v(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;k.length>D;D++)y(E,O=k[D])&&!y(R,O)&&g(R,O,_(E,O));(R.prototype=M).constructor=R,b(s,j,R)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],174:[function(t,d,a){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],175:[function(y,d,a){function n(f,p,m){return p===0?m:p%2==1?n(f,p-1,m*f):n(f*f,p/2,m)}var o=y("../internals/export"),s=y("../internals/to-integer"),u=y("../internals/this-number-value"),b=y("../internals/string-repeat"),y=y("../internals/fails"),c=1 .toFixed,h=Math.floor;o({target:"Number",proto:!0,forced:c&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!y(function(){c.call({})})},{toFixed:function(j){function p(O,R){for(var k=-1,D=R;++k<6;)D+=O*E[k],E[k]=D%1e7,D=h(D/1e7)}function m(O){for(var R=6,k=0;0<=--R;)k+=E[R],E[R]=h(k/O),k=k%O*1e7}function v(){for(var O,R=6,k="";0<=--R;)k===""&&R!==0&&E[R]===0||(O=String(E[R]),k=k===""?O:k+b.call("0",7-O.length)+O);return k}var _,g,x=u(this),j=s(j),E=[0,0,0,0,0,0],M="",T="0";if(j<0||20<j)throw RangeError("Incorrect fraction digits");if(x!=x)return"NaN";if(x<=-1e21||1e21<=x)return String(x);if(x<0&&(M="-",x=-x),1e-21<x)if(x=(_=function(O){for(var R=0,k=O;4096<=k;)R+=12,k/=4096;for(;2<=k;)R+=1,k/=2;return R}(x*n(2,69,1))-69)<0?x*n(2,-_,1):x/n(2,_,1),x*=4503599627370496,0<(_=52-_)){for(p(0,x),g=j;7<=g;)p(1e7,0),g-=7;for(p(n(10,g,1),0),g=_-1;23<=g;)m(1<<23),g-=23;m(1<<g),p(1,1),m(2),T=v()}else p(0,x),p(1<<-_,0),T=v()+b.call("0",j);return T=0<j?M+((x=T.length)<=j?"0."+b.call("0",j-x)+T:T.slice(0,x-j)+"."+T.slice(x-j)):M+T}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],176:[function(o,d,a){var n=o("../internals/export"),o=o("../internals/object-assign");n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},{"../internals/export":50,"../internals/object-assign":89}],177:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/iterate"),s=t("../internals/create-property");n({target:"Object",stat:!0},{fromEntries:function(u){var b={};return o(u,function(y,c){s(b,y,c)},void 0,!0),b}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],178:[function(u,d,a){var n=u("../internals/export"),b=u("../internals/fails"),o=u("../internals/to-indexed-object"),s=u("../internals/object-get-own-property-descriptor").f,u=u("../internals/descriptors"),b=b(function(){s(1)});n({target:"Object",stat:!0,forced:!u||b,sham:!u},{getOwnPropertyDescriptor:function(y,c){return s(o(y),c)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],179:[function(s,d,a){var n=s("../internals/export"),o=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;n({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],180:[function(b,d,a){var n=b("../internals/export"),o=b("../internals/fails"),s=b("../internals/to-object"),u=b("../internals/object-get-prototype-of"),b=b("../internals/correct-prototype-getter");n({target:"Object",stat:!0,forced:o(function(){u(1)}),sham:!b},{getPrototypeOf:function(y){return u(s(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],181:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/to-object"),s=t("../internals/object-keys");n({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(u){return s(o(u))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],182:[function(s,d,a){var n=s("../internals/to-string-tag-support"),o=s("../internals/redefine"),s=s("../internals/object-to-string");n||o(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],183:[function(Me,d,a){var n,o,s,u,b=Me("../internals/export"),y=Me("../internals/is-pure"),c=Me("../internals/global"),h=Me("../internals/get-built-in"),f=Me("../internals/native-promise-constructor"),p=Me("../internals/redefine"),m=Me("../internals/redefine-all"),v=Me("../internals/set-to-string-tag"),_=Me("../internals/set-species"),g=Me("../internals/is-object"),x=Me("../internals/a-function"),j=Me("../internals/an-instance"),E=Me("../internals/classof-raw"),M=Me("../internals/inspect-source"),T=Me("../internals/iterate"),O=Me("../internals/check-correctness-of-iteration"),R=Me("../internals/species-constructor"),k=Me("../internals/task").set,D=Me("../internals/microtask"),L=Me("../internals/promise-resolve"),B=Me("../internals/host-report-errors"),F=Me("../internals/new-promise-capability"),V=Me("../internals/perform"),q=Me("../internals/internal-state"),G=Me("../internals/is-forced"),Fe=Me("../internals/well-known-symbol"),W=Me("../internals/engine-v8-version"),$=Fe("species"),K="Promise",N=q.get,A=q.set,I=q.getterFor(K),z=f,Y=c.TypeError,J=c.document,ee=c.process,ce=h("fetch"),pe=F.f,ie=pe,de=E(ee)=="process",ue=!!(J&&J.createEvent&&c.dispatchEvent),re="unhandledrejection",le="rejectionhandled",me=1,je=2,ye=1,ve=2,Me=G(K,function(){var Ae,Se;return M(z)===String(z)&&(W===66||!de&&typeof PromiseRejectionEvent!="function")?!0:!(!y||z.prototype.finally)||!(51<=W&&/native code/.test(z))&&(Se=function(Q){Q(function(){},function(){})},((Ae=z.resolve(1)).constructor={})[$]=Se,!(Ae.then(function(){})instanceof Se))}),Fe=Me||!O(function(Ae){z.all(Ae).catch(function(){})}),Ce=function(Ae){var Se;return!(!g(Ae)||typeof(Se=Ae.then)!="function")&&Se},$e=function(Ae,Se,Q){var ne;Se.notified||(Se.notified=!0,ne=Se.reactions,D(function(){for(var Z,se,ge=Se.value,we=Se.state==me,Pe=0;ne.length>Pe;){var Ne,Ue,Ge,Xe=ne[Pe++],ot=we?Xe.ok:Xe.fail,nt=Xe.resolve,Ke=Xe.reject,st=Xe.domain;try{ot?(we||(Se.rejection===ve&&function(rt,xt){k.call(c,function(){de?ee.emit("rejectionHandled",rt):Ve(le,rt,xt.value)})}(Ae,Se),Se.rejection=ye),ot===!0?Ne=ge:(st&&st.enter(),Ne=ot(ge),st&&(st.exit(),Ge=!0)),Ne===Xe.promise?Ke(Y("Promise-chain cycle")):(Ue=Ce(Ne))?Ue.call(Ne,nt,Ke):nt(Ne)):Ke(ge)}catch(rt){st&&!Ge&&st.exit(),Ke(rt)}}Se.reactions=[],Se.notified=!1,Q&&!Se.rejection&&(Z=Ae,se=Se,k.call(c,function(){var rt=se.value,xt=ze(se);if(xt&&(xt=V(function(){de?ee.emit("unhandledRejection",rt,Z):Ve(re,Z,rt)}),se.rejection=de||ze(se)?ve:ye,xt.error))throw xt.value}))}))},Ve=function(Ae,Se,Q){var ne;ue?((ne=J.createEvent("Event")).promise=Se,ne.reason=Q,ne.initEvent(Ae,!1,!0),c.dispatchEvent(ne)):ne={promise:Se,reason:Q},(Se=c["on"+Ae])?Se(ne):Ae===re&&B("Unhandled promise rejection",Q)},ze=function(Ae){return Ae.rejection!==ye&&!Ae.parent},qe=function(Ae,Se,Q,ne){return function(Z){Ae(Se,Q,Z,ne)}},He=function(Ae,Se,Q,ne){Se.done||(Se.done=!0,(Se=ne||Se).value=Q,Se.state=je,$e(Ae,Se,!0))},_e=function(Ae,Se,Q,ne){if(!Se.done){Se.done=!0,ne&&(Se=ne);try{if(Ae===Q)throw Y("Promise can't be resolved itself");var Z=Ce(Q);Z?D(function(){var se={done:!1};try{Z.call(Q,qe(_e,Ae,se,Se),qe(He,Ae,se,Se))}catch(ge){He(Ae,se,ge,Se)}}):(Se.value=Q,Se.state=me,$e(Ae,Se,!1))}catch(se){He(Ae,{done:!1},se,Se)}}};Me&&(z=function(Ae){j(this,z,K),x(Ae),n.call(this);var Se=N(this);try{Ae(qe(_e,this,Se),qe(He,this,Se))}catch(Q){He(this,Se,Q)}},(n=function(Ae){A(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=m(z.prototype,{then:function(Ae,Se){var Q=I(this),ne=pe(R(this,z));return ne.ok=typeof Ae!="function"||Ae,ne.fail=typeof Se=="function"&&Se,ne.domain=de?ee.domain:void 0,Q.parent=!0,Q.reactions.push(ne),Q.state!=0&&$e(this,Q,!1),ne.promise},catch:function(Ae){return this.then(void 0,Ae)}}),o=function(){var Ae=new n,Se=N(Ae);this.promise=Ae,this.resolve=qe(_e,Ae,Se),this.reject=qe(He,Ae,Se)},F.f=pe=function(Ae){return Ae===z||Ae===s?new o:ie(Ae)},y||typeof f!="function"||(u=f.prototype.then,p(f.prototype,"then",function(Ae,Se){var Q=this;return new z(function(ne,Z){u.call(Q,ne,Z)}).then(Ae,Se)},{unsafe:!0}),typeof ce=="function"&&b({global:!0,enumerable:!0,forced:!0},{fetch:function(Ae){return L(z,ce.apply(c,arguments))}}))),b({global:!0,wrap:!0,forced:Me},{Promise:z}),v(z,K,!1,!0),_(K),s=h(K),b({target:K,stat:!0,forced:Me},{reject:function(Ae){var Se=pe(this);return Se.reject.call(void 0,Ae),Se.promise}}),b({target:K,stat:!0,forced:y||Me},{resolve:function(Ae){return L(y&&this===s?z:this,Ae)}}),b({target:K,stat:!0,forced:Fe},{all:function(Ae){var Se=this,Q=pe(Se),ne=Q.resolve,Z=Q.reject,se=V(function(){var ge=x(Se.resolve),we=[],Pe=0,Ne=1;T(Ae,function(Ue){var Ge=Pe++,Xe=!1;we.push(void 0),Ne++,ge.call(Se,Ue).then(function(ot){Xe||(Xe=!0,we[Ge]=ot,--Ne||ne(we))},Z)}),--Ne||ne(we)});return se.error&&Z(se.value),Q.promise},race:function(Ae){var Se=this,Q=pe(Se),ne=Q.reject,Z=V(function(){var se=x(Se.resolve);T(Ae,function(ge){se.call(Se,ge).then(Q.resolve,ne)})});return Z.error&&ne(Z.value),Q.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],184:[function(c,d,a){var n=c("../internals/export"),m=c("../internals/get-built-in"),o=c("../internals/a-function"),s=c("../internals/an-object"),u=c("../internals/is-object"),b=c("../internals/object-create"),y=c("../internals/function-bind"),c=c("../internals/fails"),h=m("Reflect","construct"),f=c(function(){function v(){}return!(h(function(){},[],v)instanceof v)}),p=!c(function(){h(function(){})}),m=f||p;n({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(v,_){o(v),s(_);var g=arguments.length<3?v:o(arguments[2]);if(p&&!f)return h(v,_,g);if(v==g){switch(_.length){case 0:return new v;case 1:return new v(_[0]);case 2:return new v(_[0],_[1]);case 3:return new v(_[0],_[1],_[2]);case 4:return new v(_[0],_[1],_[2],_[3])}var x=[null];return x.push.apply(x,_),new(y.apply(v,x))}return x=g.prototype,g=b(u(x)?x:Object.prototype),x=Function.apply.call(v,g,_),u(x)?x:g}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],185:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/is-object"),s=t("../internals/an-object"),u=t("../internals/has"),b=t("../internals/object-get-own-property-descriptor"),y=t("../internals/object-get-prototype-of");n({target:"Reflect",stat:!0},{get:function c(h,f){var p,m=arguments.length<3?h:arguments[2];return s(h)===m?h[f]:(p=b.f(h,f))?u(p,"value")?p.value:p.get===void 0?void 0:p.get.call(m):o(p=y(h))?c(p,f,m):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],186:[function(t,d,a){var n=t("../internals/descriptors"),o=t("../internals/global"),s=t("../internals/is-forced"),u=t("../internals/inherit-if-required"),b=t("../internals/object-define-property").f,y=t("../internals/object-get-own-property-names").f,c=t("../internals/is-regexp"),h=t("../internals/regexp-flags"),f=t("../internals/regexp-sticky-helpers"),p=t("../internals/redefine"),m=t("../internals/fails"),v=t("../internals/internal-state").set,_=t("../internals/set-species"),g=t("../internals/well-known-symbol")("match"),x=o.RegExp,j=x.prototype,E=/a/g,M=/a/g,T=new x(E)!==E,O=f.UNSUPPORTED_Y;if(n&&s("RegExp",!T||O||m(function(){return M[g]=!1,x(E)!=E||x(M)==M||x(E,"i")!="/a/i"}))){for(var R=function(L,B){var F,V=this instanceof R,q=c(L),G=B===void 0;return!V&&q&&L.constructor===R&&G?L:(T?q&&!G&&(L=L.source):L instanceof R&&(G&&(B=h.call(L)),L=L.source),O&&(F=!!B&&-1<B.indexOf("y"))&&(B=B.replace(/y/g,"")),q=u(T?new x(L,B):x(L,B),V?this:j,R),O&&F&&v(q,{sticky:F}),q)},k=y(x),D=0;k.length>D;)(function(L){L in R||b(R,L,{configurable:!0,get:function(){return x[L]},set:function(B){x[L]=B}})})(k[D++]);(j.constructor=R).prototype=j,p(o,"RegExp",R)}_("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],187:[function(o,d,a){var n=o("../internals/export"),o=o("../internals/regexp-exec");n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},{"../internals/export":50,"../internals/regexp-exec":110}],188:[function(u,d,a){var n=u("../internals/redefine"),o=u("../internals/an-object"),c=u("../internals/fails"),s=u("../internals/regexp-flags"),u="toString",b=RegExp.prototype,y=b[u],c=c(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),h=y.name!=u;(c||h)&&n(RegExp.prototype,u,function(){var f=o(this),p=String(f.source),m=f.flags;return"/"+p+"/"+String(m===void 0&&f instanceof RegExp&&!("flags"in b)?s.call(f):m)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],189:[function(o,d,a){var n=o("../internals/collection"),o=o("../internals/collection-strong");d.exports=n("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},o)},{"../internals/collection":32,"../internals/collection-strong":30}],190:[function(y,d,a){var n=y("../internals/export"),o=y("../internals/object-get-own-property-descriptor").f,s=y("../internals/to-length"),u=y("../internals/not-a-regexp"),b=y("../internals/require-object-coercible"),f=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),c="".endsWith,h=Math.min,f=f("endsWith");n({target:"String",proto:!0,forced:!!(y||f||!(n=o(String.prototype,"endsWith"))||n.writable)&&!f},{endsWith:function(p){var m=String(b(this)),v=(u(p),1<arguments.length?arguments[1]:void 0),_=s(m.length),v=v===void 0?_:h(s(v),_),_=String(p);return c?c.call(m,_,v):m.slice(v-_.length,v)===_}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],191:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");n({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(u){return!!~String(s(this)).indexOf(o(u),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],192:[function(s,d,a){var n=s("../internals/string-multibyte").charAt,o=s("../internals/internal-state"),s=s("../internals/define-iterator"),u="String Iterator",b=o.set,y=o.getterFor(u);s(String,"String",function(c){b(this,{type:u,string:String(c),index:0})},function(){var c=y(this),h=c.string,f=c.index;return f>=h.length?{value:void 0,done:!0}:(h=n(h,f),c.index+=h.length,{value:h,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],193:[function(t,d,a){var n=t("../internals/fix-regexp-well-known-symbol-logic"),o=t("../internals/an-object"),s=t("../internals/to-length"),u=t("../internals/require-object-coercible"),b=t("../internals/advance-string-index"),y=t("../internals/regexp-exec-abstract");n("match",1,function(c,h,f){return[function(p){var m=u(this),v=p?.[c];return v!==void 0?v.call(p,m):new RegExp(p)[c](String(m))},function(p){var m=f(h,p,this);if(m.done)return m.value;var v=o(p),_=String(this);if(!v.global)return y(v,_);for(var g=v.unicode,x=[],j=v.lastIndex=0;(E=y(v,_))!==null;){var E=String(E[0]);(x[j]=E)===""&&(v.lastIndex=b(_,s(v.lastIndex),g)),j++}return j===0?null:x}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],194:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/string-pad").start;n({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(s){return o(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],195:[function(t,d,a){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],196:[function(t,d,a){var n=t("../internals/fix-regexp-well-known-symbol-logic"),o=t("../internals/an-object"),s=t("../internals/to-object"),u=t("../internals/to-length"),b=t("../internals/to-integer"),y=t("../internals/require-object-coercible"),c=t("../internals/advance-string-index"),h=t("../internals/regexp-exec-abstract"),f=Math.max,p=Math.min,m=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g;n("replace",2,function(g,x,j,E){var M=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=E.REPLACE_KEEPS_$0,O=M?"$":"$0";return[function(R,k){var D=y(this),L=R?.[g];return L!==void 0?L.call(R,D,k):x.call(String(D),R,k)},function(R,k){if(!M&&T||typeof k=="string"&&k.indexOf(O)===-1){var D=j(x,R,this,k);if(D.done)return D.value}for(var L,B=o(R),F=String(this),V=typeof k=="function",q=(V||(k=String(k)),B.global),G=(q&&(L=B.unicode,B.lastIndex=0),[]);(A=h(B,F))!==null&&(G.push(A),q);)String(A[0])===""&&(B.lastIndex=c(F,u(B.lastIndex),L));for(var W,$="",K=0,N=0;N<G.length;N++){for(var A=G[N],I=String(A[0]),z=f(p(b(A.index),F.length),0),Y=[],J=1;J<A.length;J++)Y.push((W=A[J])===void 0?W:String(W));var ee=A.groups,ce=V?(ce=[I].concat(Y,z,F),ee!==void 0&&ce.push(ee),String(k.apply(void 0,ce))):function(pe,ie,de,ue,re,le){var me=de+pe.length,je=ue.length,ye=_;return re!==void 0&&(re=s(re),ye=v),x.call(le,ye,function(ve,Me){var Fe;switch(Me.charAt(0)){case"$":return"$";case"&":return pe;case"`":return ie.slice(0,de);case"'":return ie.slice(me);case"<":Fe=re[Me.slice(1,-1)];break;default:var Ce,$e=+Me;if($e==0)return ve;if(je<$e)return(Ce=m($e/10))!==0&&Ce<=je?ue[Ce-1]===void 0?Me.charAt(1):ue[Ce-1]+Me.charAt(1):ve;Fe=ue[$e-1]}return Fe===void 0?"":Fe})}(I,F,z,Y,ee,k);K<=z&&($+=F.slice(K,z)+ce,K=z+I.length)}return $+F.slice(K)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],197:[function(t,d,a){var n=t("../internals/fix-regexp-well-known-symbol-logic"),o=t("../internals/an-object"),s=t("../internals/require-object-coercible"),u=t("../internals/same-value"),b=t("../internals/regexp-exec-abstract");n("search",1,function(y,c,h){return[function(f){var p=s(this),m=f?.[y];return m!==void 0?m.call(f,p):new RegExp(f)[y](String(p))},function(f){var p,m=h(c,f,this);return m.done?m.value:(m=o(f),f=String(this),p=m.lastIndex,u(p,0)||(m.lastIndex=0),f=b(m,f),u(m.lastIndex,p)||(m.lastIndex=p),f===null?-1:f.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],198:[function(p,d,a){var n=p("../internals/fix-regexp-well-known-symbol-logic"),o=p("../internals/is-regexp"),s=p("../internals/an-object"),u=p("../internals/require-object-coercible"),b=p("../internals/species-constructor"),y=p("../internals/advance-string-index"),c=p("../internals/to-length"),h=p("../internals/regexp-exec-abstract"),f=p("../internals/regexp-exec"),p=p("../internals/fails"),m=[].push,v=Math.min,_=4294967295,g=!p(function(){return!RegExp(_,"y")});n("split",2,function(x,j,E){var M="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(T,O){var R=String(u(this)),k=O===void 0?_:O>>>0;if(k==0)return[];if(T===void 0)return[R];if(!o(T))return j.call(R,T,k);for(var D,L,B,F=[],O=(T.ignoreCase?"i":"")+(T.multiline?"m":"")+(T.unicode?"u":"")+(T.sticky?"y":""),V=0,q=new RegExp(T.source,O+"g");(D=f.call(q,R))&&!(V<(L=q.lastIndex)&&(F.push(R.slice(V,D.index)),1<D.length&&D.index<R.length&&m.apply(F,D.slice(1)),B=D[0].length,V=L,F.length>=k));)q.lastIndex===D.index&&q.lastIndex++;return V===R.length?!B&&q.test("")||F.push(""):F.push(R.slice(V)),F.length>k?F.slice(0,k):F}:"0".split(void 0,0).length?function(T,O){return T===void 0&&O===0?[]:j.call(this,T,O)}:j;return[function(T,O){var R=u(this),k=T?.[x];return k!==void 0?k.call(T,R,O):M.call(String(R),T,O)},function(D,O){var R=E(M,D,this,O,M!==j);if(R.done)return R.value;var R=s(D),k=String(this),D=b(R,RegExp),L=R.unicode,B=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(g?"y":"g"),F=new D(g?R:"^(?:"+R.source+")",B),V=O===void 0?_:O>>>0;if(V==0)return[];if(k.length===0)return h(F,k)===null?[k]:[];for(var q=0,G=0,W=[];G<k.length;){F.lastIndex=g?G:0;var $,K=h(F,g?k:k.slice(G));if(K===null||($=v(c(F.lastIndex+(g?0:G)),k.length))===q)G=y(k,G,L);else{if(W.push(k.slice(q,G)),W.length===V)return W;for(var N=1;N<=K.length-1;N++)if(W.push(K[N]),W.length===V)return W;G=q=$}}return W.push(k.slice(q)),W}]},!g)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],199:[function(y,d,a){var n=y("../internals/export"),o=y("../internals/object-get-own-property-descriptor").f,s=y("../internals/to-length"),u=y("../internals/not-a-regexp"),b=y("../internals/require-object-coercible"),f=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),c="".startsWith,h=Math.min,f=f("startsWith");n({target:"String",proto:!0,forced:!!(y||f||!(n=o(String.prototype,"startsWith"))||n.writable)&&!f},{startsWith:function(_){var m=String(b(this)),v=(u(_),s(h(1<arguments.length?arguments[1]:void 0,m.length))),_=String(_);return c?c.call(m,_,v):m.slice(v,v+_.length)===_}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],200:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/create-html");n({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return o(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],201:[function(t,d,a){var n=t("../internals/export"),o=t("../internals/string-trim").trim;n({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return o(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],202:[function(v,d,a){var n,o,s,u,b,y=v("../internals/export"),c=v("../internals/descriptors"),h=v("../internals/global"),f=v("../internals/has"),p=v("../internals/is-object"),m=v("../internals/object-define-property").f,v=v("../internals/copy-constructor-properties"),_=h.Symbol;!c||typeof _!="function"||"description"in _.prototype&&_().description===void 0||(n={},v(o=function(){var g=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof o?new _(g):g===void 0?_():_(g);return g===""&&(n[x]=!0),x},_),(h=o.prototype=_.prototype).constructor=o,s=h.toString,u=String(_("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/,m(h,"description",{configurable:!0,get:function(){var g=p(this)?this.valueOf():this,x=s.call(g);return f(n,g)?"":(g=u?x.slice(7,-1):x.replace(b,"$1"))===""?void 0:g}}),y({global:!0,forced:!0},{Symbol:o}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],203:[function(t,d,a){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],204:[function(ie,d,a){function n(Z,se){var ge=Fe[Z]=R(le[pe]);return de(ge,{type:ce,tag:Z,description:se}),f||(ge.description=se),ge}function o(Z,we){j(Z);var ge=M(we),we=k(ge).concat(ne(ge));return J(we,function(Pe){f&&!Q.call(ge,Pe)||Se(Z,Pe,ge[Pe])}),Z}function s(we,Pe){var ge,we=M(we),Pe=T(Pe,!0);if(we!==re||!_(Fe,Pe)||_(Ce,Pe))return!(ge=je(we,Pe))||!_(Fe,Pe)||_(we,ee)&&we[ee][Pe]||(ge.enumerable=!0),ge}function u(se){var se=ve(M(se)),ge=[];return J(se,function(we){_(Fe,we)||_(K,we)||ge.push(we)}),ge}var b=ie("../internals/export"),y=ie("../internals/global"),c=ie("../internals/get-built-in"),h=ie("../internals/is-pure"),f=ie("../internals/descriptors"),p=ie("../internals/native-symbol"),m=ie("../internals/use-symbol-as-uid"),v=ie("../internals/fails"),_=ie("../internals/has"),g=ie("../internals/is-array"),x=ie("../internals/is-object"),j=ie("../internals/an-object"),E=ie("../internals/to-object"),M=ie("../internals/to-indexed-object"),T=ie("../internals/to-primitive"),O=ie("../internals/create-property-descriptor"),R=ie("../internals/object-create"),k=ie("../internals/object-keys"),D=ie("../internals/object-get-own-property-names"),L=ie("../internals/object-get-own-property-names-external"),B=ie("../internals/object-get-own-property-symbols"),F=ie("../internals/object-get-own-property-descriptor"),V=ie("../internals/object-define-property"),q=ie("../internals/object-property-is-enumerable"),G=ie("../internals/create-non-enumerable-property"),W=ie("../internals/redefine"),$=ie("../internals/shared"),ze=ie("../internals/shared-key"),K=ie("../internals/hidden-keys"),N=ie("../internals/uid"),A=ie("../internals/well-known-symbol"),I=ie("../internals/well-known-symbol-wrapped"),z=ie("../internals/define-well-known-symbol"),Y=ie("../internals/set-to-string-tag"),qe=ie("../internals/internal-state"),J=ie("../internals/array-iteration").forEach,ee=ze("hidden"),ce="Symbol",pe="prototype",ie=A("toPrimitive"),de=qe.set,ue=qe.getterFor(ce),re=Object[pe],le=y.Symbol,me=c("JSON","stringify"),je=F.f,ye=V.f,ve=L.f,Me=q.f,Fe=$("symbols"),Ce=$("op-symbols"),$e=$("string-to-symbol-registry"),Ve=$("symbol-to-string-registry"),ze=$("wks"),qe=y.QObject,He=!qe||!qe[pe]||!qe[pe].findChild,_e=f&&v(function(){return R(ye({},"a",{get:function(){return ye(this,"a",{value:7}).a}})).a!=7})?function(Z,se,ge){var we=je(re,se);we&&delete re[se],ye(Z,se,ge),we&&Z!==re&&ye(re,se,we)}:ye,Ae=m?function(Z){return typeof Z=="symbol"}:function(Z){return Object(Z)instanceof le},Se=function(Z,se,ge){return Z===re&&Se(Ce,se,ge),j(Z),se=T(se,!0),j(ge),(_(Fe,se)?(ge.enumerable?(_(Z,ee)&&Z[ee][se]&&(Z[ee][se]=!1),ge=R(ge,{enumerable:O(0,!1)})):(_(Z,ee)||ye(Z,ee,O(1,{})),Z[ee][se]=!0),_e):ye)(Z,se,ge)},Q=function(se){var se=T(se,!0),ge=Me.call(this,se);return!(this===re&&_(Fe,se)&&!_(Ce,se))&&(!(ge||!_(this,se)||!_(Fe,se)||_(this,ee)&&this[ee][se])||ge)},ne=function(ge){var se=ge===re,ge=ve(se?Ce:M(ge)),we=[];return J(ge,function(Pe){!_(Fe,Pe)||se&&!_(re,Pe)||we.push(Fe[Pe])}),we};p||(W((le=function(){if(this instanceof le)throw TypeError("Symbol is not a constructor");var Z=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,se=N(Z),ge=function(we){this===re&&ge.call(Ce,we),_(this,ee)&&_(this[ee],se)&&(this[ee][se]=!1),_e(this,se,O(1,we))};return f&&He&&_e(re,se,{configurable:!0,set:ge}),n(se,Z)})[pe],"toString",function(){return ue(this).tag}),W(le,"withoutSetter",function(Z){return n(N(Z),Z)}),q.f=Q,V.f=Se,F.f=s,D.f=L.f=u,B.f=ne,I.f=function(Z){return n(A(Z),Z)},f&&(ye(le[pe],"description",{configurable:!0,get:function(){return ue(this).description}}),h||W(re,"propertyIsEnumerable",Q,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:le}),J(k(ze),function(Z){z(Z)}),b({target:ce,stat:!0,forced:!p},{for:function(ge){var se,ge=String(ge);return _($e,ge)?$e[ge]:(se=le(ge),$e[ge]=se,Ve[se]=ge,se)},keyFor:function(Z){if(!Ae(Z))throw TypeError(Z+" is not a symbol");if(_(Ve,Z))return Ve[Z]},useSetter:function(){He=!0},useSimple:function(){He=!1}}),b({target:"Object",stat:!0,forced:!p,sham:!f},{create:function(Z,se){return se===void 0?R(Z):o(R(Z),se)},defineProperty:Se,defineProperties:o,getOwnPropertyDescriptor:s}),b({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:u,getOwnPropertySymbols:ne}),b({target:"Object",stat:!0,forced:v(function(){B.f(1)})},{getOwnPropertySymbols:function(Z){return B.f(E(Z))}}),me&&b({target:"JSON",stat:!0,forced:!p||v(function(){var Z=le();return me([Z])!="[null]"||me({a:Z})!="{}"||me(Object(Z))!="{}"})},{stringify:function(Z,se,ge){for(var we,Pe=[Z],Ne=1;Ne<arguments.length;)Pe.push(arguments[Ne++]);if((x(we=se)||Z!==void 0)&&!Ae(Z))return g(se)||(se=function(Ue,Ge){if(typeof we=="function"&&(Ge=we.call(this,Ue,Ge)),!Ae(Ge))return Ge}),Pe[1]=se,me.apply(null,Pe)}}),le[pe][ie]||G(le[pe],ie,le[pe].valueOf),Y(le,ce),K[ee]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],205:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-copy-within"),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",function(u,b){return o.call(s(this),u,b,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],206:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").every,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function(u){return o(s(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],207:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-fill"),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",function(u){return o.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],208:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),u=n.aTypedArray,b=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",function(y){for(var c=o(u(this),y,1<arguments.length?arguments[1]:void 0),y=s(this,this.constructor),h=0,f=c.length,p=new(b(y))(f);h<f;)p[h]=c[h++];return p})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],209:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").findIndex,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function(u){return o(s(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],210:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").find,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function(u){return o(s(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],211:[function(t,d,a){t("../internals/typed-array-constructor")("Float32",function(n){return function(o,s,u){return n(this,o,s,u)}})},{"../internals/typed-array-constructor":142}],212:[function(t,d,a){t("../internals/typed-array-constructor")("Float64",function(n){return function(o,s,u){return n(this,o,s,u)}})},{"../internals/typed-array-constructor":142}],213:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").forEach,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function(u){o(s(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],214:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-includes").includes,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function(u){return o(s(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],215:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-includes").indexOf,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function(u){return o(s(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],216:[function(t,d,a){t("../internals/typed-array-constructor")("Int16",function(n){return function(o,s,u){return n(this,o,s,u)}})},{"../internals/typed-array-constructor":142}],217:[function(t,d,a){t("../internals/typed-array-constructor")("Int32",function(n){return function(o,s,u){return n(this,o,s,u)}})},{"../internals/typed-array-constructor":142}],218:[function(o,d,a){function n(){return s.call(y(this))}var f=o("../internals/global"),h=o("../internals/array-buffer-view-core"),c=o("../modules/es.array.iterator"),o=o("../internals/well-known-symbol")("iterator"),f=f.Uint8Array,s=c.values,u=c.keys,b=c.entries,y=h.aTypedArray,c=h.exportTypedArrayMethod,h=f&&f.prototype[o],f=!!h&&(h.name=="values"||h.name==null);c("entries",function(){return b.call(y(this))}),c("keys",function(){return u.call(y(this))}),c("values",n,!f),c(o,n,!f)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],219:[function(o,d,a){var o=o("../internals/array-buffer-view-core"),n=o.aTypedArray,o=o.exportTypedArrayMethod,s=[].join;o("join",function(u){return s.apply(n(this),arguments)})},{"../internals/array-buffer-view-core":12}],220:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-last-index-of"),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function(u){return o.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],221:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),u=n.aTypedArray,b=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",function(y){return o(u(this),y,1<arguments.length?arguments[1]:void 0,function(c,h){return new(b(s(c,c.constructor)))(h)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],222:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-reduce").right,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function(u){return o(s(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],223:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-reduce").left,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function(u){return o(s(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],224:[function(o,d,a){var o=o("../internals/array-buffer-view-core"),n=o.aTypedArray,o=o.exportTypedArrayMethod,s=Math.floor;o("reverse",function(){for(var u,b=n(this).length,y=s(b/2),c=0;c<y;)u=this[c],this[c++]=this[--b],this[b]=u;return this})},{"../internals/array-buffer-view-core":12}],225:[function(b,d,a){var n=b("../internals/array-buffer-view-core"),o=b("../internals/to-length"),s=b("../internals/to-offset"),u=b("../internals/to-object"),b=b("../internals/fails"),y=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",function(c){y(this);var h=s(1<arguments.length?arguments[1]:void 0,1),f=this.length,p=u(c),m=o(p.length),v=0;if(f<m+h)throw RangeError("Wrong length");for(;v<m;)this[h+v]=p[v++]},b(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],226:[function(o,d,a){var b=o("../internals/array-buffer-view-core"),n=o("../internals/species-constructor"),o=o("../internals/fails"),s=b.aTypedArray,u=b.aTypedArrayConstructor,b=b.exportTypedArrayMethod,y=[].slice;b("slice",function(c,h){for(var f=y.call(s(this),c,h),c=n(this,this.constructor),p=0,m=f.length,v=new(u(c))(m);p<m;)v[p]=f[p++];return v},o(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],227:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/array-iteration").some,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function(u){return o(s(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],228:[function(o,d,a){var o=o("../internals/array-buffer-view-core"),n=o.aTypedArray,o=o.exportTypedArrayMethod,s=[].sort;o("sort",function(u){return s.call(n(this),u)})},{"../internals/array-buffer-view-core":12}],229:[function(t,d,a){var n=t("../internals/array-buffer-view-core"),o=t("../internals/to-length"),s=t("../internals/to-absolute-index"),u=t("../internals/species-constructor"),b=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",function(p,c){var h=b(this),f=h.length,p=s(p,f);return new(u(h,h.constructor))(h.buffer,h.byteOffset+p*h.BYTES_PER_ELEMENT,o((c===void 0?f:s(c,f))-p))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],230:[function(o,d,a){var b=o("../internals/global"),n=o("../internals/array-buffer-view-core"),o=o("../internals/fails"),s=b.Int8Array,u=n.aTypedArray,b=n.exportTypedArrayMethod,y=[].toLocaleString,c=[].slice,h=!!s&&o(function(){y.call(new s(1))});b("toLocaleString",function(){return y.apply(h?c.call(u(this)):u(this),arguments)},o(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!o(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],231:[function(o,d,a){var n=o("../internals/array-buffer-view-core").exportTypedArrayMethod,b=o("../internals/fails"),o=o("../internals/global").Uint8Array,o=o&&o.prototype||{},s=[].toString,u=[].join,b=(b(function(){s.call({})})&&(s=function(){return u.call(this)}),o.toString!=s);n("toString",s,b)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],232:[function(t,d,a){t("../internals/typed-array-constructor")("Uint16",function(n){return function(o,s,u){return n(this,o,s,u)}})},{"../internals/typed-array-constructor":142}],233:[function(t,d,a){t("../internals/typed-array-constructor")("Uint32",function(n){return function(o,s,u){return n(this,o,s,u)}})},{"../internals/typed-array-constructor":142}],234:[function(t,d,a){t("../internals/typed-array-constructor")("Uint8",function(n){return function(o,s,u){return n(this,o,s,u)}})},{"../internals/typed-array-constructor":142}],235:[function(t,d,a){t("../internals/typed-array-constructor")("Uint8",function(n){return function(o,s,u){return n(this,o,s,u)}},!0)},{"../internals/typed-array-constructor":142}],236:[function(_,j,a){function n(E){return function(){return E(this,arguments.length?arguments[0]:void 0)}}var o,s,u,b,y,g=_("../internals/global"),c=_("../internals/redefine-all"),h=_("../internals/internal-metadata"),f=_("../internals/collection"),p=_("../internals/collection-weak"),m=_("../internals/is-object"),v=_("../internals/internal-state").enforce,_=_("../internals/native-weak-map"),g=!g.ActiveXObject&&"ActiveXObject"in g,x=Object.isExtensible,j=j.exports=f("WeakMap",n,p);_&&g&&(o=p.getConstructor(n,"WeakMap",!0),h.REQUIRED=!0,f=j.prototype,s=f.delete,u=f.has,b=f.get,y=f.set,c(f,{delete:function(E){var M;return m(E)&&!x(E)?((M=v(this)).frozen||(M.frozen=new o),s.call(this,E)||M.frozen.delete(E)):s.call(this,E)},has:function(E){var M;return m(E)&&!x(E)?((M=v(this)).frozen||(M.frozen=new o),u.call(this,E)||M.frozen.has(E)):u.call(this,E)},get:function(E){var M;return!m(E)||x(E)||((M=v(this)).frozen||(M.frozen=new o),u.call(this,E))?b.call(this,E):M.frozen.get(E)},set:function(E,M){var T;return!m(E)||x(E)||((T=v(this)).frozen||(T.frozen=new o),u.call(this,E))?y.call(this,E,M):T.frozen.set(E,M),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],237:[function(t,d,a){var n,o=t("../internals/global"),s=t("../internals/dom-iterables"),u=t("../internals/array-for-each"),b=t("../internals/create-non-enumerable-property");for(n in s){var y=o[n],y=y&&y.prototype;if(y&&y.forEach!==u)try{b(y,"forEach",u)}catch{y.forEach=u}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],238:[function(y,d,a){var n,o=y("../internals/global"),s=y("../internals/dom-iterables"),u=y("../modules/es.array.iterator"),b=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),c=y("iterator"),h=y("toStringTag"),f=u.values;for(n in s){var p=o[n],m=p&&p.prototype;if(m){if(m[c]!==f)try{b(m,c,f)}catch{m[c]=f}if(m[h]||b(m,h,n),s[n]){for(var v in u)if(m[v]!==u[v])try{b(m,v,u[v])}catch{m[v]=u[v]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],239:[function(ee,d,a){ee("../modules/es.array.iterator");function n(ce){try{return decodeURIComponent(ce)}catch{return ce}}function o(ce){return z[ce]}function s(ce){return encodeURIComponent(ce).replace(I,o)}function u(ce){this.entries.length=0,Y(this.entries,ce)}function b(ce,pe){if(ce<pe)throw TypeError("Not enough arguments")}function y(){g(this,y,V);var ce,pe,ie,de,ue,re,le,me,je=0<arguments.length?arguments[0]:void 0,ye=[];if(G(this,{type:V,entries:ye,updateURL:function(){},updateSearchParams:u}),je!==void 0)if(T(je))if(typeof(ce=D(je))=="function")for(ie=(pe=ce.call(je)).next;!(de=ie.call(pe)).done;){if((re=(ue=(de=k(M(de.value))).next).call(de)).done||(le=ue.call(de)).done||!ue.call(de).done)throw TypeError("Expected sequence with length 2");ye.push({key:re.value+"",value:le.value+""})}else for(me in je)x(je,me)&&ye.push({key:me,value:je[me]+""});else Y(ye,typeof je=="string"?je.charAt(0)==="?"?je.slice(1):je:je+"")}var c=ee("../internals/export"),F=ee("../internals/get-built-in"),h=ee("../internals/native-url"),f=ee("../internals/redefine"),p=ee("../internals/redefine-all"),m=ee("../internals/set-to-string-tag"),v=ee("../internals/create-iterator-constructor"),_=ee("../internals/internal-state"),g=ee("../internals/an-instance"),x=ee("../internals/has"),j=ee("../internals/function-bind-context"),E=ee("../internals/classof"),M=ee("../internals/an-object"),T=ee("../internals/is-object"),O=ee("../internals/object-create"),R=ee("../internals/create-property-descriptor"),k=ee("../internals/get-iterator"),D=ee("../internals/get-iterator-method"),ee=ee("../internals/well-known-symbol"),L=F("fetch"),B=F("Headers"),F=ee("iterator"),V="URLSearchParams",q=V+"Iterator",G=_.set,W=_.getterFor(V),$=_.getterFor(q),K=/\+/g,N=Array(4),A=function(ce){var pe,ie=ce.replace(K," "),de=4;try{return decodeURIComponent(ie)}catch{for(;de;)ie=ie.replace((pe=de--,N[pe-1]||(N[pe-1]=RegExp("((?:%[\\da-f]{2}){"+pe+"})","gi"))),n);return ie}},I=/[!'()~]|%20/g,z={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Y=function(ce,pe){if(pe)for(var ie,de=pe.split("&"),ue=0;ue<de.length;)(ie=de[ue++]).length&&(ie=ie.split("="),ce.push({key:A(ie.shift()),value:A(ie.join("="))}))},J=v(function(ce,pe){G(this,{type:q,iterator:k(W(ce).entries),kind:pe})},"Iterator",function(){var pe=$(this),ce=pe.kind,pe=pe.iterator.next(),ie=pe.value;return pe.done||(pe.value=ce==="keys"?ie.key:ce==="values"?ie.value:[ie.key,ie.value]),pe}),ee=y.prototype;p(ee,{append:function(ce,pe){b(arguments.length,2);var ie=W(this);ie.entries.push({key:ce+"",value:pe+""}),ie.updateURL()},delete:function(ce){b(arguments.length,1);for(var pe=W(this),ie=pe.entries,de=ce+"",ue=0;ue<ie.length;)ie[ue].key===de?ie.splice(ue,1):ue++;pe.updateURL()},get:function(ce){b(arguments.length,1);for(var pe=W(this).entries,ie=ce+"",de=0;de<pe.length;de++)if(pe[de].key===ie)return pe[de].value;return null},getAll:function(ce){b(arguments.length,1);for(var pe=W(this).entries,ie=ce+"",de=[],ue=0;ue<pe.length;ue++)pe[ue].key===ie&&de.push(pe[ue].value);return de},has:function(ce){b(arguments.length,1);for(var pe=W(this).entries,ie=ce+"",de=0;de<pe.length;)if(pe[de++].key===ie)return!0;return!1},set:function(ce,pe){b(arguments.length,1);for(var ie,de=W(this),ue=de.entries,re=!1,le=ce+"",me=pe+"",je=0;je<ue.length;je++)(ie=ue[je]).key===le&&(re?ue.splice(je--,1):(re=!0,ie.value=me));re||ue.push({key:le,value:me}),de.updateURL()},sort:function(){for(var ce,pe,ie=W(this),de=ie.entries,ue=de.slice(),re=de.length=0;re<ue.length;re++){for(ce=ue[re],pe=0;pe<re;pe++)if(de[pe].key>ce.key){de.splice(pe,0,ce);break}pe===re&&de.push(ce)}ie.updateURL()},forEach:function(ce){for(var pe,ie=W(this).entries,de=j(ce,1<arguments.length?arguments[1]:void 0,3),ue=0;ue<ie.length;)de((pe=ie[ue++]).value,pe.key,this)},keys:function(){return new J(this,"keys")},values:function(){return new J(this,"values")},entries:function(){return new J(this,"entries")}},{enumerable:!0}),f(ee,F,ee.entries),f(ee,"toString",function(){for(var ce,pe=W(this).entries,ie=[],de=0;de<pe.length;)ce=pe[de++],ie.push(s(ce.key)+"="+s(ce.value));return ie.join("&")},{enumerable:!0}),m(y,V),c({global:!0,forced:!h},{URLSearchParams:y}),h||typeof L!="function"||typeof B!="function"||c({global:!0,enumerable:!0,forced:!0},{fetch:function(ue){var pe,ie,de,ue=[ue];return 1<arguments.length&&(T(pe=arguments[1])&&(ie=pe.body,E(ie)===V&&((de=pe.headers?new B(pe.headers):new B).has("content-type")||de.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),pe=O(pe,{body:R(0,String(ie)),headers:R(0,de)}))),ue.push(pe)),L.apply(this,ue)}}),d.exports={URLSearchParams:y,getState:W}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],240:[function(k,d,a){k("../modules/es.string.iterator");function n(fe){var Be,Ze,Ie,ct;if(typeof fe=="number"){for(Be=[],Ze=0;Ze<4;Ze++)Be.unshift(fe%256),fe=q(fe/256);return Be.join(".")}if(typeof fe!="object")return fe;for(Be="",Ie=le(fe),Ze=0;Ze<8;Ze++)ct&&fe[Ze]===0||(ct=ct&&!1,Ie===Ze?(Be+=Ze?":":"::",ct=!0):(Be+=fe[Ze].toString(16),Ze<7&&(Be+=":")));return"["+Be+"]"}function o(fe){return!fe.host||fe.cannotBeABaseURL||fe.scheme=="file"}function s(fe,Be,Ze,Ie){var ct,De,ft,We=Ze||Ae,dt=0,Ye="",It=!1,Gt=!1,Lt=!1;for(Ze||(fe.scheme="",fe.username="",fe.password="",fe.host=null,fe.port=null,fe.path=[],fe.query=null,fe.fragment=null,fe.cannotBeABaseURL=!1,Be=Be.replace(de,"")),Be=Be.replace(ue,""),ct=E(Be);dt<=ct.length;){switch(De=ct[dt],We){case Ae:if(!De||!A.test(De)){if(Ze)return $;We=Q;continue}Ye+=De.toLowerCase(),We=Se;break;case Se:if(De&&(I.test(De)||De=="+"||De=="-"||De=="."))Ye+=De.toLowerCase();else{if(De!=":"){if(Ze)return $;Ye="",We=Q,dt=0;continue}if(Ze&&(Ce(fe)!=x(Fe,Ye)||Ye=="file"&&($e(fe)||fe.port!==null)||fe.scheme=="file"&&!fe.host))return;if(fe.scheme=Ye,Ze)return void(Ce(fe)&&Fe[fe.scheme]==fe.port&&(fe.port=null));Ye="",fe.scheme=="file"?We=ot:Ce(fe)&&Ie&&Ie.scheme==fe.scheme?We=ne:Ce(fe)?We=we:ct[dt+1]=="/"?(We=Z,dt++):(fe.cannotBeABaseURL=!0,fe.path.push(""),We=xt)}break;case Q:if(!Ie||Ie.cannotBeABaseURL&&De!="#")return $;if(Ie.cannotBeABaseURL&&De=="#"){fe.scheme=Ie.scheme,fe.path=Ie.path.slice(),fe.query=Ie.query,fe.fragment="",fe.cannotBeABaseURL=!0,We=Nt;break}We=Ie.scheme=="file"?ot:se;continue;case ne:if(De!="/"||ct[dt+1]!="/"){We=se;continue}We=Pe,dt++;break;case Z:if(De=="/"){We=Ne;break}We=rt;continue;case se:if(fe.scheme=Ie.scheme,De==y)fe.username=Ie.username,fe.password=Ie.password,fe.host=Ie.host,fe.port=Ie.port,fe.path=Ie.path.slice(),fe.query=Ie.query;else if(De=="/"||De=="\\"&&Ce(fe))We=ge;else if(De=="?")fe.username=Ie.username,fe.password=Ie.password,fe.host=Ie.host,fe.port=Ie.port,fe.path=Ie.path.slice(),fe.query="",We=Kt;else{if(De!="#"){fe.username=Ie.username,fe.password=Ie.password,fe.host=Ie.host,fe.port=Ie.port,fe.path=Ie.path.slice(),fe.path.pop(),We=rt;continue}fe.username=Ie.username,fe.password=Ie.password,fe.host=Ie.host,fe.port=Ie.port,fe.path=Ie.path.slice(),fe.query=Ie.query,fe.fragment="",We=Nt}break;case ge:if(!Ce(fe)||De!="/"&&De!="\\"){if(De!="/"){fe.username=Ie.username,fe.password=Ie.password,fe.host=Ie.host,fe.port=Ie.port,We=rt;continue}We=Ne}else We=Pe;break;case we:if(We=Pe,De!="/"||Ye.charAt(dt+1)!="/")continue;dt++;break;case Pe:if(De=="/"||De=="\\")break;We=Ne;continue;case Ne:if(De=="@"){It&&(Ye="%40"+Ye);for(var It=!0,Ht=E(Ye),yr=0;yr<Ht.length;yr++){var ar=Ht[yr];ar!=":"||Lt?(ar=Me(ar,ve),Lt?fe.password+=ar:fe.username+=ar):Lt=!0}Ye=""}else if(De==y||De=="/"||De=="?"||De=="#"||De=="\\"&&Ce(fe)){if(It&&Ye=="")return W;dt-=E(Ye).length+1,Ye="",We=Ue}else Ye+=De;break;case Ue:case Ge:if(Ze&&fe.scheme=="file"){We=Ke;continue}if(De!=":"||Gt){if(De==y||De=="/"||De=="?"||De=="#"||De=="\\"&&Ce(fe)){if(Ce(fe)&&Ye=="")return K;if(Ze&&Ye==""&&($e(fe)||fe.port!==null))return;if(ft=re(fe,Ye))return ft;if(Ye="",We=st,Ze)return;continue}De=="["?Gt=!0:De=="]"&&(Gt=!1),Ye+=De}else{if(Ye=="")return K;if(ft=re(fe,Ye))return ft;if(Ye="",We=Xe,Ze==Ge)return}break;case Xe:if(!z.test(De)){if(De==y||De=="/"||De=="?"||De=="#"||De=="\\"&&Ce(fe)||Ze){if(Ye!=""){var gr=parseInt(Ye,10);if(65535<gr)return N;fe.port=Ce(fe)&&gr===Fe[fe.scheme]?null:gr,Ye=""}if(Ze)return;We=st;continue}return N}Ye+=De;break;case ot:if(fe.scheme="file",De=="/"||De=="\\")We=nt;else{if(!Ie||Ie.scheme!="file"){We=rt;continue}if(De==y)fe.host=Ie.host,fe.path=Ie.path.slice(),fe.query=Ie.query;else if(De=="?")fe.host=Ie.host,fe.path=Ie.path.slice(),fe.query="",We=Kt;else{if(De!="#"){ze(ct.slice(dt).join(""))||(fe.host=Ie.host,fe.path=Ie.path.slice(),qe(fe)),We=rt;continue}fe.host=Ie.host,fe.path=Ie.path.slice(),fe.query=Ie.query,fe.fragment="",We=Nt}}break;case nt:if(De=="/"||De=="\\"){We=Ke;break}Ie&&Ie.scheme=="file"&&!ze(ct.slice(dt).join(""))&&(Ve(Ie.path[0],!0)?fe.path.push(Ie.path[0]):fe.host=Ie.host),We=rt;continue;case Ke:if(De==y||De=="/"||De=="\\"||De=="?"||De=="#"){if(!Ze&&Ve(Ye))We=rt;else{if(Ye==""){if(fe.host="",Ze)return}else{if(ft=re(fe,Ye))return ft;if(fe.host=="localhost"&&(fe.host=""),Ze)return;Ye=""}We=st}continue}Ye+=De;break;case st:if(Ce(fe)){if(We=rt,De!="/"&&De!="\\")continue}else if(Ze||De!="?")if(Ze||De!="#"){if(De!=y&&(We=rt,De!="/"))continue}else fe.fragment="",We=Nt;else fe.query="",We=Kt;break;case rt:if(De==y||De=="/"||De=="\\"&&Ce(fe)||!Ze&&(De=="?"||De=="#")){if(_e(Ye)?(qe(fe),De=="/"||De=="\\"&&Ce(fe)||fe.path.push("")):He(Ye)?De=="/"||De=="\\"&&Ce(fe)||fe.path.push(""):(fe.scheme=="file"&&!fe.path.length&&Ve(Ye)&&(fe.host&&(fe.host=""),Ye=Ye.charAt(0)+":"),fe.path.push(Ye)),Ye="",fe.scheme=="file"&&(De==y||De=="?"||De=="#"))for(;1<fe.path.length&&fe.path[0]==="";)fe.path.shift();De=="?"?(fe.query="",We=Kt):De=="#"&&(fe.fragment="",We=Nt)}else Ye+=Me(De,ye);break;case xt:De=="?"?(fe.query="",We=Kt):De=="#"?(fe.fragment="",We=Nt):De!=y&&(fe.path[0]+=Me(De,me));break;case Kt:Ze||De!="#"?De!=y&&(De=="'"&&Ce(fe)?fe.query+="%27":fe.query+=De=="#"?"%23":Me(De,me)):(fe.fragment="",We=Nt);break;case Nt:De!=y&&(fe.fragment+=Me(De,je))}dt++}}function u(De){var Be,Ze,Ie=g(this,u,"URL"),ct=1<arguments.length?arguments[1]:void 0,De=String(De),ft=F(Ie,{type:"URL"});if(ct!==void 0){if(ct instanceof u)Be=V(ct);else if(Ze=s(Be={},String(ct)))throw TypeError(Ze)}if(Ze=s(ft,De,null,Be))throw TypeError(Ze);var We=ft.searchParams=new L;(ct=B(We)).updateSearchParams(ft.query),ct.updateURL=function(){ft.query=String(We)||null},p||(Ie.href=St.call(Ie),Ie.origin=ht.call(Ie),Ie.protocol=Yt.call(Ie),Ie.username=zt.call(Ie),Ie.password=bt.call(Ie),Ie.host=Zt.call(Ie),Ie.hostname=bn.call(Ie),Ie.port=vn.call(Ie),Ie.pathname=_n.call(Ie),Ie.search=Jn.call(Ie),Ie.searchParams=xn.call(Ie),Ie.hash=wn.call(Ie))}function b(fe,Be){return{get:fe,set:Be,configurable:!0,enumerable:!0}}var y,c,h,f=k("../internals/export"),p=k("../internals/descriptors"),m=k("../internals/native-url"),mt=k("../internals/global"),v=k("../internals/object-define-properties"),_=k("../internals/redefine"),g=k("../internals/an-instance"),x=k("../internals/has"),j=k("../internals/object-assign"),E=k("../internals/array-from"),M=k("../internals/string-multibyte").codeAt,T=k("../internals/string-punycode-to-ascii"),O=k("../internals/set-to-string-tag"),R=k("../modules/web.url-search-params"),k=k("../internals/internal-state"),D=mt.URL,L=R.URLSearchParams,B=R.getState,F=k.set,V=k.getterFor("URL"),q=Math.floor,G=Math.pow,W="Invalid authority",$="Invalid scheme",K="Invalid host",N="Invalid port",A=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,z=/\d/,Y=/^(0x|0X)/,J=/^[0-7]+$/,ee=/^\d+$/,ce=/^[\dA-Fa-f]+$/,pe=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ie=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,de=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ue=/[\u0009\u000A\u000D]/g,re=function(fe,Be){var Ze,Ie,ct;if(Be.charAt(0)=="[")return Be.charAt(Be.length-1)=="]"&&(Ze=function(De){var ft=[0,0,0,0,0,0,0,0],We=0,dt=null,Ye=0,It,Gt,Lt,Ht,yr,ar,gr,Wt=function(){return De.charAt(Ye)};if(Wt()==":"){if(De.charAt(1)!=":")return;Ye+=2,We++,dt=We}for(;Wt();){if(We==8)return;if(Wt()==":"){if(dt!==null)return;Ye++,We++,dt=We;continue}for(It=Gt=0;Gt<4&&ce.test(Wt());)It=It*16+parseInt(Wt(),16),Ye++,Gt++;if(Wt()=="."){if(Gt==0||(Ye-=Gt,We>6))return;for(Lt=0;Wt();){if(Ht=null,Lt>0)if(Wt()=="."&&Lt<4)Ye++;else return;if(!z.test(Wt()))return;for(;z.test(Wt());){if(yr=parseInt(Wt(),10),Ht===null)Ht=yr;else{if(Ht==0)return;Ht=Ht*10+yr}if(Ht>255)return;Ye++}ft[We]=ft[We]*256+Ht,Lt++,(Lt==2||Lt==4)&&We++}if(Lt!=4)return;break}else if(Wt()==":"){if(Ye++,!Wt())return}else if(Wt())return;ft[We++]=It}if(dt!==null)for(ar=We-dt,We=7;We!=0&&ar>0;)gr=ft[We],ft[We--]=ft[dt+ar-1],ft[dt+--ar]=gr;else if(We!=8)return;return ft}(Be.slice(1,-1)))?void(fe.host=Ze):K;if(Ce(fe))return Be=T(Be),pe.test(Be)||(Ze=function(De){var ft=De.split("."),We,dt,Ye,It,Gt,Lt,Ht;if(ft.length&&ft[ft.length-1]==""&&ft.pop(),(We=ft.length)>4)return De;for(dt=[],Ye=0;Ye<We;Ye++){if(It=ft[Ye],It=="")return De;if(Gt=10,It.length>1&&It.charAt(0)=="0"&&(Gt=Y.test(It)?16:8,It=It.slice(Gt==8?1:2)),It==="")Lt=0;else{if(!(Gt==10?ee:Gt==8?J:ce).test(It))return De;Lt=parseInt(It,Gt)}dt.push(Lt)}for(Ye=0;Ye<We;Ye++)if(Lt=dt[Ye],Ye==We-1){if(Lt>=G(256,5-We))return null}else if(Lt>255)return null;for(Ht=dt.pop(),Ye=0;Ye<dt.length;Ye++)Ht+=dt[Ye]*G(256,3-Ye);return Ht}(Be))===null?K:void(fe.host=Ze);if(ie.test(Be))return K;for(Ze="",Ie=E(Be),ct=0;ct<Ie.length;ct++)Ze+=Me(Ie[ct],me);fe.host=Ze},le=function(fe){for(var Be=null,Ze=1,Ie=null,ct=0,De=0;De<8;De++)fe[De]!==0?(Ze<ct&&(Be=Ie,Ze=ct),Ie=null,ct=0):(Ie===null&&(Ie=De),++ct);return Ze<ct&&(Be=Ie,Ze=ct),Be},me={},je=j({},me,{" ":1,'"':1,"<":1,">":1,"`":1}),ye=j({},je,{"#":1,"?":1,"{":1,"}":1}),ve=j({},ye,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Me=function(fe,Be){var Ze=M(fe,0);return 32<Ze&&Ze<127&&!x(Be,fe)?fe:encodeURIComponent(fe)},Fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ce=function(fe){return x(Fe,fe.scheme)},$e=function(fe){return fe.username!=""||fe.password!=""},Ve=function(fe,Be){return fe.length==2&&A.test(fe.charAt(0))&&((fe=fe.charAt(1))==":"||!Be&&fe=="|")},ze=function(fe){return 1<fe.length&&Ve(fe.slice(0,2))&&(fe.length==2||(fe=fe.charAt(2))==="/"||fe==="\\"||fe==="?"||fe==="#")},qe=function(fe){var Be=fe.path,Ze=Be.length;!Ze||fe.scheme=="file"&&Ze==1&&Ve(Be[0],!0)||Be.pop()},He=function(fe){return fe==="."||fe.toLowerCase()==="%2e"},_e=function(fe){return(fe=fe.toLowerCase())===".."||fe==="%2e."||fe===".%2e"||fe==="%2e%2e"},Ae={},Se={},Q={},ne={},Z={},se={},ge={},we={},Pe={},Ne={},Ue={},Ge={},Xe={},ot={},nt={},Ke={},st={},rt={},xt={},Kt={},Nt={},mt=u.prototype,St=function(){var fe=V(this),Be=fe.scheme,Ze=fe.username,Ie=fe.password,ct=fe.host,De=fe.port,ft=fe.path,We=fe.query,dt=fe.fragment,Ye=Be+":";return ct!==null?(Ye+="//",$e(fe)&&(Ye+=Ze+(Ie?":"+Ie:"")+"@"),Ye+=n(ct),De!==null&&(Ye+=":"+De)):Be=="file"&&(Ye+="//"),Ye+=fe.cannotBeABaseURL?ft[0]:ft.length?"/"+ft.join("/"):"",We!==null&&(Ye+="?"+We),dt!==null&&(Ye+="#"+dt),Ye},ht=function(){var fe=V(this),Be=fe.scheme,Ze=fe.port;if(Be=="blob")try{return new URL(Be.path[0]).origin}catch{return"null"}return Be!="file"&&Ce(fe)?Be+"://"+n(fe.host)+(Ze!==null?":"+Ze:""):"null"},Yt=function(){return V(this).scheme+":"},zt=function(){return V(this).username},bt=function(){return V(this).password},Zt=function(){var Be=V(this),fe=Be.host,Be=Be.port;return fe===null?"":Be===null?n(fe):n(fe)+":"+Be},bn=function(){var fe=V(this).host;return fe===null?"":n(fe)},vn=function(){var fe=V(this).port;return fe===null?"":String(fe)},_n=function(){var fe=V(this),Be=fe.path;return fe.cannotBeABaseURL?Be[0]:Be.length?"/"+Be.join("/"):""},Jn=function(){var fe=V(this).query;return fe?"?"+fe:""},xn=function(){return V(this).searchParams},wn=function(){var fe=V(this).fragment;return fe?"#"+fe:""};p&&v(mt,{href:b(St,function(Ze){var Be=V(this),Ze=String(Ze),Ze=s(Be,Ze);if(Ze)throw TypeError(Ze);B(Be.searchParams).updateSearchParams(Be.query)}),origin:b(ht),protocol:b(Yt,function(fe){var Be=V(this);s(Be,String(fe)+":",Ae)}),username:b(zt,function(fe){var Be=V(this),Ze=E(String(fe));if(!o(Be)){Be.username="";for(var Ie=0;Ie<Ze.length;Ie++)Be.username+=Me(Ze[Ie],ve)}}),password:b(bt,function(fe){var Be=V(this),Ze=E(String(fe));if(!o(Be)){Be.password="";for(var Ie=0;Ie<Ze.length;Ie++)Be.password+=Me(Ze[Ie],ve)}}),host:b(Zt,function(fe){var Be=V(this);Be.cannotBeABaseURL||s(Be,String(fe),Ue)}),hostname:b(bn,function(fe){var Be=V(this);Be.cannotBeABaseURL||s(Be,String(fe),Ge)}),port:b(vn,function(fe){var Be=V(this);o(Be)||((fe=String(fe))==""?Be.port=null:s(Be,fe,Xe))}),pathname:b(_n,function(fe){var Be=V(this);Be.cannotBeABaseURL||(Be.path=[],s(Be,fe+"",st))}),search:b(Jn,function(fe){var Be=V(this);(fe=String(fe))==""?Be.query=null:(fe.charAt(0)=="?"&&(fe=fe.slice(1)),Be.query="",s(Be,fe,Kt)),B(Be.searchParams).updateSearchParams(Be.query)}),searchParams:b(xn),hash:b(wn,function(fe){var Be=V(this);(fe=String(fe))==""?Be.fragment=null:(fe.charAt(0)=="#"&&(fe=fe.slice(1)),Be.fragment="",s(Be,fe,Nt))})}),_(mt,"toJSON",function(){return St.call(this)},{enumerable:!0}),_(mt,"toString",function(){return St.call(this)},{enumerable:!0}),D&&(c=D.createObjectURL,h=D.revokeObjectURL,c&&_(u,"createObjectURL",function(fe){return c.apply(D,arguments)}),h&&_(u,"revokeObjectURL",function(fe){return h.apply(D,arguments)})),O(u,"URL"),f({global:!0,forced:!m,sham:!p},{URL:u})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":192,"../modules/web.url-search-params":239}],241:[function(t,d,a){d.exports=t("./").polyfill()},{"./":242}],242:[function(t,d,a){(function(n,o){var s,u;s=this,u=function(){function b(re){return typeof re=="function"}var y=Array.isArray||function(re){return Object.prototype.toString.call(re)==="[object Array]"},c=0,h=void 0,f=void 0,p=function(re,le){j[c]=re,j[c+1]=le,(c+=2)===2&&(f?f(E):L())},m=typeof window<"u"?window:void 0,v=m||{},v=v.MutationObserver||v.WebKitMutationObserver,_=typeof self>"u"&&n!==void 0&&{}.toString.call(n)==="[object process]",g=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function x(){var re=setTimeout;return function(){return re(E,1)}}var j=new Array(1e3);function E(){for(var re=0;re<c;re+=2)(0,j[re])(j[re+1]),j[re]=void 0,j[re+1]=void 0;c=0}function M(){try{var re=Function("return this")().require("vertx");return(h=re.runOnLoop||re.runOnContext)!==void 0?function(){h(E)}:x()}catch{return x()}}var T,O,R,L=void 0;function k(re,le){var me,je=this,ye=new this.constructor(F),ve=(ye[B]===void 0&&ce(ye),je._state);return ve?(me=arguments[ve-1],p(function(){return J(ve,ye,me,je._result)})):z(je,ye,re,le),ye}function D(re){var le;return re&&typeof re=="object"&&re.constructor===this?re:(K(le=new this(F),re),le)}var L=_?function(){return n.nextTick(E)}:v?(O=0,_=new v(E),R=document.createTextNode(""),_.observe(R,{characterData:!0}),function(){R.data=O=++O%2}):g?((T=new MessageChannel).port1.onmessage=E,function(){return T.port2.postMessage(0)}):(m===void 0&&typeof t=="function"?M:x)(),B=Math.random().toString(36).substring(2);function F(){}var V=void 0,q=1,G=2;function W(re,le,me){p(function(je){var ye=!1,ve=function(Me,Fe,Ce,$e){try{Me.call(Fe,Ce,$e)}catch(Ve){return Ve}}(me,le,function(Me){ye||(ye=!0,(le!==Me?K:A)(je,Me))},function(Me){ye||(ye=!0,I(je,Me))},je._label);!ye&&ve&&(ye=!0,I(je,ve))},re)}function $(re,le,me){var je,ye;le.constructor===re.constructor&&me===k&&le.constructor.resolve===D?(je=re,(ye=le)._state===q?A(je,ye._result):ye._state===G?I(je,ye._result):z(ye,void 0,function(ve){return K(je,ve)},function(ve){return I(je,ve)})):me!==void 0&&b(me)?W(re,le,me):A(re,le)}function K(re,le){if(re===le)I(re,new TypeError("You cannot resolve a promise with itself"));else if(me=typeof le,le===null||me!="object"&&me!="function")A(re,le);else{me=void 0;try{me=le.then}catch(je){return void I(re,je)}$(re,le,me)}var me}function N(re){re._onerror&&re._onerror(re._result),Y(re)}function A(re,le){re._state===V&&(re._result=le,re._state=q,re._subscribers.length!==0&&p(Y,re))}function I(re,le){re._state===V&&(re._state=G,re._result=le,p(N,re))}function z(re,le,me,je){var ye=re._subscribers,ve=ye.length;re._onerror=null,ye[ve]=le,ye[ve+q]=me,ye[ve+G]=je,ve===0&&re._state&&p(Y,re)}function Y(re){var le=re._subscribers,me=re._state;if(le.length!==0){for(var je,ye=void 0,ve=re._result,Me=0;Me<le.length;Me+=3)je=le[Me],ye=le[Me+me],je?J(me,je,ye,ve):ye(ve);re._subscribers.length=0}}function J(re,le,me,je){var ye=b(me),ve=void 0,Me=void 0,Fe=!0;if(ye){try{ve=me(je)}catch(Ce){Fe=!1,Me=Ce}if(le===ve)return void I(le,new TypeError("A promises callback cannot return that same promise."))}else ve=je;le._state===V&&(ye&&Fe?K(le,ve):Fe===!1?I(le,Me):re===q?A(le,ve):re===G&&I(le,ve))}var ee=0;function ce(re){re[B]=ee++,re._state=void 0,re._result=void 0,re._subscribers=[]}ie.prototype._enumerate=function(re){for(var le=0;this._state===V&&le<re.length;le++)this._eachEntry(re[le],le)},ie.prototype._eachEntry=function(re,le){var me=this._instanceConstructor,je=me.resolve;if(je===D){var ye,ve=void 0,Me=void 0,Fe=!1;try{ve=re.then}catch(Ce){Fe=!0,Me=Ce}ve===k&&re._state!==V?this._settledAt(re._state,le,re._result):typeof ve!="function"?(this._remaining--,this._result[le]=re):me===de?(ye=new me(F),Fe?I(ye,Me):$(ye,re,ve),this._willSettleAt(ye,le)):this._willSettleAt(new me(function(Ce){return Ce(re)}),le)}else this._willSettleAt(je(re),le)},ie.prototype._settledAt=function(re,le,me){var je=this.promise;je._state===V&&(this._remaining--,re===G?I(je,me):this._result[le]=me),this._remaining===0&&A(je,this._result)},ie.prototype._willSettleAt=function(re,le){var me=this;z(re,void 0,function(je){return me._settledAt(q,le,je)},function(je){return me._settledAt(G,le,je)})};var pe=ie;function ie(re,le){this._instanceConstructor=re,this.promise=new re(F),this.promise[B]||ce(this.promise),y(le)?(this.length=le.length,this._remaining=le.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(le),this._remaining!==0)||A(this.promise,this._result)):I(this.promise,new Error("Array Methods must be provided an Array"))}ue.prototype.catch=function(re){return this.then(null,re)},ue.prototype.finally=function(re){var le=this.constructor;return b(re)?this.then(function(me){return le.resolve(re()).then(function(){return me})},function(me){return le.resolve(re()).then(function(){throw me})}):this.then(re,re)};var de=ue;function ue(re){if(this[B]=ee++,this._result=this._state=void 0,this._subscribers=[],F!==re){if(typeof re!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ue))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var le=this;try{re(function(me){K(le,me)},function(me){I(le,me)})}catch(me){I(le,me)}}}return de.prototype.then=k,de.all=function(re){return new pe(this,re).promise},de.race=function(re){var le=this;return y(re)?new le(function(me,je){for(var ye=re.length,ve=0;ve<ye;ve++)le.resolve(re[ve]).then(me,je)}):new le(function(me,je){return je(new TypeError("You must pass an array to race."))})},de.resolve=D,de.reject=function(re){var le=new this(F);return I(le,re),le},de._setScheduler=function(re){f=re},de._setAsap=function(re){p=re},de._asap=p,de.polyfill=function(){var re=void 0;if(o!==void 0)re=o;else if(typeof self<"u")re=self;else try{re=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var le=re.Promise;if(le){var me=null;try{me=Object.prototype.toString.call(le.resolve())}catch{}if(me==="[object Promise]"&&!le.cast)return}re.Promise=de},de.Promise=de},typeof a=="object"&&d!==void 0?d.exports=u():s.ES6Promise=u()}).call(this,t("_process"),typeof xs<"u"?xs:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:251}],243:[function(t,d,a){var n,o;n=this,o=function(s,u){var b=5e3,y="callback";function c(f){try{delete window[f]}catch{window[f]=void 0}}function h(f){f=document.getElementById(f),f&&document.getElementsByTagName("head")[0].removeChild(f)}u.exports=function(f){var p=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],m=f,v=p.timeout||b,_=p.jsonpCallback||y,g=void 0;return new Promise(function(x,j){var E=p.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),M=_+"_"+E,T=(window[E]=function(O){x({ok:!0,json:function(){return Promise.resolve(O)}}),g&&clearTimeout(g),h(M),c(E)},m+=m.indexOf("?")===-1?"?":"&",document.createElement("script"));T.setAttribute("src",""+m+_+"="+E),p.charset&&T.setAttribute("charset",p.charset),T.id=M,document.getElementsByTagName("head")[0].appendChild(T),g=setTimeout(function(){j(new Error("JSONP request to "+f+" timed out")),c(E),h(M),window[E]=function(){c(E)}},v),T.onerror=function(){j(new Error("JSONP request to "+f+" failed")),c(E),h(M),g&&clearTimeout(g)}})}},a!==void 0&&d!==void 0?o(0,d):(o(o={exports:{}},o),n.fetchJsonp=o.exports)},{}],244:[function(t,d,a){var n=function(o){var s,u,b,y,c,h,f,p,m,v,_;if(!(o===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return _=o.document,s=function(){return o.URL||o.webkitURL||o},u=_.createElementNS("http://www.w3.org/1999/xhtml","a"),b="download"in u,y=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),h=function(g){(o.setImmediate||o.setTimeout)(function(){throw g},0)},f=4e4,p=function(g){setTimeout(function(){typeof g=="string"?s().revokeObjectURL(g):g.remove()},f)},m=function(g){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g},_=(v=function(g,x,O){O||(g=m(g));var E,M,T=this,O=g.type==="application/octet-stream",R=function(){for(var k=T,D="writestart progress write writeend".split(" "),L=void 0,B=(D=[].concat(D)).length;B--;){var F=k["on"+D[B]];if(typeof F=="function")try{F.call(k,L||k)}catch(V){h(V)}}};T.readyState=T.INIT,b?(E=s().createObjectURL(g),setTimeout(function(){var k,D;u.href=E,u.download=x,k=u,D=new MouseEvent("click"),k.dispatchEvent(D),R(),p(E),T.readyState=T.DONE})):(c||O&&y)&&o.FileReader?((M=new FileReader).onloadend=function(){var k=c?M.result:M.result.replace(/^data:[^;]*;/,"data:attachment/file;");o.open(k,"_blank")||(o.location.href=k),k=void 0,T.readyState=T.DONE,R()},M.readAsDataURL(g),T.readyState=T.INIT):(E=E||s().createObjectURL(g),!O&&o.open(E,"_blank")||(o.location.href=E),T.readyState=T.DONE,R(),p(E))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(g,x,j){return x=x||g.name||"download",j||(g=m(g)),navigator.msSaveOrOpenBlob(g,x)}:(_.abort=function(){},_.readyState=_.INIT=0,_.WRITING=1,_.DONE=2,_.error=_.onwritestart=_.onprogress=_.onwrite=_.onabort=_.onerror=_.onwriteend=null,function(g,x,j){return new v(g,x||g.name||"download",j)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);d!==void 0&&d.exports?d.exports.saveAs=n:i!=null},{}],245:[function(t,d,a){var n,o=Object.defineProperty,s=(o(a,"__esModule",{value:!0}),a),u={GIFEncoder:()=>R,applyPalette:()=>function(V,q,G="rgb565"){if(!V||!V.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(V instanceof Uint8Array||V instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<q.length)throw new Error("applyPalette() only works with 256 colors or less");const W=new Uint32Array(V.buffer),$=W.length,K=G==="rgb444"?4096:65536,N=new Uint8Array($),A=new Array(K);if(G==="rgba4444")for(let ue=0;ue<$;ue++){var J=W[ue],I=J>>24&255,z=J>>16&255,Y=J>>8&255,J=255&J,ee=p(J,Y,z,I),ee=ee in A?A[ee]:A[ee]=function(re,le,me,je,ye){let ve=0,Me=1e100;for(let Ve=0;Ve<ye.length;Ve++){var Fe,Ce=ye[Ve],$e=M(Ce[3]-je);$e>Me||(Fe=Ce[0],($e+=M(Fe-re))>Me||(Fe=Ce[1],($e+=M(Fe-le))>Me||(Fe=Ce[2],($e+=M(Fe-me))>Me||(Me=$e,ve=Ve))))}return ve}(J,Y,z,I,q);N[ue]=ee}else{const ue=G==="rgb444"?m:f;for(let re=0;re<$;re++){var ie=W[re],ce=ie>>16&255,pe=ie>>8&255,ie=255&ie,de=ue(ie,pe,ce),de=de in A?A[de]:A[de]=function(le,me,je,ye){let ve=0,Me=1e100;for(let Ve=0;Ve<ye.length;Ve++){var Fe,Ce=ye[Ve],$e=M(Ce[0]-le);$e>Me||(Fe=Ce[1],($e+=M(Fe-me))>Me||(Fe=Ce[2],($e+=M(Fe-je))>Me||(Me=$e,ve=Ve)))}return ve}(ie,pe,ce,q);N[re]=de}}return N},default:()=>F,nearestColor:()=>function(V,q,G=j){return V[T(V,q,G)]},nearestColorIndex:()=>T,nearestColorIndexWithDistance:()=>O,prequantize:()=>function(V,{roundRGB:q=5,roundAlpha:G=10,oneBitAlpha:W=null}={}){const $=new Uint32Array(V.buffer);for(let z=0;z<$.length;z++){var I=$[z];let Y=I>>24&255;var K,N=I>>16&255,A=I>>8&255,I=255&I;Y=E(Y,G),W&&(K=typeof W=="number"?W:127,Y=Y<=K?0:255),I=E(I,q),A=E(A,q),N=E(N,q),$[z]=Y<<24|N<<16|A<<8|I<<0}},quantize:()=>function(V,q,G={}){var{format:W="rgb565",clearAlpha:$=!0,clearAlphaColor:K=0,clearAlphaThreshold:N=0,oneBitAlpha:A=!1}=G;if(!V||!V.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(V instanceof Uint8Array||V instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");V=new Uint32Array(V.buffer);let I=G.useSqrt!==!1;const z=W==="rgba4444",Y=function(ze,qe){const He=qe==="rgb444"?4096:65536,_e=new Array(He),Ae=ze.length;if(qe==="rgba4444")for(let nt=0;nt<Ae;++nt){var Z=ze[nt],Se=Z>>24&255,Q=Z>>16&255,ne=Z>>8&255,Z=255&Z,se=p(Z,ne,Q,Se);let Ke=se in _e?_e[se]:_e[se]=x();Ke.rc+=Z,Ke.gc+=ne,Ke.bc+=Q,Ke.ac+=Se,Ke.cnt++}else if(qe==="rgb444")for(let nt=0;nt<Ae;++nt){var Pe=ze[nt],ge=Pe>>16&255,we=Pe>>8&255,Pe=255&Pe,Ne=m(Pe,we,ge);let Ke=Ne in _e?_e[Ne]:_e[Ne]=x();Ke.rc+=Pe,Ke.gc+=we,Ke.bc+=ge,Ke.cnt++}else for(let nt=0;nt<Ae;++nt){var Xe=ze[nt],Ue=Xe>>16&255,Ge=Xe>>8&255,Xe=255&Xe,ot=f(Xe,Ge,Ue);let Ke=ot in _e?_e[ot]:_e[ot]=x();Ke.rc+=Xe,Ke.gc+=Ge,Ke.bc+=Ue,Ke.cnt++}return _e}(V,W),J=Y.length,ee=J-1,ce=new Uint32Array(J+1);for(var pe=0,ie=0;ie<J;++ie){const ze=Y[ie];ze!=null&&(Ce=1/ze.cnt,z&&(ze.ac*=Ce),ze.rc*=Ce,ze.gc*=Ce,ze.bc*=Ce,Y[pe++]=ze)}_(q)/pe<.022&&(I=!1);for(var de,ue,re,ie=0;ie<pe-1;++ie)Y[ie].fw=ie+1,Y[ie+1].bk=ie,I&&(Y[ie].cnt=Math.sqrt(Y[ie].cnt));for(I&&(Y[ie].cnt=Math.sqrt(Y[ie].cnt)),ie=0;ie<pe;++ie){g(Y,ie,!1);var le=Y[ie].err;for(ue=++ce[0];1<ue&&(re=ue>>1,!(Y[de=ce[re]].err<=le));ue=re)ce[ue]=de;ce[ue]=ie}var me,je=pe-q;for(ie=0;ie<je;){for(;;){var ye=ce[1];if((me=Y[ye]).tm>=me.mtm&&Y[me.nn].mtm<=me.tm)break;for(me.mtm==ee?ye=ce[1]=ce[ce[0]--]:(g(Y,ye,!1),me.tm=ie),le=Y[ye].err,ue=1;(re=ue+ue)<=ce[0]&&(re<ce[0]&&Y[ce[re]].err>Y[ce[re+1]].err&&re++,!(le<=Y[de=ce[re]].err));ue=re)ce[ue]=de;ce[ue]=ye}var ve=Y[me.nn],Me=me.cnt,Fe=ve.cnt,Ce=1/(Me+Fe);z&&(me.ac=Ce*(Me*me.ac+Fe*ve.ac)),me.rc=Ce*(Me*me.rc+Fe*ve.rc),me.gc=Ce*(Me*me.gc+Fe*ve.gc),me.bc=Ce*(Me*me.bc+Fe*ve.bc),me.cnt+=ve.cnt,me.mtm=++ie,Y[ve.bk].fw=ve.fw,Y[ve.fw].bk=ve.bk,ve.mtm=ee}let $e=[];for(ie=0;;0){let ze=v(Math.round(Y[ie].rc),0,255),qe=v(Math.round(Y[ie].gc),0,255),He=v(Math.round(Y[ie].bc),0,255),_e=255;z&&(_e=v(Math.round(Y[ie].ac),0,255),A&&(Ve=typeof A=="number"?A:127,_e=_e<=Ve?0:255),$&&_e<=N&&(ze=qe=He=K,_e=0));var Ve=z?[ze,qe,He,_e]:[ze,qe,He];if(function(Ae,Se){for(let Z=0;Z<Ae.length;Z++){var ne=Ae[Z],Q=ne[0]===Se[0]&&ne[1]===Se[1]&&ne[2]===Se[2],ne=!(4<=ne.length&&4<=Se.length)||ne[3]===Se[3];if(Q&&ne)return!0}return!1}($e,Ve)||$e.push(Ve),(ie=Y[ie].fw)==0)break}return $e},snapColorsToPalette:()=>function(V,q,G=5){if(V.length&&q.length){var W=V.map(I=>I.slice(0,3)),$=G*G,K=V[0].length;for(let I=0;I<q.length;I++){let z=q[I];z=z.length<K?[z[0],z[1],z[2],255]:z.length>K?z.slice(0,3):z.slice();var A=O(W,z.slice(0,3),j),N=A[0],A=A[1];0<A&&A<=$&&(V[N]=z)}}}};for(n in u)o(s,n,{get:u[n],enumerable:!0});var b={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function y(V=256){let q=0,G=new Uint8Array(V);return{get buffer(){return G.buffer},reset(){q=0},bytesView(){return G.subarray(0,q)},bytes(){return G.slice(0,q)},writeByte($){W(q+1),G[q]=$,q++},writeBytes($,K=0,N=$.length){W(q+N);for(let A=0;A<N;A++)G[q++]=$[A+K]},writeBytesView($,K=0,N=$.byteLength){W(q+N),G.set($.subarray(K,K+N),q),q+=N}};function W($){var K=G.length;if(!($<=K)){$=Math.max($,K*(K<1048576?2:1.125)>>>0),K!=0&&($=Math.max($,256));const N=G;G=new Uint8Array($),0<q&&G.set(N.subarray(0,q),0)}}}var c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],h=function(V,q,G,z,$=y(512),K=new Uint8Array(256),N=new Int32Array(5003),A=new Int32Array(5003)){var I=N.length,z=Math.max(2,z);K.fill(0),A.fill(0),N.fill(-1);let Y=0,J=0;var ee=z+1;const ce=ee;let pe=!1,ie=ce,de=(1<<ie)-1;var ue=1<<ee-1;const re=1+ue;let le=2+ue,me=0,je=G[0],ye=0;for(let Ve=I;Ve<65536;Ve*=2)++ye;ye=8-ye,$.writeByte(z),$e(ue);var ve=G.length;for(let Ve=1;Ve<ve;Ve++)e:{var Me=G[Ve],Fe=(Me<<12)+je;let ze=Me<<ye^je;if(N[ze]===Fe)je=A[ze];else{for(var Ce=ze===0?1:I-ze;0<=N[ze];)if((ze-=Ce)<0&&(ze+=I),N[ze]===Fe){je=A[ze];break e}$e(je),je=Me,le<4096?(A[ze]=le++,N[ze]=Fe):(N.fill(-1),le=2+ue,pe=!0,$e(ue))}}return $e(je),$e(re),$.writeByte(0),$.bytesView();function $e(Ve){for(Y&=c[J],0<J?Y|=Ve<<J:Y=Ve,J+=ie;8<=J;)K[me++]=255&Y,254<=me&&($.writeByte(me),$.writeBytesView(K,0,me),me=0),Y>>=8,J-=8;if((le>de||pe)&&(pe?(ie=ce,de=(1<<ie)-1,pe=!1):(++ie,de=ie===12?1<<ie:(1<<ie)-1)),Ve==re){for(;0<J;)K[me++]=255&Y,254<=me&&($.writeByte(me),$.writeBytesView(K,0,me),me=0),Y>>=8,J-=8;0<me&&($.writeByte(me),$.writeBytesView(K,0,me),me=0)}}};function f(V,q,G){return V<<8&63488|q<<2&992|G>>3}function p(V,q,G,W){return V>>4|240&q|(240&G)<<4|(240&W)<<8}function m(V,q,G){return V>>4<<8|240&q|G>>4}function v(V,q,G){return V<q?q:G<V?G:V}function _(V){return V*V}function g(V,q,G){var W=0,$=1e100;const K=V[q];for(var N=K.cnt,A=K.ac,I=K.rc,z=K.gc,Y=K.bc,J=K.fw;J!=0;J=V[J].fw){var ee,ce=V[J],pe=ce.cnt,pe=N*pe/(N+pe);$<=pe||(ee=0,G&&$<=(ee+=pe*_(ce.ac-A))||$<=(ee+=pe*_(ce.rc-I))||$<=(ee+=pe*_(ce.gc-z))||$<=(ee+=pe*_(ce.bc-Y))||($=ee,W=J))}K.err=$,K.nn=W}function x(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function j(V,q){for(var G=0,W=0;W<V.length;W++){var $=V[W]-q[W];G+=$*$}return G}function E(V,q){return 1<q?Math.round(V/q)*q:V}function M(V){return V*V}function T(V,q,G=j){let W=1/0,$=-1;for(let N=0;N<V.length;N++){var K=G(q,V[N]);K<W&&(W=K,$=N)}return $}function O(V,q,G=j){let W=1/0,$=-1;for(let N=0;N<V.length;N++){var K=G(q,V[N]);K<W&&(W=K,$=N)}return[$,W]}function R(V={}){const{initialCapacity:q=4096,auto:G=!0}=V,W=y(q),$=new Uint8Array(256),K=new Int32Array(5003),N=new Int32Array(5003);let A=!1;return{reset(){W.reset(),A=!1},finish(){W.writeByte(b.trailer)},bytes(){return W.bytes()},bytesView(){return W.bytesView()},get buffer(){return W.buffer},get stream(){return W},writeHeader:I,writeFrame(z,Y,J,je={}){var{transparent:ce=!1,transparentIndex:pe=0,delay:Ce=0,palette:ie=null,repeat:ve=0,colorDepth:de=8,dispose:ue=-1}=je;let re=!1;if(G?A||(re=!0,I(),A=!0):re=!!je.first,Y=Math.max(0,Math.floor(Y)),J=Math.max(0,Math.floor(J)),re){if(!ie)throw new Error("First frame must include a { palette } option");var[je,Me,me,Fe,ye=8]=[W,Y,J,ie,de];Fe=B(Fe.length)-1,ye=128|ye-1<<4|Fe,D(je,Me),D(je,me),je.writeBytes([ye,0,0]),k(W,ie),0<=ve&&(Fe=W,Me=ve,Fe.writeByte(33),Fe.writeByte(255),Fe.writeByte(11),L(Fe,"NETSCAPE2.0"),Fe.writeByte(3),Fe.writeByte(1),D(Fe,Me),Fe.writeByte(0))}var le,me=Math.round(Ce/10),je=W,ye=ue,ve=me,Me=ce,Fe=pe,Ce=(je.writeByte(33),je.writeByte(249),je.writeByte(4),Fe<0&&(Fe=0,Me=!1),Me=Me?(le=1,2):le=0,0<=ye&&(Me=7&ye),Me<<=2,je.writeByte(0|Me|le),D(je,ve),je.writeByte(Fe||0),je.writeByte(0),!!ie&&!re);ue=W,ce=Y,pe=J,le=Ce?ie:null,ue.writeByte(44),D(ue,0),D(ue,0),D(ue,ce),D(ue,pe),le?(ce=B(le.length)-1,ue.writeByte(128|ce)):ue.writeByte(0),Ce&&k(W,ie),[ve,je,pe,ce,ue=8,Ce,ie,z]=[W,z,Y,J,de,$,K,N],h(pe,ce,je,ue,ve,Ce,ie,z)}};function I(){L(W,"GIF89a")}}function k(V,q){var G=1<<B(q.length);for(let W=0;W<G;W++){let $=[0,0,0];W<q.length&&($=q[W]),V.writeByte($[0]),V.writeByte($[1]),V.writeByte($[2])}}function D(V,q){V.writeByte(255&q),V.writeByte(q>>8&255)}function L(V,q){for(var G=0;G<q.length;G++)V.writeByte(q.charCodeAt(G))}function B(V){return Math.max(Math.ceil(Math.log2(V)),1)}var F=R},{}],246:[function(t,d,a){a.read=function(n,o,s,u,g){var y,c,h=8*g-u-1,f=(1<<h)-1,p=f>>1,m=-7,v=s?g-1:0,_=s?-1:1,g=n[o+v];for(v+=_,y=g&(1<<-m)-1,g>>=-m,m+=h;0<m;y=256*y+n[o+v],v+=_,m-=8);for(c=y&(1<<-m)-1,y>>=-m,m+=u;0<m;c=256*c+n[o+v],v+=_,m-=8);if(y===0)y=1-p;else{if(y===f)return c?NaN:1/0*(g?-1:1);c+=Math.pow(2,u),y-=p}return(g?-1:1)*c*Math.pow(2,y-u)},a.write=function(n,o,s,u,b,x){var c,h,f=8*x-b-1,p=(1<<f)-1,m=p>>1,v=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=u?0:x-1,g=u?1:-1,x=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(h=isNaN(o)?1:0,c=p):(c=Math.floor(Math.log(o)/Math.LN2),o*(u=Math.pow(2,-c))<1&&(c--,u*=2),2<=(o+=1<=c+m?v/u:v*Math.pow(2,1-m))*u&&(c++,u/=2),p<=c+m?(h=0,c=p):1<=c+m?(h=(o*u-1)*Math.pow(2,b),c+=m):(h=o*Math.pow(2,m-1)*Math.pow(2,b),c=0));8<=b;n[s+_]=255&h,_+=g,h/=256,b-=8);for(c=c<<b|h,f+=b;0<f;n[s+_]=255&c,_+=g,c/=256,f-=8);n[s+_-g]|=128*x}},{}],247:[function(t,d,a){var n;function o(Q,ne){return Q.b===ne.b&&Q.a===ne.a}function s(Q,ne){return Q.b<ne.b||Q.b===ne.b&&Q.a<=ne.a}function u(Q,ne,Z){var se=ne.b-Q.b,ge=Z.b-ne.b;return 0<se+ge?se<ge?ne.a-Q.a+se/(se+ge)*(Q.a-Z.a):ne.a-Z.a+ge/(se+ge)*(Z.a-Q.a):0}function b(Q,ne,Z){var se=ne.b-Q.b,ge=Z.b-ne.b;return 0<se+ge?(ne.a-Z.a)*se+(ne.a-Q.a)*ge:0}function y(Q,ne){return Q.a<ne.a||Q.a===ne.a&&Q.b<=ne.b}function c(Q,ne,Z){var se=ne.a-Q.a,ge=Z.a-ne.a;return 0<se+ge?se<ge?ne.b-Q.b+se/(se+ge)*(Q.b-Z.b):ne.b-Z.b+ge/(se+ge)*(Z.b-Q.b):0}function h(Q,ne,Z){var se=ne.a-Q.a,ge=Z.a-ne.a;return 0<se+ge?(ne.b-Z.b)*se+(ne.b-Q.b)*ge:0}function f(Q,ne,Z,se){return(Q=Q<0?0:Q)<=(Z=Z<0?0:Z)?Z===0?(ne+se)/2:ne+Q/(Q+Z)*(se-ne):se+Z/(Q+Z)*(ne-se)}function p(Q){var ne=x(Q.b);return E(ne,Q.c),E(ne.b,Q.c),M(ne,Q.a),ne}function m(Q,ne){var Z=!1,se=!1;Q!==ne&&(ne.a!==Q.a&&(se=!0,O(ne.a,Q.a)),ne.d!==Q.d&&(Z=!0,R(ne.d,Q.d)),j(ne,Q),se||(E(ne,Q.a),Q.a.c=Q),Z||(M(ne,Q.d),Q.d.a=Q))}function v(Q){var ne=Q.b,Z=!1;Q.d!==Q.b.d&&(Z=!0,R(Q.d,Q.b.d)),Q.c===Q?O(Q.a,null):(Q.b.d.a=Q.b.e,Q.a.c=Q.c,j(Q,Q.b.e),Z||M(Q,Q.d)),ne.c===ne?(O(ne.a,null),R(ne.d,null)):(Q.d.a=ne.b.e,ne.a.c=ne.c,j(ne,ne.b.e)),T(Q)}function _(Q){var ne=x(Q),Z=ne.b;return j(ne,Q.e),ne.a=Q.b.a,E(Z,ne.a),ne.d=Z.d=Q.d,ne=ne.b,j(Q.b,Q.b.b.e),j(Q.b,ne),Q.b.a=ne.a,ne.b.a.c=ne.b,ne.b.d=Q.b.d,ne.f=Q.f,ne.b.f=Q.b.f,ne}function g(Q,ne){var Z=!1,se=x(Q),ge=se.b;return ne.d!==Q.d&&(Z=!0,R(ne.d,Q.d)),j(se,Q.e),j(ge,ne),se.a=Q.b.a,ge.a=ne.a,se.d=ge.d=Q.d,Q.d.a=ge,Z||M(se,Q.d),se}function x(Q){var ne=new me,Z=new me,se=Q.b.h;return(((Z.h=se).b.h=ne).h=Q).b.h=Z,ne.b=Z,((ne.c=ne).e=Z).b=ne,(Z.c=Z).e=ne}function j(Q,ne){var Z=Q.c,se=ne.c;Z.b.e=ne,(se.b.e=Q).c=se,ne.c=Z}function E(Q,ne){var Z=ne.f,se=new ye(ne,Z);for(Z.e=se,Z=(ne.f=se).c=Q;Z.a=se,(Z=Z.c)!==Q;);}function M(Q,ne){var Z=ne.d,se=new le(ne,Z);for(Z.b=se,(ne.d=se).a=Q,se.c=ne.c,Z=Q;Z.d=se,(Z=Z.e)!==Q;);}function T(Q){var ne=Q.h;Q=Q.b.h,(ne.b.h=Q).b.h=ne}function O(Q,ne){for(var Z=Q.c,se=Z;se.a=ne,(se=se.c)!==Z;);Z=Q.f,((se=Q.e).f=Z).e=se}function R(Q,ne){for(var Z=Q.a,se=Z;se.d=ne,(se=se.e)!==Z;);Z=Q.d,((se=Q.b).d=Z).b=se}function k(Q){var ne=0;return Math.abs(Q[1])>Math.abs(Q[0])&&(ne=1),ne=Math.abs(Q[2])>Math.abs(Q[ne])?2:ne}function D(Q,ne){Q.f+=ne.f,Q.b.f+=ne.b.f}function L(Q,ne,Z){return Q=Q.a,ne=ne.a,Z=Z.a,ne.b.a===Q?Z.b.a===Q?s(ne.a,Z.a)?b(Z.b.a,ne.a,Z.a)<=0:0<=b(ne.b.a,Z.a,ne.a):b(Z.b.a,Q,Z.a)<=0:Z.b.a===Q?0<=b(ne.b.a,Q,ne.a):(ne=u(ne.b.a,Q,ne.a),(Q=u(Z.b.a,Q,Z.a))<=ne)}function B(Q){Q.a.i=null;var ne=Q.e;ne.a.c=ne.c,ne.c.a=ne.a,Q.e=null}function F(Q,ne){v(Q.a),Q.c=!1,(Q.a=ne).i=Q}function V(Q){for(var ne=Q.a.a;(Q=Se(Q)).a.a===ne;);return Q.c&&(F(Q,ne=g(Ae(Q).a.b,Q.a.e)),Q=Se(Q)),Q}function q(Q,ne,Z){var se=new _e;return se.a=Z,se.e=pe(Q.f,ne.e,se),Z.i=se}function G(Q,ne){switch(Q.s){case 100130:return(1&ne)!=0;case 100131:return ne!==0;case 100132:return 0<ne;case 100133:return ne<0;case 100134:return 2<=ne||ne<=-2}return!1}function W(Q){var ne=Q.a,Z=ne.d;Z.c=Q.d,Z.a=ne,B(Q)}function $(Q,ne,Z){for(ne=(Q=ne).a;Q!==Z;){Q.c=!1;var se=Ae(Q),ge=se.a;if(ge.a!==ne.a){if(!se.c){W(Q);break}F(se,ge=g(ne.c.b,ge.b))}ne.c!==ge&&(m(ge.b.e,ge),m(ne,ge)),W(Q),ne=se.a,Q=se}return ne}function K(Q,ne,Z,se,ge,we){for(var Pe=!0;q(Q,ne,Z.b),(Z=Z.c)!==se;);for(ge===null&&(ge=Ae(ne).a.b.c);(Z=(se=Ae(ne)).a.b).a===ge.a;)Z.c!==ge&&(m(Z.b.e,Z),m(ge.b.e,Z)),se.f=ne.f-Z.f,se.d=G(Q,se.f),ne.b=!0,!Pe&&z(Q,ne)&&(D(Z,ge),B(ne),v(ge)),Pe=!1,ne=se,ge=Z;ne.b=!0,we&&J(Q,ne)}function N(Q,ne,Z,se,ge){var we=[ne.g[0],ne.g[1],ne.g[2]];ne.d=null,ne.d=Q.o&&Q.o(we,Z,se,Q.c)||null,ne.d===null&&(ge?Q.n||(re(Q,100156),Q.n=!0):ne.d=Z[0])}function A(Q,ne,Z){var se=[null,null,null,null];se[0]=ne.a.d,se[1]=Z.a.d,N(Q,ne.a,se,[.5,.5,0,0],!1),m(ne,Z)}function I(Q,ne,Z,se,ge){var we=Math.abs(ne.b-Q.b)+Math.abs(ne.a-Q.a),Pe=Math.abs(Z.b-Q.b)+Math.abs(Z.a-Q.a),Ne=ge+1;se[ge]=.5*Pe/(we+Pe),se[Ne]=.5*we/(we+Pe),Q.g[0]+=se[ge]*ne.g[0]+se[Ne]*Z.g[0],Q.g[1]+=se[ge]*ne.g[1]+se[Ne]*Z.g[1],Q.g[2]+=se[ge]*ne.g[2]+se[Ne]*Z.g[2]}function z(Q,ne){var Z=Ae(ne),se=ne.a,ge=Z.a;if(s(se.a,ge.a)){if(0<b(ge.b.a,se.a,ge.a))return;if(o(se.a,ge.a)){if(se.a!==ge.a){var Z=Q.e,we=se.a.h;if(0<=we){var Pe=(Z=Z.b).d,Ne=Z.e,Ue=Z.c,Ge=Ue[we];Pe[Ge]=Pe[Z.a],(Ue[Pe[Ge]]=Ge)<=--Z.a&&(Ge<=1||s(Ne[Pe[Ge>>1]],Ne[Pe[Ge]])?qe:He)(Z,Ge),Ne[we]=null,Ue[we]=Z.b,Z.b=we}else for(Z.c[-(we+1)]=null;0<Z.a&&Z.c[Z.d[Z.a-1]]===null;)--Z.a;A(Q,ge.b.e,se)}}else _(ge.b),m(se,ge.b.e),ne.b=Z.b=!0}else{if(b(se.b.a,ge.a,se.a)<0)return;Se(ne).b=ne.b=!0,_(se.b),m(ge.b.e,se)}return 1}function Y(Q,ne){var Z=Ae(ne),se=ne.a,ge=Z.a,we=se.a,Pe=ge.a,Ne=se.b.a,Ue=ge.b.a,Ge=new ye;if(b(Ne,Q.a,we),b(Ue,Q.a,Pe),!(we===Pe||Math.min(we.a,Ne.a)>Math.max(Pe.a,Ue.a))){if(s(we,Pe)){if(0<b(Ue,we,Pe))return}else if(b(Ne,Pe,we)<0)return;var Xe,ot,nt=Ne,Ke=we,st=Ue,rt=Pe;if(s(nt,Ke)||(Xe=nt,nt=Ke,Ke=Xe),s(st,rt)||(Xe=st,st=rt,rt=Xe),s(nt,st)||(Xe=nt,nt=st,st=Xe,Xe=Ke,Ke=rt,rt=Xe),s(st,Ke)?s(Ke,rt)?((Xe=u(nt,st,Ke))+(ot=u(st,Ke,rt))<0&&(Xe=-Xe,ot=-ot),Ge.b=f(Xe,st.b,ot,Ke.b)):((Xe=b(nt,st,Ke))+(ot=-b(nt,rt,Ke))<0&&(Xe=-Xe,ot=-ot),Ge.b=f(Xe,st.b,ot,rt.b)):Ge.b=(st.b+Ke.b)/2,y(nt,Ke)||(Xe=nt,nt=Ke,Ke=Xe),y(st,rt)||(Xe=st,st=rt,rt=Xe),y(nt,st)||(Xe=nt,nt=st,st=Xe,Xe=Ke,Ke=rt,rt=Xe),y(st,Ke)?y(Ke,rt)?((Xe=c(nt,st,Ke))+(ot=c(st,Ke,rt))<0&&(Xe=-Xe,ot=-ot),Ge.a=f(Xe,st.a,ot,Ke.a)):((Xe=h(nt,st,Ke))+(ot=-h(nt,rt,Ke))<0&&(Xe=-Xe,ot=-ot),Ge.a=f(Xe,st.a,ot,rt.a)):Ge.a=(st.a+Ke.a)/2,s(Ge,Q.a)&&(Ge.b=Q.a.b,Ge.a=Q.a.a),nt=s(we,Pe)?we:Pe,s(nt,Ge)&&(Ge.b=nt.b,Ge.a=nt.a),o(Ge,we)||o(Ge,Pe))return z(Q,ne),0;if(!o(Ne,Q.a)&&0<=b(Ne,Q.a,Ge)||!o(Ue,Q.a)&&b(Ue,Q.a,Ge)<=0){if(Ue===Q.a)_(se.b),m(ge.b,se),se=Ae(ne=V(ne)).a,$(Q,Ae(ne),Z),K(Q,ne,se.b.e,se,se,!0);else{if(Ne!==Q.a)return 0<=b(Ne,Q.a,Ge)&&(Se(ne).b=ne.b=!0,_(se.b),se.a.b=Q.a.b,se.a.a=Q.a.a),void(b(Ue,Q.a,Ge)<=0&&(ne.b=Z.b=!0,_(ge.b),ge.a.b=Q.a.b,ge.a.a=Q.a.a));for(_(ge.b),m(se.e,ge.b.e),Pe=(we=Z=ne).a.b.a;(we=Se(we)).a.b.a===Pe;);we=Ae(ne=we).a.b.c,Z.a=ge.b.e,K(Q,ne,(ge=$(Q,Z,null)).c,se.b.c,we,!0)}return 1}_(se.b),_(ge.b),m(ge.b.e,se),se.a.b=Ge.b,se.a.a=Ge.a,se.a.h=Me(Q.e,se.a),se=se.a,ge=[0,0,0,0],Ge=[we.d,Ne.d,Pe.d,Ue.d],se.g[0]=se.g[1]=se.g[2]=0,I(se,we,Ne,ge,0),I(se,Pe,Ue,ge,2),N(Q,se,Ge,ge,!0),Se(ne).b=ne.b=Z.b=!0}}function J(Q,ne){for(var Z=Ae(ne);;){for(;Z.b;)Z=Ae(ne=Z);if(!ne.b&&((ne=Se(Z=ne))===null||!ne.b))break;ne.b=!1;var se=ne.a,ge=Z.a;if(we=se.b.a!==ge.b.a)e:{var we,Pe=Ae(we=ne),Ne=we.a,Ue=Pe.a,Ge=void 0;if(s(Ne.b.a,Ue.b.a)){if(b(Ne.b.a,Ue.b.a,Ne.a)<0){we=!1;break e}Se(we).b=we.b=!0,Ge=_(Ne),m(Ue.b,Ge),Ge.d.c=we.d}else{if(0<b(Ue.b.a,Ne.b.a,Ue.a)){we=!1;break e}we.b=Pe.b=!0,Ge=_(Ue),m(Ne.e,Ue.b),Ge.b.d.c=we.d}we=!0}if(we&&(Z.c?(B(Z),v(ge),ge=(Z=Ae(ne)).a):ne.c&&(B(ne),v(se),se=(ne=Se(Z)).a)),se.a!==ge.a){if(se.b.a===ge.b.a||ne.c||Z.c||se.b.a!==Q.a&&ge.b.a!==Q.a)z(Q,ne);else if(Y(Q,ne))break}se.a===ge.a&&se.b.a===ge.b.a&&(D(ge,se),B(ne),v(se),ne=Se(Z))}}function ee(Q,ne){var Z=new _e,se=p(Q.b);se.a.b=4e150,se.a.a=ne,se.b.a.b=-4e150,se.b.a.a=ne,Q.a=se.b.a,Z.a=se,Z.f=0,Z.d=!1,Z.c=!1,Z.h=!0,Z.b=!1,se=pe(se=Q.f,se.a,Z),Z.e=se}function ce(Q){this.a=new ie,this.b=Q,this.c=L}function pe(Q,ne,Z){for(;(ne=ne.c).b!==null&&!Q.c(Q.b,ne.b,Z););return Q=new ie(Z,ne.a,ne),ne.a.c=Q,ne.a=Q}function ie(Q,ne,Z){this.b=Q||null,this.a=ne||this,this.c=Z||this}function de(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ue(Q,ne){if(Q.d!==ne)for(;Q.d!==ne;)if(Q.d<ne)switch(Q.d){case 0:re(Q,100151),Q.u(null);break;case 1:re(Q,100152),Q.t()}else switch(Q.d){case 2:re(Q,100154),Q.v();break;case 1:re(Q,100153),Q.w()}}function re(Q,ne){Q.p&&Q.p(ne,Q.c)}function le(Q,ne){this.b=Q||this,this.d=ne||this,this.a=null,this.c=!1}function me(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function je(){this.c=new ye,this.a=new le,this.b=new me,this.d=new me,this.b.b=this.d,this.d.b=this.b}function ye(Q,ne){this.e=Q||this,this.f=ne||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ve(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ce}function Me(Q,ne){var Z,se,ge;return Q.e?(2*(se=++(Z=Q.b).a)>Z.f&&(Z.f*=2,Z.c=$e(Z.c,Z.f+1)),Z.b===0?ge=se:(ge=Z.b,Z.b=Z.c[Z.b]),Z.e[ge]=ne,Z.c[ge]=se,Z.d[se]=ge,Z.h&&He(Z,se),ge):(Z=Q.a++,Q.c[Z]=ne,-(Z+1))}function Fe(Q){if(Q.a===0)return ze(Q.b);var ne=Q.c[Q.d[Q.a-1]];if(Q.b.a!==0&&s(Ve(Q.b),ne))return ze(Q.b);for(;--Q.a,0<Q.a&&Q.c[Q.d[Q.a-1]]===null;);return ne}function Ce(){this.d=$e([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function $e(Q,ne){for(var Z=Array(ne),se=0;se<Q.length;se++)Z[se]=Q[se];for(;se<ne;se++)Z[se]=0;return Z}function Ve(Q){return Q.e[Q.d[1]]}function ze(Q){var ne=Q.d,Z=Q.e,se=Q.c,ge=ne[1],we=Z[ge];return 0<Q.a&&(ne[1]=ne[Q.a],se[ne[1]]=1,Z[ge]=null,se[ge]=Q.b,Q.b=ge,0<--Q.a&&qe(Q,1)),we}function qe(Q,ne){for(var Z=Q.d,se=Q.e,ge=Q.c,we=ne,Pe=Z[we];;){var Ne=we<<1,Ue=(Ne<Q.a&&s(se[Z[Ne+1]],se[Z[Ne]])&&(Ne+=1),Z[Ne]);if(Ne>Q.a||s(se[Pe],se[Ue])){ge[Z[we]=Pe]=we;break}ge[Z[we]=Ue]=we,we=Ne}}function He(Q,ne){for(var Z=Q.d,se=Q.e,ge=Q.c,we=ne,Pe=Z[we];;){var Ne=we>>1,Ue=Z[Ne];if(Ne==0||s(se[Ue],se[Pe])){ge[Z[we]=Pe]=we;break}ge[Z[we]=Ue]=we,we=Ne}}function _e(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ae(Q){return Q.e.c.b}function Se(Q){return Q.e.a.b}(n=de.prototype).x=function(){ue(this,0)},n.B=function(Q,ne){switch(Q){case 100142:return;case 100140:switch(ne){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ne)}break;case 100141:return void(this.m=!!ne);default:return void re(this,100900)}re(this,100901)},n.y=function(Q){switch(Q){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:re(this,100900)}return!1},n.A=function(Q,ne,Z){this.j[0]=Q,this.j[1]=ne,this.j[2]=Z},n.z=function(Q,ne){var Z=ne||null;switch(Q){case 100100:case 100106:this.h=Z;break;case 100104:case 100110:this.l=Z;break;case 100101:case 100107:this.k=Z;break;case 100102:case 100108:this.i=Z;break;case 100103:case 100109:this.p=Z;break;case 100105:case 100111:this.o=Z;break;case 100112:this.r=Z;break;default:re(this,100900)}},n.C=function(Q,ne){var Z=!1,se=[0,0,0];ue(this,2);for(var ge=0;ge<3;++ge){var we=Q[ge];we<-1e150&&(we=-1e150,Z=!0),1e150<we&&(we=1e150,Z=!0),se[ge]=we}Z&&re(this,100155),(Z=this.q)===null?m(Z=p(this.b),Z.b):(_(Z),Z=Z.e),Z.a.d=ne,Z.a.g[0]=se[0],Z.a.g[1]=se[1],Z.a.g[2]=se[2],Z.f=1,Z.b.f=-1,this.q=Z},n.u=function(Q){ue(this,0),this.d=1,this.b=new je,this.c=Q},n.t=function(){ue(this,1),this.d=2,this.q=null},n.v=function(){ue(this,2),this.d=1},n.w=function(){ue(this,1),this.d=0;var Q,ne,Z=this.j[0],se=this.j[1],ge=this.j[2],we=!1,Pe=[Z,se,ge];if(Z===0&&se===0&&ge===0){for(var se=[-2e150,-2e150,-2e150],Ne=[2e150,2e150,2e150],ge=[],Ue=[],Z=(we=this.b.c).e;Z!==we;Z=Z.e)for(var Ge=0;Ge<3;++Ge){var Xe=Z.g[Ge];Xe<Ne[Ge]&&(Ne[Ge]=Xe,Ue[Ge]=Z),Xe>se[Ge]&&(se[Ge]=Xe,ge[Ge]=Z)}if(se[1]-Ne[1]>se[Z=0]-Ne[0]&&(Z=1),Ne[Z=se[2]-Ne[2]>se[Z]-Ne[Z]?2:Z]>=se[Z])Pe[0]=0,Pe[1]=0,Pe[2]=1;else{for(Ne=Ue[Z],ge=ge[Z],Ue=[se=0,0,0],Ne=[Ne.g[0]-ge.g[0],Ne.g[1]-ge.g[1],Ne.g[2]-ge.g[2]],Ge=[0,0,0],Z=we.e;Z!==we;Z=Z.e)Ge[0]=Z.g[0]-ge.g[0],Ge[1]=Z.g[1]-ge.g[1],Ge[2]=Z.g[2]-ge.g[2],Ue[0]=Ne[1]*Ge[2]-Ne[2]*Ge[1],Ue[1]=Ne[2]*Ge[0]-Ne[0]*Ge[2],Ue[2]=Ne[0]*Ge[1]-Ne[1]*Ge[0],se<(Xe=Ue[0]*Ue[0]+Ue[1]*Ue[1]+Ue[2]*Ue[2])&&(se=Xe,Pe[0]=Ue[0],Pe[1]=Ue[1],Pe[2]=Ue[2]);se<=0&&(Pe[0]=Pe[1]=Pe[2]=0,Pe[k(Ne)]=1)}we=!0}for(Ue=k(Pe),Z=this.b.c,se=(Ue+1)%3,ge=(Ue+2)%3,Ue=0<Pe[Ue]?1:-1,Pe=Z.e;Pe!==Z;Pe=Pe.e)Pe.b=Pe.g[se],Pe.a=Ue*Pe.g[ge];if(we){for(Pe=0,Z=(we=this.b.a).b;Z!==we;Z=Z.b)if(!((se=Z.a).f<=0))for(;Pe+=(se.a.b-se.b.a.b)*(se.a.a+se.b.a.a),(se=se.e)!==Z.a;);if(Pe<0)for(we=(Pe=this.b.c).e;we!==Pe;we=we.e)we.a=-we.a}for(this.n=!1,Pe=this.b.b,Z=Pe.h;Z!==Pe;Z=we)we=Z.h,se=Z.e,o(Z.a,Z.b.a)&&Z.e.e!==Z&&(A(this,se,Z),v(Z),se=(Z=se).e),se.e===Z&&(se!==Z&&(se!==we&&se!==we.b||(we=we.h),v(se)),Z!==we&&Z!==we.b||(we=we.h),v(Z));for(this.e=Pe=new ve,we=this.b.c,Z=we.e;Z!==we;Z=Z.e)Z.h=Me(Pe,Z);var ot=Pe;ot.d=[];for(var nt=0;nt<ot.a;nt++)ot.d[nt]=nt;ot.d.sort(function(rt){return function(xt,Kt){return s(rt[xt],rt[Kt])?1:-1}}(ot.c)),ot.e=!0;for(var Ke=ot.b,st=Ke.a;1<=st;--st)qe(Ke,st);for(Ke.h=!0,this.f=new ce(this),ee(this,-4e150),ee(this,4e150);(Pe=Fe(this.e))!==null;){for(;;){e:if((Z=this.e).a===0)we=Ve(Z.b);else if(we=Z.c[Z.d[Z.a-1]],Z.b.a!==0&&s(Z=Ve(Z.b),we)){we=Z;break e}if(we===null||!o(we,Pe))break;we=Fe(this.e),A(this,Pe.c,we.c)}(function rt(xt,Kt){for(var Nt,mt=(xt.a=Kt).c;mt.i===null;)if((mt=mt.c)===Kt.c){var mt=xt,St=Kt;(bt=new _e).a=St.c.b;for(var Zt=(ht=mt.f).a;(Zt=Zt.a).b!==null&&!ht.c(ht.b,bt,Zt.b););var ht,Yt,zt=Ae(ht=Zt.b),bt=ht.a,Zt=zt.a;return void(b(bt.b.a,St,bt.a)===0?o((bt=ht.a).a,St)||o(bt.b.a,St)||(_(bt.b),ht.c&&(v(bt.c),ht.c=!1),m(St.c,bt),rt(mt,St)):(Yt=s(Zt.b.a,bt.b.a)?ht:zt,zt=void 0,ht.d||Yt.c?(zt=Yt===ht?g(St.c.b,bt.e):g(Zt.b.c.b,St.c).b,Yt.c?F(Yt,zt):((ht=q(bt=mt,ht,zt)).f=Se(ht).f+ht.a.f,ht.d=G(bt,ht.f)),rt(mt,St)):K(mt,ht,St.c,St.c,null,!0)))}ht=(bt=Ae(mt=V(mt.i))).a,(bt=$(xt,bt,null)).c===ht?(bt=(ht=bt).c,Zt=Ae(mt),zt=mt.a,Yt=Zt.a,Nt=!1,zt.b.a!==Yt.b.a&&Y(xt,mt),o(zt.a,xt.a)&&(m(bt.b.e,zt),bt=Ae(mt=V(mt)).a,$(xt,Ae(mt),Zt),Nt=!0),o(Yt.a,xt.a)&&(m(ht,Yt.b.e),ht=$(xt,Zt,null),Nt=!0),Nt?K(xt,mt,ht.c,bt,bt,!0):(St=s(Yt.a,zt.a)?Yt.b.e:zt,K(xt,mt,St=g(ht.c.b,St),St.c,St.c,!1),St.b.i.c=!0,J(xt,mt))):K(xt,mt,bt.c,ht,ht,!0)})(this,Pe)}for(this.a=this.f.a.a.b.a.a,Pe=0;(we=this.f.a.a.b)!==null;)we.h||++Pe,B(we);for(this.f=null,(Pe=this.e).b=null,Pe.d=null,this.e=Pe.c=null,Pe=this.b,Z=Pe.a.b;Z!==Pe.a;Z=we)we=Z.b,(Z=Z.a).e.e===Z&&(D(Z.c,Z),v(Z));if(!this.n){if(Pe=this.b,this.m)for(Z=Pe.b.h;Z!==Pe.b;Z=we)we=Z.h,Z.b.d.c!==Z.d.c?Z.f=Z.d.c?1:-1:v(Z);else for(Z=Pe.a.b;Z!==Pe.a;Z=we)if(we=Z.b,Z.c){for(Z=Z.a;s(Z.b.a,Z.a);Z=Z.c.b);for(;s(Z.a,Z.b.a);Z=Z.e);for(se=Z.c.b,ge=void 0;Z.e!==se;)if(s(Z.b.a,se.a)){for(;se.e!==Z&&(s((ne=se.e).b.a,ne.a)||b(se.a,se.b.a,se.e.b.a)<=0);)se=(ge=g(se.e,se)).b;se=se.c.b}else{for(;se.e!==Z&&(s((Q=Z.c.b).a,Q.b.a)||0<=b(Z.b.a,Z.a,Z.c.b.a));)Z=(ge=g(Z,Z.c.b)).b;Z=Z.e}for(;se.e.e!==Z;)ge=g(se.e,se),se=ge.b}if(this.h||this.i||this.k||this.l)if(this.m){for(we=(Pe=this.b).a.b;we!==Pe.a;we=we.b)if(we.c){for(this.h&&this.h(2,this.c),Z=we.a;this.k&&this.k(Z.a.d,this.c),(Z=Z.e)!==we.a;);this.i&&this.i(this.c)}}else{for(Pe=this.b,we=!!this.l,Z=!1,se=-1,ge=Pe.a.d;ge!==Pe.a;ge=ge.d)if(ge.c)for(Z||(this.h&&this.h(4,this.c),Z=!0),Ue=ge.a;we&&(Ne=Ue.b.d.c?0:1,se!==Ne&&(se=Ne,this.l&&this.l(!!se,this.c))),this.k&&this.k(Ue.a.d,this.c),(Ue=Ue.e)!==ge.a;);Z&&this.i&&this.i(this.c)}if(this.r){for(Pe=this.b,Z=Pe.a.b;Z!==Pe.a;Z=we)if(we=Z.b,!Z.c){for(ge=(se=Z.a).e,Ue=void 0;ge=(Ue=ge).e,(Ue.d=null)===Ue.b.d&&(Ue.c===Ue?O(Ue.a,null):(Ue.a.c=Ue.c,j(Ue,Ue.b.e)),(Ne=Ue.b).c===Ne?O(Ne.a,null):(Ne.a.c=Ne.c,j(Ne,Ne.b.e)),T(Ue)),Ue!==se;);se=Z.d,((Z=Z.b).d=se).b=Z}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:de,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},de.prototype.gluDeleteTess=de.prototype.x,de.prototype.gluTessProperty=de.prototype.B,de.prototype.gluGetTessProperty=de.prototype.y,de.prototype.gluTessNormal=de.prototype.A,de.prototype.gluTessCallback=de.prototype.z,de.prototype.gluTessVertex=de.prototype.C,de.prototype.gluTessBeginPolygon=de.prototype.u,de.prototype.gluTessBeginContour=de.prototype.t,de.prototype.gluTessEndContour=de.prototype.v,de.prototype.gluTessEndPolygon=de.prototype.w,d!==void 0&&(d.exports=this.libtess)},{}],248:[function(t,d,a){function n(s,u,b,y){var c=0,h=(y=y===void 0?{}:y).loop===void 0?null:y.loop,f=y.palette===void 0?null:y.palette;if(u<=0||b<=0||65535<u||65535<b)throw new Error("Width/Height invalid.");function p(M){if(M=M.length,M<2||256<M||M&M-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return M}s[c++]=71,s[c++]=73,s[c++]=70,s[c++]=56,s[c++]=57,s[c++]=97;var m=0,v=0;if(f!==null){for(var _=p(f);_>>=1;)++m;if(_=1<<m,--m,y.background!==void 0){if(_<=(v=y.background))throw new Error("Background index out of range.");if(v===0)throw new Error("Background index explicitly passed as 0.")}}if(s[c++]=255&u,s[c++]=u>>8&255,s[c++]=255&b,s[c++]=b>>8&255,s[c++]=(f!==null?128:0)|m,s[c++]=v,s[c++]=0,f!==null)for(var g=0,x=f.length;g<x;++g){var j=f[g];s[c++]=j>>16&255,s[c++]=j>>8&255,s[c++]=255&j}if(h!==null){if(h<0||65535<h)throw new Error("Loop count invalid.");s[c++]=33,s[c++]=255,s[c++]=11,s[c++]=78,s[c++]=69,s[c++]=84,s[c++]=83,s[c++]=67,s[c++]=65,s[c++]=80,s[c++]=69,s[c++]=50,s[c++]=46,s[c++]=48,s[c++]=3,s[c++]=1,s[c++]=255&h,s[c++]=h>>8&255,s[c++]=0}var E=!1;this.addFrame=function(M,T,O,R,k,D){if(E===!0&&(--c,E=!1),D=D===void 0?{}:D,M<0||T<0||65535<M||65535<T)throw new Error("x/y invalid.");if(O<=0||R<=0||65535<O||65535<R)throw new Error("Width/Height invalid.");if(k.length<O*R)throw new Error("Not enough pixels for the frame size.");var L=!0,B=D.palette;if(B==null&&(L=!1,B=f),B==null)throw new Error("Must supply either a local or global palette.");for(var V=p(B),F=0;V>>=1;)++F;var V=1<<F,q=D.delay===void 0?0:D.delay,G=D.disposal===void 0?0:D.disposal;if(G<0||3<G)throw new Error("Disposal out of range.");var W=!1,$=0;if(D.transparent!==void 0&&D.transparent!==null&&(W=!0,($=D.transparent)<0||V<=$))throw new Error("Transparent color index.");if(G===0&&!W&&q===0||(s[c++]=33,s[c++]=249,s[c++]=4,s[c++]=G<<2|(W===!0?1:0),s[c++]=255&q,s[c++]=q>>8&255,s[c++]=$,s[c++]=0),s[c++]=44,s[c++]=255&M,s[c++]=M>>8&255,s[c++]=255&T,s[c++]=T>>8&255,s[c++]=255&O,s[c++]=O>>8&255,s[c++]=255&R,s[c++]=R>>8&255,s[c++]=L===!0?128|F-1:0,L===!0)for(var K=0,N=B.length;K<N;++K){var A=B[K];s[c++]=A>>16&255,s[c++]=A>>8&255,s[c++]=255&A}return c=function(I,z,Y,J){I[z++]=Y;var ee=z++,ce=1<<Y,pe=ce-1,ie=1+ce,de=1+ie,ue=Y+1,re=0,le=0;function me(ze){for(;ze<=re;)I[z++]=255&le,le>>=8,re-=8,z===ee+256&&(I[ee]=255,ee=z++)}function je(ze){le|=ze<<re,re+=ue,me(8)}var ye=J[0]&pe,ve={};je(ce);for(var Me=1,Fe=J.length;Me<Fe;++Me){var Ce=J[Me]&pe,$e=ye<<8|Ce,Ve=ve[$e];if(Ve===void 0){for(le|=ye<<re,re+=ue;8<=re;)I[z++]=255&le,le>>=8,re-=8,z===ee+256&&(I[ee]=255,ee=z++);de===4096?(je(ce),de=1+ie,ue=Y+1,ve={}):(1<<ue<=de&&++ue,ve[$e]=de++),ye=Ce}else ye=Ve}return je(ye),je(ie),me(1),ee+1===z?I[ee]=0:(I[ee]=z-ee-1,I[z++]=0),z}(s,c,F<2?2:F,k)},this.end=function(){return E===!1&&(s[c++]=59,E=!0),c},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(M){s=M},this.getOutputBufferPosition=function(){return c},this.setOutputBufferPosition=function(M){c=M}}function o(s,u,b,y){for(var c=s[u++],h=1<<c,f=1+h,p=1+f,m=c+1,v=(1<<m)-1,_=0,g=0,x=0,j=s[u++],E=new Int32Array(4096),M=null;;){for(;_<16&&j!==0;)g|=s[u++]<<_,_+=8,j===1?j=s[u++]:--j;if(_<m)break;var T=g&v;if(g>>=m,_-=m,T==h)p=1+f,v=(1<<(m=c+1))-1,M=null;else{if(T==f)break;for(var O=T<p?T:M,R=0,k=O;h<k;)k=E[k]>>8,++R;var D=k;if(y<x+R+(O!==T?1:0))return void console.log("Warning, gif stream longer than expected.");b[x++]=D;var L=x+=R;for(O!==T&&(b[x++]=D),k=O;R--;)k=E[k],b[--L]=255&k,k>>=8;M!==null&&p<4096&&(E[p++]=M<<8|D,v+1<=p&&m<12&&(++m,v=v<<1|1)),M=T}}x!==y&&console.log("Warning, gif stream shorter than expected.")}try{a.GifWriter=n,a.GifReader=function(s){var u=0;if(s[u++]!==71||s[u++]!==73||s[u++]!==70||s[u++]!==56||(s[u++]+1&253)!=56||s[u++]!==97)throw new Error("Invalid GIF 87a/89a header.");var b=s[u++]|s[u++]<<8,y=s[u++]|s[u++]<<8,c=s[u++],h=1<<1+(7&c),f=(s[u++],s[u++],null),p=null,m=(c>>7&&(f=u,u+=3*(p=h)),!0),v=[],_=0,g=null,x=0,j=null;for(this.width=b,this.height=y;m&&u<s.length;)switch(s[u++]){case 33:switch(s[u++]){case 255:if(s[u]!==11||s[u+1]==78&&s[u+2]==69&&s[u+3]==84&&s[u+4]==83&&s[u+5]==67&&s[u+6]==65&&s[u+7]==80&&s[u+8]==69&&s[u+9]==50&&s[u+10]==46&&s[u+11]==48&&s[u+12]==3&&s[u+13]==1&&s[u+16]==0)u+=14,j=s[u++]|s[u++]<<8,u++;else for(u+=12;;){if(!(0<=(M=s[u++])))throw Error("Invalid block size");if(M===0)break;u+=M}break;case 249:if(s[u++]!==4||s[u+4]!==0)throw new Error("Invalid graphics extension block.");var E=s[u++],_=s[u++]|s[u++]<<8,g=s[u++];!(1&E)&&(g=null),x=E>>2&7,u++;break;case 254:for(;;){if(!(0<=(M=s[u++])))throw Error("Invalid block size");if(M===0)break;u+=M}break;default:throw new Error("Unknown graphic control label: 0x"+s[u-1].toString(16))}break;case 44:var M,T=s[u++]|s[u++]<<8,O=s[u++]|s[u++]<<8,R=s[u++]|s[u++]<<8,k=s[u++]|s[u++]<<8,q=s[u++],D=q>>6&1,L=1<<1+(7&q),B=f,F=p,V=!1,q=(q>>7&&(V=!0,B=u,u+=3*(F=L)),u);for(u++;;){if(!(0<=(M=s[u++])))throw Error("Invalid block size");if(M===0)break;u+=M}v.push({x:T,y:O,width:R,height:k,has_local_palette:V,palette_offset:B,palette_size:F,data_offset:q,data_length:u-q,transparent_index:g,interlaced:!!D,delay:_,disposal:x});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+s[u-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return j},this.frameInfo=function(G){if(G<0||G>=v.length)throw new Error("Frame index out of range.");return v[G]},this.decodeAndBlitFrameBGRA=function(G,W){for(var G=this.frameInfo(G),$=G.width*G.height,K=new Uint8Array($),N=(o(s,G.data_offset,K,$),G.palette_offset),A=G.transparent_index,I=(A===null&&(A=256),G.width),z=b-I,Y=I,J=4*(G.y*b+G.x),ee=4*((G.y+G.height)*b+G.x),ce=J,pe=4*z,ie=(G.interlaced===!0&&(pe+=4*b*7),8),de=0,ue=K.length;de<ue;++de){var re,le,me=K[de];Y===0&&(Y=I,ee<=(ce+=pe)&&(pe=4*z+4*b*(ie-1),ce=J+(I+z)*(ie<<1),ie>>=1)),me===A?ce+=4:(re=s[N+3*me],le=s[N+3*me+1],me=s[N+3*me+2],W[ce++]=me,W[ce++]=le,W[ce++]=re,W[ce++]=255),--Y}},this.decodeAndBlitFrameRGBA=function(G,W){for(var G=this.frameInfo(G),$=G.width*G.height,K=new Uint8Array($),N=(o(s,G.data_offset,K,$),G.palette_offset),A=G.transparent_index,I=(A===null&&(A=256),G.width),z=b-I,Y=I,J=4*(G.y*b+G.x),ee=4*((G.y+G.height)*b+G.x),ce=J,pe=4*z,ie=(G.interlaced===!0&&(pe+=4*b*7),8),de=0,ue=K.length;de<ue;++de){var re,le,me=K[de];Y===0&&(Y=I,ee<=(ce+=pe)&&(pe=4*z+4*b*(ie-1),ce=J+(I+z)*(ie<<1),ie>>=1)),me===A?ce+=4:(re=s[N+3*me],le=s[N+3*me+1],me=s[N+3*me+2],W[ce++]=re,W[ce++]=le,W[ce++]=me,W[ce++]=255),--Y}}}}catch{}},{}],249:[function(t,d,a){(function(n){var o,s;o=this,s=function(u){function b(U){if(this==null)throw TypeError();var S,C=String(this),P=C.length,U=U?Number(U):0;if(!((U=U!=U?0:U)<0||P<=U))return 55296<=(S=C.charCodeAt(U))&&S<=56319&&U+1<P&&56320<=(P=C.charCodeAt(U+1))&&P<=57343?1024*(S-55296)+P-56320+65536:S}String.prototype.codePointAt||((y=function(){try{var w={},S=Object.defineProperty,C=S(w,w,w)&&S}catch{}return C}())?y(String.prototype,"codePointAt",{value:b,configurable:!0,writable:!0}):String.prototype.codePointAt=b);var y,c=0,h=-3;function f(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function p(w,S){this.source=w,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=S,this.destLen=0,this.ltree=new f,this.dtree=new f}var m=new f,v=new f,_=new Uint8Array(30),g=new Uint16Array(30),x=new Uint8Array(30),j=new Uint16Array(30),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new f,T=new Uint8Array(320);function O(w,S,C,P){for(var U,H=0;H<C;++H)w[H]=0;for(H=0;H<30-C;++H)w[H+C]=H/C|0;for(U=P,H=0;H<30;++H)S[H]=U,U+=1<<w[H]}var R=new Uint16Array(16);function k(w,S,C,P){for(var U,H=0;H<16;++H)w.table[H]=0;for(H=0;H<P;++H)w.table[S[C+H]]++;for(H=U=w.table[0]=0;H<16;++H)R[H]=U,U+=w.table[H];for(H=0;H<P;++H)S[C+H]&&(w.trans[R[S[C+H]]++]=H)}function D(w,S,C){if(!S)return C;for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;var P=w.tag&65535>>>16-S;return w.tag>>>=S,w.bitcount-=S,P+C}function L(w,S){for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;for(var C=0,P=0,U=0,H=w.tag;P=2*P+(1&H),H>>>=1,C+=S.table[++U],0<=(P-=S.table[U]););return w.tag=H,w.bitcount-=U,S.trans[C+P]}function B(w,S,C){for(;;){var P=L(w,S);if(P===256)return c;if(P<256)w.dest[w.destLen++]=P;else for(var U,H=D(w,_[P-=257],g[P]),P=L(w,C),X=U=w.destLen-D(w,x[P],j[P]);X<U+H;++X)w.dest[w.destLen++]=w.dest[X]}}for(var F=m,V=v,q=0;q<7;++q)F.table[q]=0;for(F.table[7]=24,F.table[8]=152,F.table[9]=112,q=0;q<24;++q)F.trans[q]=256+q;for(q=0;q<144;++q)F.trans[24+q]=q;for(q=0;q<8;++q)F.trans[168+q]=280+q;for(q=0;q<112;++q)F.trans[176+q]=144+q;for(q=0;q<5;++q)V.table[q]=0;for(V.table[5]=32,q=0;q<32;++q)V.trans[q]=q;O(_,g,4,3),O(x,j,2,1),_[28]=0,g[28]=258;var G=function(w,S){var C,P,U,H=new p(w,S);do{switch(U=void 0,(P=H).bitcount--||(P.tag=P.source[P.sourceIndex++],P.bitcount=7),U=1&P.tag,P.tag>>>=1,P=U,D(H,2,0)){case 0:C=function(ke){for(var Je,it;8<ke.bitcount;)ke.sourceIndex--,ke.bitcount-=8;if((Je=256*ke.source[ke.sourceIndex+1]+ke.source[ke.sourceIndex])!==(65535&~(256*ke.source[ke.sourceIndex+3]+ke.source[ke.sourceIndex+2])))return h;for(ke.sourceIndex+=4,it=Je;it;--it)ke.dest[ke.destLen++]=ke.source[ke.sourceIndex++];return ke.bitcount=0,c}(H);break;case 1:C=B(H,m,v);break;case 2:Le=Oe=Re=Ee=X=he=xe=Te=be=oe=ae=te=void 0;for(var X,te=H,ae=H.ltree,oe=H.dtree,be=D(te,5,257),Te=D(te,5,1),xe=D(te,4,4),he=0;he<19;++he)T[he]=0;for(he=0;he<xe;++he){var Re=D(te,3,0);T[E[he]]=Re}for(k(M,T,0,19),X=0;X<be+Te;){var Oe=L(te,M);switch(Oe){case 16:for(var Le=T[X-1],Ee=D(te,2,3);Ee;--Ee)T[X++]=Le;break;case 17:for(Ee=D(te,3,3);Ee;--Ee)T[X++]=0;break;case 18:for(Ee=D(te,7,11);Ee;--Ee)T[X++]=0;break;default:T[X++]=Oe}}k(ae,T,0,be),k(oe,T,be,Te),C=B(H,H.ltree,H.dtree);break;default:C=h}if(C!==c)throw new Error("Data error")}while(!P);return H.destLen<H.dest.length?typeof H.dest.slice=="function"?H.dest.slice(0,H.destLen):H.dest.subarray(0,H.destLen):H.dest};function W(w,S,C,P,U){return Math.pow(1-U,3)*w+3*Math.pow(1-U,2)*U*S+3*(1-U)*Math.pow(U,2)*C+Math.pow(U,3)*P}function $(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function K(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function N(w){throw new Error(w)}function A(w,S){w||N(S)}$.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},$.prototype.addPoint=function(w,S){typeof w=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=w,this.x2=w),w<this.x1&&(this.x1=w),w>this.x2&&(this.x2=w)),typeof S=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=S,this.y2=S),S<this.y1&&(this.y1=S),S>this.y2&&(this.y2=S))},$.prototype.addX=function(w){this.addPoint(w,null)},$.prototype.addY=function(w){this.addPoint(null,w)},$.prototype.addBezier=function(w,S,C,P,U,H,X,te){var ae=[w,S],oe=[C,P],be=[U,H],Te=[X,te];this.addPoint(w,S),this.addPoint(X,te);for(var xe=0;xe<=1;xe++){var he,Re=6*ae[xe]-12*oe[xe]+6*be[xe],Oe=-3*ae[xe]+9*oe[xe]-9*be[xe]+3*Te[xe],Le=3*oe[xe]-3*ae[xe];Oe==0?Re==0||0<(he=-Le/Re)&&he<1&&(xe===0&&this.addX(W(ae[xe],oe[xe],be[xe],Te[xe],he)),xe===1&&this.addY(W(ae[xe],oe[xe],be[xe],Te[xe],he))):(he=Math.pow(Re,2)-4*Le*Oe)<0||(0<(Le=(-Re+Math.sqrt(he))/(2*Oe))&&Le<1&&(xe===0&&this.addX(W(ae[xe],oe[xe],be[xe],Te[xe],Le)),xe===1&&this.addY(W(ae[xe],oe[xe],be[xe],Te[xe],Le))),0<(Le=(-Re-Math.sqrt(he))/(2*Oe))&&Le<1&&(xe===0&&this.addX(W(ae[xe],oe[xe],be[xe],Te[xe],Le)),xe===1&&this.addY(W(ae[xe],oe[xe],be[xe],Te[xe],Le))))}},$.prototype.addQuad=function(w,S,C,P,U,H){C=w+2/3*(C-w),P=S+2/3*(P-S),this.addBezier(w,S,C,P,C+1/3*(U-w),P+1/3*(H-S),U,H)},K.prototype.moveTo=function(w,S){this.commands.push({type:"M",x:w,y:S})},K.prototype.lineTo=function(w,S){this.commands.push({type:"L",x:w,y:S})},K.prototype.curveTo=K.prototype.bezierCurveTo=function(w,S,C,P,U,H){this.commands.push({type:"C",x1:w,y1:S,x2:C,y2:P,x:U,y:H})},K.prototype.quadTo=K.prototype.quadraticCurveTo=function(w,S,C,P){this.commands.push({type:"Q",x1:w,y1:S,x:C,y:P})},K.prototype.close=K.prototype.closePath=function(){this.commands.push({type:"Z"})},K.prototype.extend=function(w){var S;if(w.commands)w=w.commands;else if(w instanceof $)return S=w,this.moveTo(S.x1,S.y1),this.lineTo(S.x2,S.y1),this.lineTo(S.x2,S.y2),this.lineTo(S.x1,S.y2),void this.close();Array.prototype.push.apply(this.commands,w)},K.prototype.getBoundingBox=function(){for(var w=new $,S=0,C=0,P=0,U=0,H=0;H<this.commands.length;H++){var X=this.commands[H];switch(X.type){case"M":w.addPoint(X.x,X.y),S=P=X.x,C=U=X.y;break;case"L":w.addPoint(X.x,X.y),P=X.x,U=X.y;break;case"Q":w.addQuad(P,U,X.x1,X.y1,X.x,X.y),P=X.x,U=X.y;break;case"C":w.addBezier(P,U,X.x1,X.y1,X.x2,X.y2,X.x,X.y),P=X.x,U=X.y;break;case"Z":P=S,U=C;break;default:throw new Error("Unexpected path command "+X.type)}}return w.isEmpty()&&w.addPoint(0,0),w},K.prototype.draw=function(w){w.beginPath();for(var S=0;S<this.commands.length;S+=1){var C=this.commands[S];C.type==="M"?w.moveTo(C.x,C.y):C.type==="L"?w.lineTo(C.x,C.y):C.type==="C"?w.bezierCurveTo(C.x1,C.y1,C.x2,C.y2,C.x,C.y):C.type==="Q"?w.quadraticCurveTo(C.x1,C.y1,C.x,C.y):C.type==="Z"&&w.closePath()}this.fill&&(w.fillStyle=this.fill,w.fill()),this.stroke&&(w.strokeStyle=this.stroke,w.lineWidth=this.strokeWidth,w.stroke())},K.prototype.toPathData=function(w){function S(){for(var H=arguments,X="",te=0;te<arguments.length;te+=1){var ae=H[te];0<=ae&&0<te&&(X+=" "),X+=(ae=ae,Math.round(ae)===ae?""+Math.round(ae):ae.toFixed(w))}return X}w=w!==void 0?w:2;for(var C="",P=0;P<this.commands.length;P+=1){var U=this.commands[P];U.type==="M"?C+="M"+S(U.x,U.y):U.type==="L"?C+="L"+S(U.x,U.y):U.type==="C"?C+="C"+S(U.x1,U.y1,U.x2,U.y2,U.x,U.y):U.type==="Q"?C+="Q"+S(U.x1,U.y1,U.x,U.y):U.type==="Z"&&(C+="Z")}return C},K.prototype.toSVG=function(w){var S=(S='<path d="')+this.toPathData(w)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?S+=' fill="none"':S+=' fill="'+this.fill+'"'),this.stroke&&(S+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),S+="/>"},K.prototype.toDOMElement=function(S){var S=this.toPathData(S),C=document.createElementNS("http://www.w3.org/2000/svg","path");return C.setAttribute("d",S),C};var I={fail:N,argument:A,assert:A},z={},Y={},J={};function ee(w){return function(){return w}}Y.BYTE=function(w){return I.argument(0<=w&&w<=255,"Byte value should be between 0 and 255."),[w]},J.BYTE=ee(1),Y.CHAR=function(w){return[w.charCodeAt(0)]},J.CHAR=ee(1),Y.CHARARRAY=function(w){for(var S=[],C=0;C<w.length;C+=1)S[C]=w.charCodeAt(C);return S},J.CHARARRAY=function(w){return w.length},Y.USHORT=function(w){return[w>>8&255,255&w]},J.USHORT=ee(2),Y.SHORT=function(w){return[(w=32768<=w?-(65536-w):w)>>8&255,255&w]},J.SHORT=ee(2),Y.UINT24=function(w){return[w>>16&255,w>>8&255,255&w]},J.UINT24=ee(3),Y.ULONG=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},J.ULONG=ee(4),Y.LONG=function(w){return[(w=2147483648<=w?-(4294967296-w):w)>>24&255,w>>16&255,w>>8&255,255&w]},J.LONG=ee(4),Y.FIXED=Y.ULONG,J.FIXED=J.ULONG,Y.FWORD=Y.SHORT,J.FWORD=J.SHORT,Y.UFWORD=Y.USHORT,J.UFWORD=J.USHORT,Y.LONGDATETIME=function(w){return[0,0,0,0,w>>24&255,w>>16&255,w>>8&255,255&w]},J.LONGDATETIME=ee(8),Y.TAG=function(w){return I.argument(w.length===4,"Tag should be exactly 4 ASCII characters."),[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]},J.TAG=ee(4),Y.Card8=Y.BYTE,J.Card8=J.BYTE,Y.Card16=Y.USHORT,J.Card16=J.USHORT,Y.OffSize=Y.BYTE,J.OffSize=J.BYTE,Y.SID=Y.USHORT,J.SID=J.USHORT,Y.NUMBER=function(w){return-107<=w&&w<=107?[w+139]:108<=w&&w<=1131?[247+((w-=108)>>8),255&w]:-1131<=w&&w<=-108?[251+((w=-w-108)>>8),255&w]:-32768<=w&&w<=32767?Y.NUMBER16(w):Y.NUMBER32(w)},J.NUMBER=function(w){return Y.NUMBER(w).length},Y.NUMBER16=function(w){return[28,w>>8&255,255&w]},J.NUMBER16=ee(3),Y.NUMBER32=function(w){return[29,w>>24&255,w>>16&255,w>>8&255,255&w]},J.NUMBER32=ee(5),Y.REAL=function(w){for(var S=w.toString(),C=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(S),P=(C&&(C=parseFloat("1e"+((C[2]?+C[2]:0)+C[1].length)),S=(Math.round(w*C)/C).toString()),""),U=0,H=S.length;U<H;U+=1){var X=S[U];P+=X==="e"?S[++U]==="-"?"c":"b":X==="."?"a":X==="-"?"e":X}for(var te=[30],ae=0,oe=(P+=1&P.length?"f":"ff").length;ae<oe;ae+=2)te.push(parseInt(P.substr(ae,2),16));return te},J.REAL=function(w){return Y.REAL(w).length},Y.NAME=Y.CHARARRAY,J.NAME=J.CHARARRAY,Y.STRING=Y.CHARARRAY,J.STRING=J.CHARARRAY,z.UTF8=function(w,S,C){for(var P=[],U=C,H=0;H<U;H++,S+=1)P[H]=w.getUint8(S);return String.fromCharCode.apply(null,P)},z.UTF16=function(w,S,C){for(var P=[],U=C/2,H=0;H<U;H++,S+=2)P[H]=w.getUint16(S);return String.fromCharCode.apply(null,P)},Y.UTF16=function(w){for(var S=[],C=0;C<w.length;C+=1){var P=w.charCodeAt(C);S[S.length]=P>>8&255,S[S.length]=255&P}return S},J.UTF16=function(w){return 2*w.length};var ce,pe={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},ie=(z.MACSTRING=function(w,S,C,P){var U=pe[P];if(U!==void 0){for(var H="",X=0;X<C;X++){var te=w.getUint8(S+X);H+=te<=127?String.fromCharCode(te):U[127&te]}return H}},typeof WeakMap=="function"&&new WeakMap);function de(w){return-128<=w&&w<=127}Y.MACSTRING=function(w,S){var C=function(X){if(!ce)for(var te in ce={},pe)ce[te]=new String(te);var ae=ce[X];if(ae!==void 0){if(ie){var oe=ie.get(ae);if(oe!==void 0)return oe}var be=pe[X];if(be!==void 0){for(var Te={},xe=0;xe<be.length;xe++)Te[be.charCodeAt(xe)]=xe+128;return ie&&ie.set(ae,Te),Te}}}(S);if(C!==void 0){for(var P=[],U=0;U<w.length;U++){var H=w.charCodeAt(U);if(128<=H&&(H=C[H])===void 0)return;P[U]=H}return P}},J.MACSTRING=function(w,S){return w=Y.MACSTRING(w,S),w!==void 0?w.length:0},Y.VARDELTAS=function(w){for(var P=0,S=[];P<w.length;)var C=w[P],P=(C===0?function(U,H,X){for(var te=0,ae=U.length;H<ae&&te<64&&U[H]===0;)++H,++te;return X.push(128|te-1),H}:-128<=C&&C<=127?function(U,H,X){for(var te=0,ae=U.length,oe=H;oe<ae&&te<64;){var be=U[oe];if(!de(be)||be===0&&oe+1<ae&&U[oe+1]===0)break;++oe,++te}X.push(te-1);for(var Te=H;Te<oe;++Te)X.push(U[Te]+256&255);return oe}:function(U,H,X){for(var te=0,ae=U.length,oe=H;oe<ae&&te<64;){var be=U[oe];if(be===0||de(be)&&oe+1<ae&&de(U[oe+1]))break;++oe,++te}X.push(64|te-1);for(var Te=H;Te<oe;++Te){var xe=U[Te];X.push(xe+65536>>8&255,xe+256&255)}return oe})(w,P,S);return S},Y.INDEX=function(w){for(var S=1,C=[S],P=[],U=0;U<w.length;U+=1){var H=Y.OBJECT(w[U]);Array.prototype.push.apply(P,H),S+=H.length,C.push(S)}if(P.length===0)return[0,0];for(var X=[],te=1+Math.floor(Math.log(S)/Math.log(2))/8|0,ae=[void 0,Y.BYTE,Y.USHORT,Y.UINT24,Y.ULONG][te],oe=0;oe<C.length;oe+=1){var be=ae(C[oe]);Array.prototype.push.apply(X,be)}return Array.prototype.concat(Y.Card16(w.length),Y.OffSize(te),X,P)},J.INDEX=function(w){return Y.INDEX(w).length},Y.DICT=function(w){for(var S=[],C=Object.keys(w),P=C.length,U=0;U<P;U+=1){var H=parseInt(C[U],0),X=w[H];S=(S=S.concat(Y.OPERAND(X.value,X.type))).concat(Y.OPERATOR(H))}return S},J.DICT=function(w){return Y.DICT(w).length},Y.OPERATOR=function(w){return w<1200?[w]:[12,w-1200]},Y.OPERAND=function(w,S){var C=[];if(Array.isArray(S))for(var P=0;P<S.length;P+=1)I.argument(w.length===S.length,"Not enough arguments given for type"+S),C=C.concat(Y.OPERAND(w[P],S[P]));else if(S==="SID")C=C.concat(Y.NUMBER(w));else if(S==="offset")C=C.concat(Y.NUMBER32(w));else if(S==="number")C=C.concat(Y.NUMBER(w));else{if(S!=="real")throw new Error("Unknown operand type "+S);C=C.concat(Y.REAL(w))}return C},Y.OP=Y.BYTE,J.OP=J.BYTE;var ue=typeof WeakMap=="function"&&new WeakMap;function re(w,S,C){for(var P=0;P<S.length;P+=1){var U=S[P];this[U.name]=U.value}if(this.tableName=w,this.fields=S,C)for(var H=Object.keys(C),X=0;X<H.length;X+=1){var te=H[X],ae=C[te];this[te]!==void 0&&(this[te]=ae)}}function le(w,S,C){C===void 0&&(C=S.length);var P=new Array(S.length+1);P[0]={name:w+"Count",type:"USHORT",value:C};for(var U=0;U<S.length;U++)P[U+1]={name:w+U,type:"USHORT",value:S[U]};return P}function me(w,S,C){var P=S.length,U=new Array(P+1);U[0]={name:w+"Count",type:"USHORT",value:P};for(var H=0;H<P;H++)U[H+1]={name:w+H,type:"TABLE",value:C(S[H],H)};return U}function je(w,S,C){var P=S.length,U=[];U[0]={name:w+"Count",type:"USHORT",value:P};for(var H=0;H<P;H++)U=U.concat(C(S[H],H));return U}function ye(w){w.format===1?re.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(le("glyph",w.glyphs))):I.assert(!1,"Can't create coverage table format 2 yet.")}function ve(w){re.call(this,"scriptListTable",je("scriptRecord",w,function(S,C){var P=S.script,U=P.defaultLangSys;return I.assert(!!U,"Unable to write GSUB: script "+S.tag+" has no default language system."),[{name:"scriptTag"+C,type:"TAG",value:S.tag},{name:"script"+C,type:"TABLE",value:new re("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new re("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:U.reqFeatureIndex}].concat(le("featureIndex",U.featureIndexes)))}].concat(je("langSys",P.langSysRecords,function(H,X){var te=H.langSys;return[{name:"langSysTag"+X,type:"TAG",value:H.tag},{name:"langSys"+X,type:"TABLE",value:new re("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:te.reqFeatureIndex}].concat(le("featureIndex",te.featureIndexes)))}]})))}]}))}function Me(w){re.call(this,"featureListTable",je("featureRecord",w,function(S,C){var P=S.feature;return[{name:"featureTag"+C,type:"TAG",value:S.tag},{name:"feature"+C,type:"TABLE",value:new re("featureTable",[{name:"featureParams",type:"USHORT",value:P.featureParams}].concat(le("lookupListIndex",P.lookupListIndexes)))}]}))}function Fe(w,S){re.call(this,"lookupListTable",me("lookup",w,function(C){var P=S[C.lookupType];return I.assert(!!P,"Unable to write GSUB lookup type "+C.lookupType+" tables."),new re("lookupTable",[{name:"lookupType",type:"USHORT",value:C.lookupType},{name:"lookupFlag",type:"USHORT",value:C.lookupFlag}].concat(me("subtable",C.subtables,P)))}))}Y.CHARSTRING=function(w){if(ue){var S=ue.get(w);if(S!==void 0)return S}for(var H=[],C=w.length,P=0;P<C;P+=1)var U=w[P],H=H.concat(Y[U.type](U.value));return ue&&ue.set(w,H),H},J.CHARSTRING=function(w){return Y.CHARSTRING(w).length},Y.OBJECT=function(w){var S=Y[w.type];return I.argument(S!==void 0,"No encoding function for type "+w.type),S(w.value)},J.OBJECT=function(w){var S=J[w.type];return I.argument(S!==void 0,"No sizeOf function for type "+w.type),S(w.value)},Y.TABLE=function(w){for(var S=[],C=w.fields.length,P=[],U=[],H=0;H<C;H+=1){var X=w.fields[H],ae=Y[X.type],te=(I.argument(ae!==void 0,"No encoding function for field type "+X.type+" ("+X.name+")"),w[X.name]),ae=ae(te=te===void 0?X.value:te);X.type==="TABLE"?(U.push(S.length),S=S.concat([0,0]),P.push(ae)):S=S.concat(ae)}for(var oe=0;oe<P.length;oe+=1){var be=U[oe],Te=S.length;I.argument(Te<65536,"Table "+w.tableName+" too big."),S[be]=Te>>8,S[be+1]=255&Te,S=S.concat(P[oe])}return S},J.TABLE=function(w){for(var S=0,C=w.fields.length,P=0;P<C;P+=1){var U=w.fields[P],H=J[U.type],X=(I.argument(H!==void 0,"No sizeOf function for field type "+U.type+" ("+U.name+")"),w[U.name]);S+=H(X=X===void 0?U.value:X),U.type==="TABLE"&&(S+=2)}return S},Y.RECORD=Y.TABLE,J.RECORD=J.TABLE,Y.LITERAL=function(w){return w},J.LITERAL=function(w){return w.length},re.prototype.encode=function(){return Y.TABLE(this)},re.prototype.sizeOf=function(){return J.TABLE(this)};var Ce={Table:re,Record:re,Coverage:(ye.prototype=Object.create(re.prototype)).constructor=ye,ScriptList:(ve.prototype=Object.create(re.prototype)).constructor=ve,FeatureList:(Me.prototype=Object.create(re.prototype)).constructor=Me,LookupList:(Fe.prototype=Object.create(re.prototype)).constructor=Fe,ushortList:le,tableList:me,recordList:je};function $e(w,S){return w.getUint8(S)}function Ve(w,S){return w.getUint16(S,!1)}function ze(w,S){return w.getUint32(S,!1)}function qe(w,S){return w.getInt16(S,!1)+w.getUint16(S+2,!1)/65535}var He={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function _e(w,S){this.data=w,this.offset=S,this.relativeOffset=0}_e.prototype.parseByte=function(){var w=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},_e.prototype.parseChar=function(){var w=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},_e.prototype.parseCard8=_e.prototype.parseByte,_e.prototype.parseCard16=_e.prototype.parseUShort=function(){var w=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},_e.prototype.parseSID=_e.prototype.parseUShort,_e.prototype.parseOffset16=_e.prototype.parseUShort,_e.prototype.parseShort=function(){var w=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},_e.prototype.parseF2Dot14=function(){var w=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,w},_e.prototype.parseOffset32=_e.prototype.parseULong=function(){var w=ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},_e.prototype.parseFixed=function(){var w=qe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},_e.prototype.parseString=function(w){var S=this.data,C=this.offset+this.relativeOffset,P="";this.relativeOffset+=w;for(var U=0;U<w;U++)P+=String.fromCharCode(S.getUint8(C+U));return P},_e.prototype.parseTag=function(){return this.parseString(4)},_e.prototype.parseLongDateTime=function(){var w=ze(this.data,this.offset+this.relativeOffset+4);return w-=2082844800,this.relativeOffset+=8,w},_e.prototype.parseVersion=function(w){var S=Ve(this.data,this.offset+this.relativeOffset),C=Ve(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,S+C/(w=w===void 0?4096:w)/10},_e.prototype.skip=function(w,S){this.relativeOffset+=He[w]*(S=S===void 0?1:S)},_e.prototype.parseULongList=function(w){w===void 0&&(w=this.parseULong());for(var S=new Array(w),C=this.data,P=this.offset+this.relativeOffset,U=0;U<w;U++)S[U]=C.getUint32(P),P+=4;return this.relativeOffset+=4*w,S},_e.prototype.parseOffset16List=_e.prototype.parseUShortList=function(w){w===void 0&&(w=this.parseUShort());for(var S=new Array(w),C=this.data,P=this.offset+this.relativeOffset,U=0;U<w;U++)S[U]=C.getUint16(P),P+=2;return this.relativeOffset+=2*w,S},_e.prototype.parseShortList=function(w){for(var S=new Array(w),C=this.data,P=this.offset+this.relativeOffset,U=0;U<w;U++)S[U]=C.getInt16(P),P+=2;return this.relativeOffset+=2*w,S},_e.prototype.parseByteList=function(w){for(var S=new Array(w),C=this.data,P=this.offset+this.relativeOffset,U=0;U<w;U++)S[U]=C.getUint8(P++);return this.relativeOffset+=w,S},_e.prototype.parseList=function(w,S){S||(S=w,w=this.parseUShort());for(var C=new Array(w),P=0;P<w;P++)C[P]=S.call(this);return C},_e.prototype.parseList32=function(w,S){S||(S=w,w=this.parseULong());for(var C=new Array(w),P=0;P<w;P++)C[P]=S.call(this);return C},_e.prototype.parseRecordList=function(w,S){S||(S=w,w=this.parseUShort());for(var C=new Array(w),P=Object.keys(S),U=0;U<w;U++){for(var H={},X=0;X<P.length;X++){var te=P[X],ae=S[te];H[te]=ae.call(this)}C[U]=H}return C},_e.prototype.parseRecordList32=function(w,S){S||(S=w,w=this.parseULong());for(var C=new Array(w),P=Object.keys(S),U=0;U<w;U++){for(var H={},X=0;X<P.length;X++){var te=P[X],ae=S[te];H[te]=ae.call(this)}C[U]=H}return C},_e.prototype.parseStruct=function(w){if(typeof w=="function")return w.call(this);for(var S=Object.keys(w),C={},P=0;P<S.length;P++){var U=S[P],H=w[U];C[U]=H.call(this)}return C},_e.prototype.parseValueRecord=function(w){var S;if((w=w===void 0?this.parseUShort():w)!==0)return S={},1&w&&(S.xPlacement=this.parseShort()),2&w&&(S.yPlacement=this.parseShort()),4&w&&(S.xAdvance=this.parseShort()),8&w&&(S.yAdvance=this.parseShort()),16&w&&(S.xPlaDevice=void 0,this.parseShort()),32&w&&(S.yPlaDevice=void 0,this.parseShort()),64&w&&(S.xAdvDevice=void 0,this.parseShort()),128&w&&(S.yAdvDevice=void 0,this.parseShort()),S},_e.prototype.parseValueRecordList=function(){for(var w=this.parseUShort(),S=this.parseUShort(),C=new Array(S),P=0;P<S;P++)C[P]=this.parseValueRecord(w);return C},_e.prototype.parsePointer=function(w){var S=this.parseOffset16();if(0<S)return new _e(this.data,this.offset+S).parseStruct(w)},_e.prototype.parsePointer32=function(w){var S=this.parseOffset32();if(0<S)return new _e(this.data,this.offset+S).parseStruct(w)},_e.prototype.parseListOfLists=function(w){for(var S=this.parseOffset16List(),C=S.length,P=this.relativeOffset,U=new Array(C),H=0;H<C;H++){var X=S[H];if(X===0)U[H]=void 0;else if(this.relativeOffset=X,w){for(var te=this.parseOffset16List(),ae=new Array(te.length),oe=0;oe<te.length;oe++)this.relativeOffset=X+te[oe],ae[oe]=w.call(this);U[H]=ae}else U[H]=this.parseUShortList()}return this.relativeOffset=P,U},_e.prototype.parseCoverage=function(){var w=this.offset+this.relativeOffset,S=this.parseUShort(),C=this.parseUShort();if(S===1)return{format:1,glyphs:this.parseUShortList(C)};if(S!==2)throw new Error("0x"+w.toString(16)+": Coverage format must be 1 or 2.");for(var P=new Array(C),U=0;U<C;U++)P[U]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:P}},_e.prototype.parseClassDef=function(){var w=this.offset+this.relativeOffset,S=this.parseUShort();if(S===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(S===2)return{format:2,ranges:this.parseRecordList({start:_e.uShort,end:_e.uShort,classId:_e.uShort})};throw new Error("0x"+w.toString(16)+": ClassDef format must be 1 or 2.")},_e.list=function(w,S){return function(){return this.parseList(w,S)}},_e.list32=function(w,S){return function(){return this.parseList32(w,S)}},_e.recordList=function(w,S){return function(){return this.parseRecordList(w,S)}},_e.recordList32=function(w,S){return function(){return this.parseRecordList32(w,S)}},_e.pointer=function(w){return function(){return this.parsePointer(w)}},_e.pointer32=function(w){return function(){return this.parsePointer32(w)}},_e.tag=_e.prototype.parseTag,_e.byte=_e.prototype.parseByte,_e.uShort=_e.offset16=_e.prototype.parseUShort,_e.uShortList=_e.prototype.parseUShortList,_e.uLong=_e.offset32=_e.prototype.parseULong,_e.uLongList=_e.prototype.parseULongList,_e.struct=_e.prototype.parseStruct,_e.coverage=_e.prototype.parseCoverage,_e.classDef=_e.prototype.parseClassDef;var Ae={reserved:_e.uShort,reqFeatureIndex:_e.uShort,featureIndexes:_e.uShortList},Se=(_e.prototype.parseScriptList=function(){return this.parsePointer(_e.recordList({tag:_e.tag,script:_e.pointer({defaultLangSys:_e.pointer(Ae),langSysRecords:_e.recordList({tag:_e.tag,langSys:_e.pointer(Ae)})})}))||[]},_e.prototype.parseFeatureList=function(){return this.parsePointer(_e.recordList({tag:_e.tag,feature:_e.pointer({featureParams:_e.offset16,lookupListIndexes:_e.uShortList})}))||[]},_e.prototype.parseLookupList=function(w){return this.parsePointer(_e.list(_e.pointer(function(){var S=this.parseUShort(),C=(I.argument(1<=S&&S<=9,"GPOS/GSUB lookup type "+S+" unknown."),this.parseUShort()),P=16&C;return{lookupType:S,lookupFlag:C,subtables:this.parseList(_e.pointer(w[S])),markFilteringSet:P?this.parseUShort():void 0}})))||[]},_e.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var w=this.parseUShort(),S=this.parseUShort();return I.argument(w===1&&S<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:_e.offset32,featureTableSubstitutionOffset:_e.offset32})})||[]},{getByte:$e,getCard8:$e,getUShort:Ve,getCard16:Ve,getShort:function(w,S){return w.getInt16(S,!1)},getULong:ze,getFixed:qe,getTag:function(w,S){for(var C="",P=S;P<S+4;P+=1)C+=String.fromCharCode(w.getInt8(P));return C},getOffset:function(w,S,C){for(var P=0,U=0;U<C;U+=1)P=(P<<=8)+w.getUint8(S+U);return P},getBytes:function(w,S,C){for(var P=[],U=S;U<C;U+=1)P.push(w.getUint8(U));return P},bytesToString:function(w){for(var S="",C=0;C<w.length;C+=1)S+=String.fromCharCode(w[C]);return S},Parser:_e}),Q={parse:function(w,S){for(var C={},P=(C.version=Se.getUShort(w,S),I.argument(C.version===0,"cmap table version should be 0."),C.numTables=Se.getUShort(w,S+2),-1),U=C.numTables-1;0<=U;--U){var H=Se.getUShort(w,S+4+8*U),X=Se.getUShort(w,S+4+8*U+2);if(H===3&&(X===0||X===1||X===10)||H===0&&(X===0||X===1||X===2||X===3||X===4)){P=Se.getULong(w,S+4+8*U+4);break}}if(P===-1)throw new Error("No valid cmap sub-tables found.");var te=new Se.Parser(w,S+P);if(C.format=te.parseUShort(),C.format===12){var ae,oe=C,be=te;be.parseUShort(),oe.length=be.parseULong(),oe.language=be.parseULong(),oe.groupCount=ae=be.parseULong(),oe.glyphIndexMap={};for(var Te=0;Te<ae;Te+=1)for(var xe=be.parseULong(),he=be.parseULong(),Re=be.parseULong(),Oe=xe;Oe<=he;Oe+=1)oe.glyphIndexMap[Oe]=Re,Re++}else{if(C.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+C.format+").");var Le=C,Ee=w,ke=S,Je=P;Le.length=te.parseUShort(),Le.language=te.parseUShort(),Le.segCount=it=te.parseUShort()>>1,te.skip("uShort",3),Le.glyphIndexMap={};for(var it,et=new Se.Parser(Ee,ke+Je+14),tt=new Se.Parser(Ee,ke+Je+16+2*it),lt=new Se.Parser(Ee,ke+Je+16+4*it),wt=new Se.Parser(Ee,ke+Je+16+6*it),At=ke+Je+16+8*it,Ut=0;Ut<it-1;Ut+=1)for(var Qt=void 0,Jt=et.parseUShort(),fr=tt.parseUShort(),_t=lt.parseShort(),Mt=wt.parseUShort(),yt=fr;yt<=Jt;yt+=1)Mt!==0?(At=(At=wt.offset+wt.relativeOffset-2)+Mt+2*(yt-fr),(Qt=Se.getUShort(Ee,At))!==0&&(Qt=Qt+_t&65535)):Qt=yt+_t&65535,Le.glyphIndexMap[yt]=Qt}return C},make:function(w){for(var S=!0,C=w.length-1;0<C;--C)if(65535<w.get(C).unicode){console.log("Adding CMAP format 12 (needed!)"),S=!1;break}var P,U,H=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:S?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:S?12:20}],X=(H=(H=S?H:H.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ce.Table("cmap",H));for(X.segments=[],C=0;C<w.length;C+=1){for(var te=w.get(C),ae=0;ae<te.unicodes.length;ae+=1)P=te.unicodes[ae],U=C,X.segments.push({end:P,start:P,delta:-(P-U),offset:0,glyphIndex:U});X.segments=X.segments.sort(function(ke,Je){return ke.start-Je.start})}X.segments.push({end:65535,start:65535,delta:1,offset:0});var oe=X.segments.length,be=0,Te=[],xe=[],he=[],Re=[],Oe=[],Le=[];for(C=0;C<oe;C+=1){var Ee=X.segments[C];Ee.end<=65535&&Ee.start<=65535?(Te=Te.concat({name:"end_"+C,type:"USHORT",value:Ee.end}),xe=xe.concat({name:"start_"+C,type:"USHORT",value:Ee.start}),he=he.concat({name:"idDelta_"+C,type:"SHORT",value:Ee.delta}),Re=Re.concat({name:"idRangeOffset_"+C,type:"USHORT",value:Ee.offset}),Ee.glyphId!==void 0&&(Oe=Oe.concat({name:"glyph_"+C,type:"USHORT",value:Ee.glyphId}))):be+=1,S||Ee.glyphIndex===void 0||(Le=(Le=(Le=Le.concat({name:"cmap12Start_"+C,type:"ULONG",value:Ee.start})).concat({name:"cmap12End_"+C,type:"ULONG",value:Ee.end})).concat({name:"cmap12Glyph_"+C,type:"ULONG",value:Ee.glyphIndex}))}return X.segCountX2=2*(oe-be),X.searchRange=2*Math.pow(2,Math.floor(Math.log(oe-be)/Math.log(2))),X.entrySelector=Math.log(X.searchRange/2)/Math.log(2),X.rangeShift=X.segCountX2-X.searchRange,X.fields=X.fields.concat(Te),X.fields.push({name:"reservedPad",type:"USHORT",value:0}),X.fields=X.fields.concat(xe),X.fields=X.fields.concat(he),X.fields=X.fields.concat(Re),X.fields=X.fields.concat(Oe),X.cmap4Length=14+2*Te.length+2+2*xe.length+2*he.length+2*Re.length+2*Oe.length,S||(H=16+4*Le.length,X.cmap12Offset=20+X.cmap4Length,X.fields=X.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:H},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Le.length/3}]),X.fields=X.fields.concat(Le)),X}},ne=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Z=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],se=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ge=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function we(w){this.font=w}function Pe(w){this.cmap=w}function Ne(w,S){this.encoding=w,this.charset=S}function Ue(w){switch(w.version){case 1:this.names=ge.slice();break;case 2:this.names=new Array(w.numberOfGlyphs);for(var S=0;S<w.numberOfGlyphs;S++)w.glyphNameIndex[S]<ge.length?this.names[S]=ge[w.glyphNameIndex[S]]:this.names[S]=w.names[w.glyphNameIndex[S]-ge.length];break;case 2.5:this.names=new Array(w.numberOfGlyphs);for(var C=0;C<w.numberOfGlyphs;C++)this.names[C]=ge[C+w.glyphNameIndex[C]];break;default:this.names=[]}}we.prototype.charToGlyphIndex=function(w){var S=w.codePointAt(0),C=this.font.glyphs;if(C){for(var P=0;P<C.length;P+=1)for(var U=C.get(P),H=0;H<U.unicodes.length;H+=1)if(U.unicodes[H]===S)return P}return null},Pe.prototype.charToGlyphIndex=function(w){return this.cmap.glyphIndexMap[w.codePointAt(0)]||0},Ne.prototype.charToGlyphIndex=function(w){return w=w.codePointAt(0),w=this.encoding[w],this.charset.indexOf(w)},Ue.prototype.nameToGlyphIndex=function(w){return this.names.indexOf(w)},Ue.prototype.glyphIndexToName=function(w){return this.names[w]};var Ge={line:function(w,S,C,P,U){w.beginPath(),w.moveTo(S,C),w.lineTo(P,U),w.stroke()}};function Xe(w){this.bindConstructorValues(w)}function ot(w,S,C){Object.defineProperty(w,S,{get:function(){return w.path,w[C]},set:function(P){w[C]=P},enumerable:!0,configurable:!0})}function nt(w,S){if(this.font=w,this.glyphs={},Array.isArray(S))for(var C=0;C<S.length;C++)this.glyphs[C]=S[C];this.length=S&&S.length||0}Xe.prototype.bindConstructorValues=function(w){var S;this.index=w.index||0,this.name=w.name||null,this.unicode=w.unicode||void 0,this.unicodes=w.unicodes||w.unicode!==void 0?[w.unicode]:[],w.xMin&&(this.xMin=w.xMin),w.yMin&&(this.yMin=w.yMin),w.xMax&&(this.xMax=w.xMax),w.yMax&&(this.yMax=w.yMax),w.advanceWidth&&(this.advanceWidth=w.advanceWidth),Object.defineProperty(this,"path",(w=w.path,S=w||new K,{configurable:!0,get:function(){return S=typeof S=="function"?S():S},set:function(C){S=C}}))},Xe.prototype.addUnicode=function(w){this.unicodes.length===0&&(this.unicode=w),this.unicodes.push(w)},Xe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Xe.prototype.getPath=function(w,S,C,P,U){w=w!==void 0?w:0,S=S!==void 0?S:0,C=C!==void 0?C:72;for(var H,X,te=(P=P||{}).xScale,ae=P.yScale,oe=((H=P.hinting&&U&&U.hinting?this.path&&U.hinting.exec(this,C):H)?(X=U.hinting.getCommands(H),w=Math.round(w),S=Math.round(S),te=ae=1):(X=this.path.commands,P=1/this.path.unitsPerEm*C,te===void 0&&(te=P),ae===void 0&&(ae=P)),new K),be=0;be<X.length;be+=1){var Te=X[be];Te.type==="M"?oe.moveTo(w+Te.x*te,S+-Te.y*ae):Te.type==="L"?oe.lineTo(w+Te.x*te,S+-Te.y*ae):Te.type==="Q"?oe.quadraticCurveTo(w+Te.x1*te,S+-Te.y1*ae,w+Te.x*te,S+-Te.y*ae):Te.type==="C"?oe.curveTo(w+Te.x1*te,S+-Te.y1*ae,w+Te.x2*te,S+-Te.y2*ae,w+Te.x*te,S+-Te.y*ae):Te.type==="Z"&&oe.closePath()}return oe},Xe.prototype.getContours=function(){if(this.points===void 0)return[];for(var w=[],S=[],C=0;C<this.points.length;C+=1){var P=this.points[C];S.push(P),P.lastPointOfContour&&(w.push(S),S=[])}return I.argument(S.length===0,"There are still points left in the current contour."),w},Xe.prototype.getMetrics=function(){for(var w=this.path.commands,S=[],C=[],P=0;P<w.length;P+=1){var U=w[P];U.type!=="Z"&&(S.push(U.x),C.push(U.y)),U.type!=="Q"&&U.type!=="C"||(S.push(U.x1),C.push(U.y1)),U.type==="C"&&(S.push(U.x2),C.push(U.y2))}var H={xMin:Math.min.apply(null,S),yMin:Math.min.apply(null,C),xMax:Math.max.apply(null,S),yMax:Math.max.apply(null,C),leftSideBearing:this.leftSideBearing};return isFinite(H.xMin)||(H.xMin=0),isFinite(H.xMax)||(H.xMax=this.advanceWidth),isFinite(H.yMin)||(H.yMin=0),isFinite(H.yMax)||(H.yMax=0),H.rightSideBearing=this.advanceWidth-H.leftSideBearing-(H.xMax-H.xMin),H},Xe.prototype.draw=function(w,S,C,P,U){this.getPath(S,C,P,U).draw(w)},Xe.prototype.drawPoints=function(w,S,C,P){function U(be,Te,xe,he){var Re=2*Math.PI;w.beginPath();for(var Oe=0;Oe<be.length;Oe+=1)w.moveTo(Te+be[Oe].x*he,xe+be[Oe].y*he),w.arc(Te+be[Oe].x*he,xe+be[Oe].y*he,2,0,Re,!1);w.closePath(),w.fill()}S=S!==void 0?S:0,C=C!==void 0?C:0;for(var P=1/this.path.unitsPerEm*(P=P!==void 0?P:24),H=[],X=[],te=this.path,ae=0;ae<te.commands.length;ae+=1){var oe=te.commands[ae];oe.x!==void 0&&H.push({x:oe.x,y:-oe.y}),oe.x1!==void 0&&X.push({x:oe.x1,y:-oe.y1}),oe.x2!==void 0&&X.push({x:oe.x2,y:-oe.y2})}w.fillStyle="blue",U(H,S,C,P),w.fillStyle="red",U(X,S,C,P)},Xe.prototype.drawMetrics=function(w,S,C,P){S=S!==void 0?S:0,C=C!==void 0?C:0,P=1/this.path.unitsPerEm*(P=P!==void 0?P:24),w.lineWidth=1,w.strokeStyle="black",Ge.line(w,S,-1e4,S,1e4),Ge.line(w,-1e4,C,1e4,C);var U=this.xMin||0,H=this.yMin||0,X=this.xMax||0,te=this.yMax||0,ae=this.advanceWidth||0;w.strokeStyle="blue",Ge.line(w,S+U*P,-1e4,S+U*P,1e4),Ge.line(w,S+X*P,-1e4,S+X*P,1e4),Ge.line(w,-1e4,C+-H*P,1e4,C+-H*P),Ge.line(w,-1e4,C+-te*P,1e4,C+-te*P),w.strokeStyle="green",Ge.line(w,S+ae*P,-1e4,S+ae*P,1e4)},nt.prototype.get=function(w){return typeof this.glyphs[w]=="function"&&(this.glyphs[w]=this.glyphs[w]()),this.glyphs[w]},nt.prototype.push=function(w,S){this.glyphs[w]=S,this.length++};var Ke={GlyphSet:nt,glyphLoader:function(w,S){return new Xe({index:S,font:w})},ttfGlyphLoader:function(w,S,C,P,U,H){return function(){var X=new Xe({index:S,font:w});return X.path=function(){C(X,P,U);var te=H(w.glyphs,X);return te.unitsPerEm=w.unitsPerEm,te},ot(X,"xMin","_xMin"),ot(X,"xMax","_xMax"),ot(X,"yMin","_yMin"),ot(X,"yMax","_yMax"),X}},cffGlyphLoader:function(w,S,C,P){return function(){var U=new Xe({index:S,font:w});return U.path=function(){var H=C(w,U,P);return H.unitsPerEm=w.unitsPerEm,H},U}}};function st(w){return w=w.length<1240?107:w.length<33900?1131:32768,w}function rt(w,S,C){var P,U=[],H=[],X=Se.getCard16(w,S);if(X!==0){for(var te=Se.getByte(w,S+2),ae=S+(X+1)*te+2,oe=S+3,be=0;be<X+1;be+=1)U.push(Se.getOffset(w,oe,te)),oe+=te;P=ae+U[X]}else P=S+2;for(var Te=0;Te<U.length-1;Te+=1){var xe=Se.getBytes(w,ae+U[Te],ae+U[Te+1]);C&&(xe=C(xe)),H.push(xe)}return{objects:H,startOffset:S,endOffset:P}}function xt(w,S){if(S===28)return w.parseByte()<<8|w.parseByte();if(S===29)return w.parseByte()<<24|w.parseByte()<<16|w.parseByte()<<8|w.parseByte();if(S===30){for(var C=w,P="",U=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var X=C.parseByte(),H=X>>4,X=15&X;if(H==15||(P+=U[H],X==15))break;P+=U[X]}return parseFloat(P)}if(32<=S&&S<=246)return S-139;if(247<=S&&S<=250)return 256*(S-247)+w.parseByte()+108;if(251<=S&&S<=254)return 256*-(S-251)-w.parseByte()-108;throw new Error("Invalid b0 "+S)}function Kt(w,S,C){var P=new Se.Parser(w,S=S!==void 0?S:0),U=[],H=[];for(C=C!==void 0?C:w.length;P.relativeOffset<C;){var X=P.parseByte();X<=21?(X===12&&(X=1200+P.parseByte()),U.push([X,H]),H=[]):H.push(xt(P,X))}for(var te=U,ae={},oe=0;oe<te.length;oe+=1){var be=te[oe][0],Te=te[oe][1],xe=void 0,xe=Te.length===1?Te[0]:Te;if(ae.hasOwnProperty(be)&&!isNaN(ae[be]))throw new Error("Object "+ae+" already has key "+be);ae[be]=xe}return ae}function Nt(w,S){return S=S<=390?ne[S]:w[S-391]}function mt(w,S,C){for(var P,U={},H=0;H<S.length;H+=1){var X=S[H];if(Array.isArray(X.type)){var te=[];te.length=X.type.length;for(var ae=0;ae<X.type.length;ae++)(P=w[X.op]!==void 0?w[X.op][ae]:void 0)===void 0&&(P=X.value!==void 0&&X.value[ae]!==void 0?X.value[ae]:null),X.type[ae]==="SID"&&(P=Nt(C,P)),te[ae]=P;U[X.name]=te}else(P=w[X.op])===void 0&&(P=X.value!==void 0?X.value:null),X.type==="SID"&&(P=Nt(C,P)),U[X.name]=P}return U}var St=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ht=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Yt(w,S,C,P){return mt(Kt(w,S,C),ht,P)}function zt(w,S,C,P){for(var U=[],H=0;H<C.length;H+=1){var X=new DataView(new Uint8Array(C[H]).buffer),X=(te=P,mt(Kt(X,0,X.byteLength),St,te)),te=(X._subrs=[],X._subrsBias=0,X.private[0]),ae=X.private[1];te!==0&&ae!==0&&(te=Yt(w,ae+S,te,P),X._defaultWidthX=te.defaultWidthX,X._nominalWidthX=te.nominalWidthX,te.subrs!==0&&(ae=rt(w,ae+te.subrs+S),X._subrs=ae.objects,X._subrsBias=st(X._subrs)),X._privateDict=te),U.push(X)}return U}function bt(w,S,C){var P,U,H,X,te,ae,oe,be,Te,xe=new K,he=[],Re=0,Oe=!1,Le=!1,Ee=0,ke=0,Je=(Te=(w.isCIDFont?(te=w.tables.cff.topDict._fdSelect[S.index],te=w.tables.cff.topDict._fdArray[te],ae=te._subrs,oe=te._subrsBias,be=te._defaultWidthX,te):(ae=w.tables.cff.topDict._subrs,oe=w.tables.cff.topDict._subrsBias,be=w.tables.cff.topDict._defaultWidthX,w.tables.cff.topDict))._nominalWidthX,be);function it(tt,lt){Le&&xe.closePath(),xe.moveTo(tt,lt),Le=!0}function et(){he.length%2==0||Oe||(Je=he.shift()+Te),Re+=he.length>>1,he.length=0,Oe=!0}return function tt(lt){for(var wt,At,Ut,Qt,Jt,fr,_t,Mt,yt,er,Pt,$t,Tt=0;Tt<lt.length;){var qt=lt[Tt];switch(Tt+=1,qt){case 1:case 3:et();break;case 4:1<he.length&&!Oe&&(Je=he.shift()+Te,Oe=!0),ke+=he.pop(),it(Ee,ke);break;case 5:for(;0<he.length;)Ee+=he.shift(),ke+=he.shift(),xe.lineTo(Ee,ke);break;case 6:for(;0<he.length&&(Ee+=he.shift(),xe.lineTo(Ee,ke),he.length!==0);)ke+=he.shift(),xe.lineTo(Ee,ke);break;case 7:for(;0<he.length&&(ke+=he.shift(),xe.lineTo(Ee,ke),he.length!==0);)Ee+=he.shift(),xe.lineTo(Ee,ke);break;case 8:for(;0<he.length;)P=Ee+he.shift(),U=ke+he.shift(),H=P+he.shift(),X=U+he.shift(),Ee=H+he.shift(),ke=X+he.shift(),xe.curveTo(P,U,H,X,Ee,ke);break;case 10:Jt=he.pop()+oe,(fr=ae[Jt])&&tt(fr);break;case 11:return;case 12:switch(qt=lt[Tt],Tt+=1,qt){case 35:P=Ee+he.shift(),U=ke+he.shift(),H=P+he.shift(),X=U+he.shift(),_t=H+he.shift(),Mt=X+he.shift(),yt=_t+he.shift(),er=Mt+he.shift(),Pt=yt+he.shift(),$t=er+he.shift(),Ee=Pt+he.shift(),ke=$t+he.shift(),he.shift(),xe.curveTo(P,U,H,X,_t,Mt),xe.curveTo(yt,er,Pt,$t,Ee,ke);break;case 34:P=Ee+he.shift(),U=ke,H=P+he.shift(),X=U+he.shift(),_t=H+he.shift(),Mt=X,yt=_t+he.shift(),er=X,Pt=yt+he.shift(),$t=ke,Ee=Pt+he.shift(),xe.curveTo(P,U,H,X,_t,Mt),xe.curveTo(yt,er,Pt,$t,Ee,ke);break;case 36:P=Ee+he.shift(),U=ke+he.shift(),H=P+he.shift(),X=U+he.shift(),_t=H+he.shift(),Mt=X,yt=_t+he.shift(),er=X,Pt=yt+he.shift(),$t=er+he.shift(),Ee=Pt+he.shift(),xe.curveTo(P,U,H,X,_t,Mt),xe.curveTo(yt,er,Pt,$t,Ee,ke);break;case 37:P=Ee+he.shift(),U=ke+he.shift(),H=P+he.shift(),X=U+he.shift(),_t=H+he.shift(),Mt=X+he.shift(),yt=_t+he.shift(),er=Mt+he.shift(),Pt=yt+he.shift(),$t=er+he.shift(),Math.abs(Pt-Ee)>Math.abs($t-ke)?Ee=Pt+he.shift():ke=$t+he.shift(),xe.curveTo(P,U,H,X,_t,Mt),xe.curveTo(yt,er,Pt,$t,Ee,ke);break;default:console.log("Glyph "+S.index+": unknown operator 1200"+qt),he.length=0}break;case 14:0<he.length&&!Oe&&(Je=he.shift()+Te,Oe=!0),Le&&(xe.closePath(),Le=!1);break;case 18:et();break;case 19:case 20:et(),Tt+=Re+7>>3;break;case 21:2<he.length&&!Oe&&(Je=he.shift()+Te,Oe=!0),ke+=he.pop(),it(Ee+=he.pop(),ke);break;case 22:1<he.length&&!Oe&&(Je=he.shift()+Te,Oe=!0),it(Ee+=he.pop(),ke);break;case 23:et();break;case 24:for(;2<he.length;)P=Ee+he.shift(),U=ke+he.shift(),H=P+he.shift(),X=U+he.shift(),Ee=H+he.shift(),ke=X+he.shift(),xe.curveTo(P,U,H,X,Ee,ke);Ee+=he.shift(),ke+=he.shift(),xe.lineTo(Ee,ke);break;case 25:for(;6<he.length;)Ee+=he.shift(),ke+=he.shift(),xe.lineTo(Ee,ke);P=Ee+he.shift(),U=ke+he.shift(),H=P+he.shift(),X=U+he.shift(),Ee=H+he.shift(),ke=X+he.shift(),xe.curveTo(P,U,H,X,Ee,ke);break;case 26:for(he.length%2&&(Ee+=he.shift());0<he.length;)P=Ee,U=ke+he.shift(),H=P+he.shift(),X=U+he.shift(),Ee=H,ke=X+he.shift(),xe.curveTo(P,U,H,X,Ee,ke);break;case 27:for(he.length%2&&(ke+=he.shift());0<he.length;)P=Ee+he.shift(),U=ke,H=P+he.shift(),X=U+he.shift(),Ee=H+he.shift(),ke=X,xe.curveTo(P,U,H,X,Ee,ke);break;case 28:wt=lt[Tt],At=lt[Tt+1],he.push((wt<<24|At<<16)>>16),Tt+=2;break;case 29:Jt=he.pop()+w.gsubrsBias,(fr=w.gsubrs[Jt])&&tt(fr);break;case 30:for(;0<he.length&&(P=Ee,U=ke+he.shift(),H=P+he.shift(),X=U+he.shift(),Ee=H+he.shift(),ke=X+(he.length===1?he.shift():0),xe.curveTo(P,U,H,X,Ee,ke),he.length!==0);)P=Ee+he.shift(),U=ke,H=P+he.shift(),X=U+he.shift(),ke=X+he.shift(),Ee=H+(he.length===1?he.shift():0),xe.curveTo(P,U,H,X,Ee,ke);break;case 31:for(;0<he.length&&(P=Ee+he.shift(),U=ke,H=P+he.shift(),X=U+he.shift(),ke=X+he.shift(),Ee=H+(he.length===1?he.shift():0),xe.curveTo(P,U,H,X,Ee,ke),he.length!==0);)P=Ee,U=ke+he.shift(),H=P+he.shift(),X=U+he.shift(),Ee=H+he.shift(),ke=X+(he.length===1?he.shift():0),xe.curveTo(P,U,H,X,Ee,ke);break;default:qt<32?console.log("Glyph "+S.index+": unknown operator "+qt):qt<247?he.push(qt-139):qt<251?(wt=lt[Tt],Tt+=1,he.push(256*(qt-247)+wt+108)):qt<255?(wt=lt[Tt],Tt+=1,he.push(256*-(qt-251)-wt-108)):(wt=lt[Tt],At=lt[Tt+1],Ut=lt[Tt+2],Qt=lt[Tt+3],Tt+=4,he.push((wt<<24|At<<16|Ut<<8|Qt)/65536))}}}(C),S.advanceWidth=Je,xe}function Zt(w,S){var C,P=ne.indexOf(w);return 0<=P&&(C=P),0<=(P=S.indexOf(w))?C=P+ne.length:(C=ne.length+S.length,S.push(w)),C}function bn(w,S,C){for(var P={},U=0;U<w.length;U+=1){var H=w[U],X=S[H.name];X===void 0||function te(ae,oe){if(ae===oe)return 1;if(Array.isArray(ae)&&Array.isArray(oe)&&ae.length===oe.length){for(var be=0;be<ae.length;be+=1)if(!te(ae[be],oe[be]))return;return 1}}(X,H.value)||(H.type==="SID"&&(X=Zt(X,C)),P[H.op]={name:H.name,type:H.type,value:X})}return P}function vn(w,S){var C=new Ce.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return C.dict=bn(St,w,S),C}function _n(w){var S=new Ce.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return S.topDicts=[{name:"topDict_0",type:"TABLE",value:w}],S}function Jn(w){for(var S=new Ce.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),C=0;C<w.length;C+=1){var P=w.get(C),U=function(H){for(var X=[],te=H.path,ae=(X.push({name:"width",type:"NUMBER",value:H.advanceWidth}),0),oe=0,be=0;be<te.commands.length;be+=1){var Te,xe,he,Re,Oe=void 0,Le=void 0,Ee=te.commands[be];(Ee=Ee.type==="Q"?{type:"C",x:Ee.x,y:Ee.y,x1:1/3*ae+2/3*Ee.x1,y1:1/3*oe+2/3*Ee.y1,x2:1/3*Ee.x+2/3*Ee.x1,y2:1/3*Ee.y+2/3*Ee.y1}:Ee).type==="M"?(Oe=Math.round(Ee.x-ae),Le=Math.round(Ee.y-oe),X.push({name:"dx",type:"NUMBER",value:Oe}),X.push({name:"dy",type:"NUMBER",value:Le}),X.push({name:"rmoveto",type:"OP",value:21}),ae=Math.round(Ee.x),oe=Math.round(Ee.y)):Ee.type==="L"?(Oe=Math.round(Ee.x-ae),Le=Math.round(Ee.y-oe),X.push({name:"dx",type:"NUMBER",value:Oe}),X.push({name:"dy",type:"NUMBER",value:Le}),X.push({name:"rlineto",type:"OP",value:5}),ae=Math.round(Ee.x),oe=Math.round(Ee.y)):Ee.type==="C"&&(Te=Math.round(Ee.x1-ae),xe=Math.round(Ee.y1-oe),he=Math.round(Ee.x2-Ee.x1),Re=Math.round(Ee.y2-Ee.y1),Oe=Math.round(Ee.x-Ee.x2),Le=Math.round(Ee.y-Ee.y2),X.push({name:"dx1",type:"NUMBER",value:Te}),X.push({name:"dy1",type:"NUMBER",value:xe}),X.push({name:"dx2",type:"NUMBER",value:he}),X.push({name:"dy2",type:"NUMBER",value:Re}),X.push({name:"dx",type:"NUMBER",value:Oe}),X.push({name:"dy",type:"NUMBER",value:Le}),X.push({name:"rrcurveto",type:"OP",value:8}),ae=Math.round(Ee.x),oe=Math.round(Ee.y))}return X.push({name:"endchar",type:"OP",value:14}),X}(P);S.charStrings.push({name:P.name,type:"CHARSTRING",value:U})}return S}var xn={parse:function(w,S,C){C.tables.cff={},te=w,P=S,(U={}).formatMajor=Se.getCard8(te,P),U.formatMinor=Se.getCard8(te,P+1),U.size=Se.getCard8(te,P+2),U.offsetSize=Se.getCard8(te,P+3),U.startOffset=P,U.endOffset=P+4;var te=rt(w,U.endOffset,Se.bytesToString),P=rt(w,te.endOffset),U=rt(w,P.endOffset,Se.bytesToString),te=rt(w,U.endOffset);if(C.gsubrs=te.objects,C.gsubrsBias=st(C.gsubrs),(te=zt(w,S,P.objects,U.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+te.length);if(P=te[0],(C.tables.cff.topDict=P)._privateDict&&(C.defaultWidthX=P._privateDict.defaultWidthX,C.nominalWidthX=P._privateDict.nominalWidthX),P.ros[0]!==void 0&&P.ros[1]!==void 0&&(C.isCIDFont=!0),C.isCIDFont){var te=P.fdArray,H=P.fdSelect;if(te===0||H===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");te=zt(w,S,rt(w,te+=S).objects,U.objects),P._fdArray=te,P._fdSelect=function(xe,he,Re,Oe){var Le,Ee=[],ke=new Se.Parser(xe,he);if((xe=ke.parseCard8())===0)for(var Je=0;Je<Re;Je++){if(Oe<=(Le=ke.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Le+" (FD count "+Oe+")");Ee.push(Le)}else{if(xe!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+xe);var it,et=ke.parseCard16(),tt=ke.parseCard16();if(tt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+tt);for(var lt=0;lt<et;lt++){if(Le=ke.parseCard8(),it=ke.parseCard16(),Oe<=Le)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Le+" (FD count "+Oe+")");if(Re<it)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+it);for(;tt<it;tt++)Ee.push(Le);tt=it}if(it!==Re)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+it)}return Ee}(w,H+=S,C.numGlyphs,te.length)}var H=S+P.private[1],te=Yt(w,H,P.private[0],U.objects),X=(C.defaultWidthX=te.defaultWidthX,C.nominalWidthX=te.nominalWidthX,te.subrs!==0?(H=rt(w,H+te.subrs),C.subrs=H.objects,C.subrsBias=st(C.subrs)):(C.subrs=[],C.subrsBias=0),rt(w,S+P.charStrings)),te=(C.nGlyphs=X.objects.length,function(be,Te,xe,he){var Re=new Se.Parser(be,Te),Oe=(--xe,[".notdef"]);if((be=Re.parseCard8())===0)for(var Le=0;Le<xe;Le+=1)Ee=Re.parseSID(),Oe.push(Nt(he,Ee));else if(be===1)for(;Oe.length<=xe;)for(var Ee=Re.parseSID(),ke=Re.parseCard8(),Je=0;Je<=ke;Je+=1)Oe.push(Nt(he,Ee)),Ee+=1;else{if(be!==2)throw new Error("Unknown charset format "+be);for(;Oe.length<=xe;){Ee=Re.parseSID(),ke=Re.parseCard16();for(var it=0;it<=ke;it+=1)Oe.push(Nt(he,Ee)),Ee+=1}}return Oe}(w,S+P.charset,C.nGlyphs,U.objects));P.encoding===0?C.cffEncoding=new Ne(Z,te):P.encoding===1?C.cffEncoding=new Ne(se,te):C.cffEncoding=function(be,Te,xe){var he={},Re=new Se.Parser(be,Te);if((be=Re.parseCard8())===0)for(var Oe=Re.parseCard8(),Le=0;Le<Oe;Le+=1)he[ke=Re.parseCard8()]=Le;else{if(be!==1)throw new Error("Unknown encoding format "+be);for(var Ee=Re.parseCard8(),ke=1,Je=0;Je<Ee;Je+=1)for(var it=Re.parseCard8(),et=Re.parseCard8(),tt=it;tt<=it+et;tt+=1)he[tt]=ke,ke+=1}return new Ne(he,xe)}(w,S+P.encoding,te),C.encoding=C.encoding||C.cffEncoding,C.glyphs=new Ke.GlyphSet(C);for(var ae=0;ae<C.nGlyphs;ae+=1){var oe=X.objects[ae];C.glyphs.push(ae,Ke.cffGlyphLoader(C,ae,bt,oe))}},make:function(w,be){for(var C,P=new Ce.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),U=1/be.unitsPerEm,U={version:be.version,fullName:be.fullName,familyName:be.familyName,weight:be.weightName,fontBBox:be.fontBBox||[0,0,0,0],fontMatrix:[U,0,0,U,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},H=[],X=1;X<w.length;X+=1)C=w.get(X),H.push(C.name);var te,ae,oe=[],be=(P.header=new Ce.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),P.nameIndex=function(xe){var he=new Ce.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);he.names=[];for(var Re=0;Re<xe.length;Re+=1)he.names.push({name:"name_"+Re,type:"NAME",value:xe[Re]});return he}([be.postScriptName]),vn(U,oe)),Te=(P.topDictIndex=_n(be),P.globalSubrIndex=new Ce.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),P.charsets=function(xe,he){for(var Re=new Ce.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Oe=0;Oe<xe.length;Oe+=1){var Le=Zt(xe[Oe],he);Re.fields.push({name:"glyph_"+Oe,type:"SID",value:Le})}return Re}(H,oe),P.charStringsIndex=Jn(w),P.privateDict=(Te={},te=oe,(ae=new Ce.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=bn(ht,Te,te),ae),P.stringIndex=function(xe){var he=new Ce.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);he.strings=[];for(var Re=0;Re<xe.length;Re+=1)he.strings.push({name:"string_"+Re,type:"STRING",value:xe[Re]});return he}(oe),P.header.sizeOf()+P.nameIndex.sizeOf()+P.topDictIndex.sizeOf()+P.stringIndex.sizeOf()+P.globalSubrIndex.sizeOf());return U.charset=Te,U.encoding=0,U.charStrings=U.charset+P.charsets.sizeOf(),U.private[1]=U.charStrings+P.charStringsIndex.sizeOf(),be=vn(U,oe),P.topDictIndex=_n(be),P}},wn={parse:function(P,S){var C={},P=new Se.Parser(P,S);return C.version=P.parseVersion(),C.fontRevision=Math.round(1e3*P.parseFixed())/1e3,C.checkSumAdjustment=P.parseULong(),C.magicNumber=P.parseULong(),I.argument(C.magicNumber===1594834165,"Font header has wrong magic number."),C.flags=P.parseUShort(),C.unitsPerEm=P.parseUShort(),C.created=P.parseLongDateTime(),C.modified=P.parseLongDateTime(),C.xMin=P.parseShort(),C.yMin=P.parseShort(),C.xMax=P.parseShort(),C.yMax=P.parseShort(),C.macStyle=P.parseUShort(),C.lowestRecPPEM=P.parseUShort(),C.fontDirectionHint=P.parseShort(),C.indexToLocFormat=P.parseShort(),C.glyphDataFormat=P.parseShort(),C},make:function(w){var S=Math.round(new Date().getTime()/1e3)+2082844800,C=S;return w.createdTimestamp&&(C=w.createdTimestamp+2082844800),new Ce.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:C},{name:"modified",type:"LONGDATETIME",value:S},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],w)}},fe={parse:function(P,S){var C={},P=new Se.Parser(P,S);return C.version=P.parseVersion(),C.ascender=P.parseShort(),C.descender=P.parseShort(),C.lineGap=P.parseShort(),C.advanceWidthMax=P.parseUShort(),C.minLeftSideBearing=P.parseShort(),C.minRightSideBearing=P.parseShort(),C.xMaxExtent=P.parseShort(),C.caretSlopeRise=P.parseShort(),C.caretSlopeRun=P.parseShort(),C.caretOffset=P.parseShort(),P.relativeOffset+=8,C.metricDataFormat=P.parseShort(),C.numberOfHMetrics=P.parseUShort(),C},make:function(w){return new Ce.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],w)}},Be={parse:function(w,S,C,P,U){for(var H,X,te=new Se.Parser(w,S),ae=0;ae<P;ae+=1){ae<C&&(H=te.parseUShort(),X=te.parseShort());var oe=U.get(ae);oe.advanceWidth=H,oe.leftSideBearing=X}},make:function(w){for(var S=new Ce.Table("hmtx",[]),C=0;C<w.length;C+=1){var U=w.get(C),P=U.advanceWidth||0,U=U.leftSideBearing||0;S.fields.push({name:"advanceWidth_"+C,type:"USHORT",value:P}),S.fields.push({name:"leftSideBearing_"+C,type:"SHORT",value:U})}return S}},Ze={make:function(w){for(var S=new Ce.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:w.length}]),C="",P=12+4*w.length,U=0;U<w.length;++U){var H=C.indexOf(w[U]);H<0&&(H=C.length,C+=w[U]),S.fields.push({name:"offset "+U,type:"USHORT",value:P+H}),S.fields.push({name:"length "+U,type:"USHORT",value:w[U].length})}return S.fields.push({name:"stringPool",type:"CHARARRAY",value:C}),S},parse:function(w,S){for(var C=new Se.Parser(w,S),P=C.parseULong(),U=(I.argument(P===1,"Unsupported ltag table version."),C.skip("uLong",1),C.parseULong()),H=[],X=0;X<U;X++){for(var te="",ae=S+C.parseUShort(),oe=C.parseUShort(),be=ae;be<ae+oe;++be)te+=String.fromCharCode(w.getInt8(be));H.push(te)}return H}},Ie={parse:function(P,S){var C={},P=new Se.Parser(P,S);return C.version=P.parseVersion(),C.numGlyphs=P.parseUShort(),C.version===1&&(C.maxPoints=P.parseUShort(),C.maxContours=P.parseUShort(),C.maxCompositePoints=P.parseUShort(),C.maxCompositeContours=P.parseUShort(),C.maxZones=P.parseUShort(),C.maxTwilightPoints=P.parseUShort(),C.maxStorage=P.parseUShort(),C.maxFunctionDefs=P.parseUShort(),C.maxInstructionDefs=P.parseUShort(),C.maxStackElements=P.parseUShort(),C.maxSizeOfInstructions=P.parseUShort(),C.maxComponentElements=P.parseUShort(),C.maxComponentDepth=P.parseUShort()),C},make:function(w){return new Ce.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:w}])}},ct=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],De={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},ft={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},We={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},dt="utf-16",Ye={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},It={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Gt(w,S,C){switch(w){case 0:return dt;case 1:return It[C]||Ye[S];case 3:if(S===1||S===10)return dt}}function Lt(w){var S,C={};for(S in w)C[w[S]]=parseInt(S);return C}function Ht(w,S,C,P,U,H){return new Ce.Record("NameRecord",[{name:"platformID",type:"USHORT",value:w},{name:"encodingID",type:"USHORT",value:S},{name:"languageID",type:"USHORT",value:C},{name:"nameID",type:"USHORT",value:P},{name:"length",type:"USHORT",value:U},{name:"offset",type:"USHORT",value:H}])}function yr(w,S){if((C=function(H,X){var te=H.length,ae=X.length-te+1;e:for(var oe=0;oe<ae;oe++)for(;oe<ae;oe++){for(var be=0;be<te;be++)if(X[oe+be]!==H[be])continue e;return oe}return-1}(w,S))<0)for(var C=S.length,P=0,U=w.length;P<U;++P)S.push(w[P]);return C}var ar={parse:function(w,S,C){for(var P={},U=new Se.Parser(w,S),S=U.parseUShort(),H=U.parseUShort(),X=U.offset+U.parseUShort(),te=0;te<H;te++){var Re=U.parseUShort(),ae=U.parseUShort(),oe=U.parseUShort(),be=U.parseUShort(),be=ct[be]||be,Te=U.parseUShort(),xe=U.parseUShort(),he=function(Le,Ee,ke){switch(Le){case 0:if(Ee===65535)return"und";if(ke)return ke[Ee];break;case 1:return De[Ee];case 3:return We[Ee]}}(Re,oe,C),Re=Gt(Re,ae,oe);Re!==void 0&&he!==void 0&&(ae=void 0,(ae=Re===dt?z.UTF16(w,X+xe,Te):z.MACSTRING(w,X+xe,Te,Re))&&((oe=(oe=P[be])===void 0?P[be]={}:oe)[he]=ae))}return S===1&&U.parseUShort(),P},make:function(w,S){var C,P=[],U={},H=Lt(ct);for(C in w){var X=H[C];if(X===void 0&&(X=C),xe=parseInt(X),isNaN(xe))throw new Error('Name table entry "'+C+'" does not exist, see nameTableNames for complete list.');U[xe]=w[C],P.push(xe)}for(var te=Lt(De),ae=Lt(We),oe=[],be=[],Te=0;Te<P.length;Te++){var xe,he,Re=U[xe=P[Te]];for(he in Re){var Oe=Re[he],it=1,Le=te[he],Ee=ft[Le],ke=Gt(it,Ee,Le),ke=Y.MACSTRING(Oe,ke),Je=(ke===void 0&&(it=0,(Le=S.indexOf(he))<0&&(Le=S.length,S.push(he)),Ee=4,ke=Y.UTF16(Oe)),yr(ke,be)),it=(oe.push(Ht(it,Ee,Le,xe,ke.length,Je)),ae[he]);it!==void 0&&(Le=yr(Ee=Y.UTF16(Oe),be),oe.push(Ht(3,1,it,xe,Ee.length,Le)))}}oe.sort(function(lt,wt){return lt.platformID-wt.platformID||lt.encodingID-wt.encodingID||lt.languageID-wt.languageID||lt.nameID-wt.nameID});for(var et=new Ce.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:oe.length},{name:"stringOffset",type:"USHORT",value:6+12*oe.length}]),tt=0;tt<oe.length;tt++)et.fields.push({name:"record_"+tt,type:"RECORD",value:oe[tt]});return et.fields.push({name:"strings",type:"LITERAL",value:be}),et}},gr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Wt={parse:function(w,S){var C={},P=new Se.Parser(w,S);C.version=P.parseUShort(),C.xAvgCharWidth=P.parseShort(),C.usWeightClass=P.parseUShort(),C.usWidthClass=P.parseUShort(),C.fsType=P.parseUShort(),C.ySubscriptXSize=P.parseShort(),C.ySubscriptYSize=P.parseShort(),C.ySubscriptXOffset=P.parseShort(),C.ySubscriptYOffset=P.parseShort(),C.ySuperscriptXSize=P.parseShort(),C.ySuperscriptYSize=P.parseShort(),C.ySuperscriptXOffset=P.parseShort(),C.ySuperscriptYOffset=P.parseShort(),C.yStrikeoutSize=P.parseShort(),C.yStrikeoutPosition=P.parseShort(),C.sFamilyClass=P.parseShort(),C.panose=[];for(var U=0;U<10;U++)C.panose[U]=P.parseByte();return C.ulUnicodeRange1=P.parseULong(),C.ulUnicodeRange2=P.parseULong(),C.ulUnicodeRange3=P.parseULong(),C.ulUnicodeRange4=P.parseULong(),C.achVendID=String.fromCharCode(P.parseByte(),P.parseByte(),P.parseByte(),P.parseByte()),C.fsSelection=P.parseUShort(),C.usFirstCharIndex=P.parseUShort(),C.usLastCharIndex=P.parseUShort(),C.sTypoAscender=P.parseShort(),C.sTypoDescender=P.parseShort(),C.sTypoLineGap=P.parseShort(),C.usWinAscent=P.parseUShort(),C.usWinDescent=P.parseUShort(),1<=C.version&&(C.ulCodePageRange1=P.parseULong(),C.ulCodePageRange2=P.parseULong()),2<=C.version&&(C.sxHeight=P.parseShort(),C.sCapHeight=P.parseShort(),C.usDefaultChar=P.parseUShort(),C.usBreakChar=P.parseUShort(),C.usMaxContent=P.parseUShort()),C},make:function(w){return new Ce.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],w)},unicodeRanges:gr,getUnicodeRange:function(w){for(var S=0;S<gr.length;S+=1){var C=gr[S];if(w>=C.begin&&w<C.end)return S}return-1}},Ho={parse:function(w,S){var C={},P=new Se.Parser(w,S);switch(C.version=P.parseVersion(),C.italicAngle=P.parseFixed(),C.underlinePosition=P.parseShort(),C.underlineThickness=P.parseShort(),C.isFixedPitch=P.parseULong(),C.minMemType42=P.parseULong(),C.maxMemType42=P.parseULong(),C.minMemType1=P.parseULong(),C.maxMemType1=P.parseULong(),C.version){case 1:C.names=ge.slice();break;case 2:C.numberOfGlyphs=P.parseUShort(),C.glyphNameIndex=new Array(C.numberOfGlyphs);for(var U=0;U<C.numberOfGlyphs;U++)C.glyphNameIndex[U]=P.parseUShort();C.names=[];for(var H,X=0;X<C.numberOfGlyphs;X++)C.glyphNameIndex[X]>=ge.length&&(H=P.parseChar(),C.names.push(P.parseString(H)));break;case 2.5:C.numberOfGlyphs=P.parseUShort(),C.offset=new Array(C.numberOfGlyphs);for(var te=0;te<C.numberOfGlyphs;te++)C.offset[te]=P.parseChar()}return C},make:function(){return new Ce.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},dr=new Array(9),nn=(dr[1]=function(){var w=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{substFormat:1,coverage:this.parsePointer(_e.coverage),deltaGlyphId:this.parseUShort()}:S===2?{substFormat:2,coverage:this.parsePointer(_e.coverage),substitute:this.parseOffset16List()}:void I.assert(!1,"0x"+w.toString(16)+": lookup type 1 format must be 1 or 2.")},dr[2]=function(){var w=this.parseUShort();return I.argument(w===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(_e.coverage),sequences:this.parseListOfLists()}},dr[3]=function(){var w=this.parseUShort();return I.argument(w===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(_e.coverage),alternateSets:this.parseListOfLists()}},dr[4]=function(){var w=this.parseUShort();return I.argument(w===1,"GSUB ligature table identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(_e.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:_e.uShort,lookupListIndex:_e.uShort});dr[5]=function(){var w,S,C=this.offset+this.relativeOffset,P=this.parseUShort();return P===1?{substFormat:P,coverage:this.parsePointer(_e.coverage),ruleSets:this.parseListOfLists(function(){var U=this.parseUShort(),H=this.parseUShort();return{input:this.parseUShortList(U-1),lookupRecords:this.parseRecordList(H,nn)}})}:P===2?{substFormat:P,coverage:this.parsePointer(_e.coverage),classDef:this.parsePointer(_e.classDef),classSets:this.parseListOfLists(function(){var U=this.parseUShort(),H=this.parseUShort();return{classes:this.parseUShortList(U-1),lookupRecords:this.parseRecordList(H,nn)}})}:P===3?(w=this.parseUShort(),S=this.parseUShort(),{substFormat:P,coverages:this.parseList(w,_e.pointer(_e.coverage)),lookupRecords:this.parseRecordList(S,nn)}):void I.assert(!1,"0x"+C.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},dr[6]=function(){var w=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{substFormat:1,coverage:this.parsePointer(_e.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(nn)}})}:S===2?{substFormat:2,coverage:this.parsePointer(_e.coverage),backtrackClassDef:this.parsePointer(_e.classDef),inputClassDef:this.parsePointer(_e.classDef),lookaheadClassDef:this.parsePointer(_e.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(nn)}})}:S===3?{substFormat:3,backtrackCoverage:this.parseList(_e.pointer(_e.coverage)),inputCoverage:this.parseList(_e.pointer(_e.coverage)),lookaheadCoverage:this.parseList(_e.pointer(_e.coverage)),lookupRecords:this.parseRecordList(nn)}:void I.assert(!1,"0x"+w.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},dr[7]=function(){var w=this.parseUShort(),w=(I.argument(w===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),S=new _e(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:w,extension:dr[w].call(S)}},dr[8]=function(){var w=this.parseUShort();return I.argument(w===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(_e.coverage),backtrackCoverage:this.parseList(_e.pointer(_e.coverage)),lookaheadCoverage:this.parseList(_e.pointer(_e.coverage)),substitutes:this.parseUShortList()}};var es=new Array(9);es[1]=function(w){return w.substFormat===1?new Ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ce.Coverage(w.coverage)},{name:"deltaGlyphID",type:"USHORT",value:w.deltaGlyphId}]):new Ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ce.Coverage(w.coverage)}].concat(Ce.ushortList("substitute",w.substitute)))},es[3]=function(w){return I.assert(w.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ce.Coverage(w.coverage)}].concat(Ce.tableList("altSet",w.alternateSets,function(S){return new Ce.Table("alternateSetTable",Ce.ushortList("alternate",S))})))},es[4]=function(w){return I.assert(w.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ce.Coverage(w.coverage)}].concat(Ce.tableList("ligSet",w.ligatureSets,function(S){return new Ce.Table("ligatureSetTable",Ce.tableList("ligature",S,function(C){return new Ce.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:C.ligGlyph}].concat(Ce.ushortList("component",C.components,C.components.length+1)))}))})))};var Wo={parse:function(w,S){return S=(w=new _e(w,S=S||0)).parseVersion(1),I.argument(S===1||S===1.1,"Unsupported GSUB table version."),S===1?{version:S,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(dr)}:{version:S,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(dr),variations:w.parseFeatureVariationsList()}},make:function(w){return new Ce.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ce.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new Ce.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new Ce.LookupList(w.lookups,es)}])}},qo={parse:function(w,S){for(var C=new Se.Parser(w,S),P=C.parseULong(),U=(I.argument(P===1,"Unsupported META table version."),C.parseULong(),C.parseULong(),C.parseULong()),H={},X=0;X<U;X++){var te=C.parseTag(),oe=C.parseULong(),ae=C.parseULong(),oe=z.UTF8(w,S+oe,ae);H[te]=oe}return H},make:function(w){var S,C=Object.keys(w).length,P="",U=16+12*C,H=new Ce.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:U},{name:"numTags",type:"ULONG",value:C}]);for(S in w){var X=P.length;P+=w[S],H.fields.push({name:"tag "+S,type:"TAG",value:S}),H.fields.push({name:"offset "+S,type:"ULONG",value:U+X}),H.fields.push({name:"length "+S,type:"ULONG",value:w[S].length})}return H.fields.push({name:"stringPool",type:"CHARARRAY",value:P}),H}};function Xo(w){return Math.log(w)/Math.log(2)|0}function Gs(w){for(;w.length%4!=0;)w.push(0);for(var S=0,C=0;C<w.length;C+=4)S+=(w[C]<<24)+(w[C+1]<<16)+(w[C+2]<<8)+w[C+3];return S%=Math.pow(2,32)}function Yo(w,S,C,P){return new Ce.Record("Table Record",[{name:"tag",type:"TAG",value:w!==void 0?w:""},{name:"checkSum",type:"ULONG",value:S!==void 0?S:0},{name:"offset",type:"ULONG",value:C!==void 0?C:0},{name:"length",type:"ULONG",value:P!==void 0?P:0}])}function Zo(w){for(var S=new Ce.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),C=(S.tables=w,S.numTables=w.length,Math.pow(2,Xo(S.numTables))),P=(S.searchRange=16*C,S.entrySelector=Xo(C),S.rangeShift=16*S.numTables-S.searchRange,[]),U=[],H=S.sizeOf()+Yo().sizeOf()*S.numTables;H%4!=0;)H+=1,U.push({name:"padding",type:"BYTE",value:0});for(var X=0;X<w.length;X+=1){var te=w[X],ae=(I.argument(te.tableName.length===4,"Table name"+te.tableName+" is invalid."),te.sizeOf()),oe=Yo(te.tableName,Gs(te.encode()),H,ae);for(P.push({name:oe.tag+" Table Record",type:"RECORD",value:oe}),U.push({name:te.tableName+" table",type:"RECORD",value:te}),H+=ae,I.argument(!isNaN(H),"Something went wrong calculating the offset.");H%4!=0;)H+=1,U.push({name:"padding",type:"BYTE",value:0})}return P.sort(function(be,Te){return be.value.tag>Te.value.tag?1:-1}),S.fields=S.fields.concat(P),S.fields=S.fields.concat(U),S}function $o(w,S,C){for(var P=0;P<S.length;P+=1){var U=w.charToGlyphIndex(S[P]);if(0<U)return w.glyphs.get(U).getMetrics()}return C}var cc={make:Zo,fontToTable:function(w){for(var S,C=[],P=[],U=[],H=[],X=[],te=[],ae=[],oe=0,be=0,Te=0,xe=0,he=0,Re=0;Re<w.glyphs.length;Re+=1){var Oe=w.glyphs.get(Re),Le=0|Oe.unicode;if(isNaN(Oe.advanceWidth))throw new Error("Glyph "+Oe.name+" ("+Re+"): advanceWidth is not a number.");(Le<S||S===void 0)&&0<Le&&(S=Le),oe<Le&&(oe=Le);var Le=Wt.getUnicodeRange(Le);if(Le<32)be|=1<<Le;else if(Le<64)Te|=1<<Le-32;else if(Le<96)xe|=1<<Le-64;else{if(!(Le<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");he|=1<<Le-96}Oe.name!==".notdef"&&(Le=Oe.getMetrics(),C.push(Le.xMin),P.push(Le.yMin),U.push(Le.xMax),H.push(Le.yMax),te.push(Le.leftSideBearing),ae.push(Le.rightSideBearing),X.push(Oe.advanceWidth))}var Ee,ke={xMin:Math.min.apply(null,C),yMin:Math.min.apply(null,P),xMax:Math.max.apply(null,U),yMax:Math.max.apply(null,H),advanceWidthMax:Math.max.apply(null,X),advanceWidthAvg:function(qt){for(var Tn=0,an=0;an<qt.length;an+=1)Tn+=qt[an];return Tn/qt.length}(X),minLeftSideBearing:Math.min.apply(null,te),maxLeftSideBearing:Math.max.apply(null,te),minRightSideBearing:Math.min.apply(null,ae)},Je=(ke.ascender=w.ascender,ke.descender=w.descender,wn.make({flags:3,unitsPerEm:w.unitsPerEm,xMin:ke.xMin,yMin:ke.yMin,xMax:ke.xMax,yMax:ke.yMax,lowestRecPPEM:3,createdTimestamp:w.createdTimestamp})),it=fe.make({ascender:ke.ascender,descender:ke.descender,advanceWidthMax:ke.advanceWidthMax,minLeftSideBearing:ke.minLeftSideBearing,minRightSideBearing:ke.minRightSideBearing,xMaxExtent:ke.maxLeftSideBearing+(ke.xMax-ke.xMin),numberOfHMetrics:w.glyphs.length}),et=Ie.make(w.glyphs.length),tt=Wt.make({xAvgCharWidth:Math.round(ke.advanceWidthAvg),usWeightClass:w.tables.os2.usWeightClass,usWidthClass:w.tables.os2.usWidthClass,usFirstCharIndex:S,usLastCharIndex:oe,ulUnicodeRange1:be,ulUnicodeRange2:Te,ulUnicodeRange3:xe,ulUnicodeRange4:he,fsSelection:w.tables.os2.fsSelection,sTypoAscender:ke.ascender,sTypoDescender:ke.descender,sTypoLineGap:0,usWinAscent:ke.yMax,usWinDescent:Math.abs(ke.yMin),ulCodePageRange1:1,sxHeight:$o(w,"xyvw",{yMax:Math.round(ke.ascender/2)}).yMax,sCapHeight:$o(w,"HIKLEFJMNTZBDPRAGOQSUVWXY",ke).yMax,usDefaultChar:w.hasChar(" ")?32:0,usBreakChar:w.hasChar(" ")?32:0}),lt=Be.make(w.glyphs),wt=Q.make(w.glyphs),Mt=w.getEnglishName("fontFamily"),yt=w.getEnglishName("fontSubfamily"),_t=Mt+" "+yt,At=(At=w.getEnglishName("postScriptName"))||Mt.replace(/\s/g,"")+"-"+yt,Ut={};for(Ee in w.names)Ut[Ee]=w.names[Ee];Ut.uniqueID||(Ut.uniqueID={en:w.getEnglishName("manufacturer")+":"+_t}),Ut.postScriptName||(Ut.postScriptName={en:At}),Ut.preferredFamily||(Ut.preferredFamily=w.names.fontFamily),Ut.preferredSubfamily||(Ut.preferredSubfamily=w.names.fontSubfamily);var Jt=[],Qt=ar.make(Ut,Jt),Jt=0<Jt.length?Ze.make(Jt):void 0,fr=Ho.make(),_t=xn.make(w.glyphs,{version:w.getEnglishName("version"),fullName:_t,familyName:Mt,weightName:yt,postScriptName:At,unitsPerEm:w.unitsPerEm,fontBBox:[0,ke.yMin,ke.ascender,ke.advanceWidthMax]}),Mt=w.metas&&0<Object.keys(w.metas).length?qo.make(w.metas):void 0,yt=[Je,it,et,tt,Qt,wt,fr,_t,lt];Jt&&yt.push(Jt),w.tables.gsub&&yt.push(Wo.make(w.tables.gsub)),Mt&&yt.push(Mt);for(var er=Gs((At=Zo(yt)).encode()),Pt=At.fields,$t=!1,Tt=0;Tt<Pt.length;Tt+=1)if(Pt[Tt].name==="head table"){Pt[Tt].value.checkSumAdjustment=2981146554-er,$t=!0;break}if($t)return At;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Gs};function Vs(w,S){for(var C=0,P=w.length-1;C<=P;){var U=C+P>>>1,H=w[U].tag;if(H===S)return U;H<S?C=1+U:P=U-1}return-C-1}function Ko(w,S){for(var C=0,P=w.length-1;C<=P;){var U=C+P>>>1,H=w[U];if(H===S)return U;H<S?C=1+U:P=U-1}return-C-1}function Qo(w,S){for(var C=0,P=w.length-1;C<=P;){var U,H=C+P>>>1,X=(U=w[H]).start;if(X===S)return U;X<S?C=1+H:P=H-1}if(0<C)return S>(U=w[C-1]).end?0:U}function ts(w,S){this.font=w,this.tableName=S}function rs(w){ts.call(this,w,"gpos")}function br(w){ts.call(this,w,"gsub")}function Jo(w,S,C){for(var P=w.subtables,U=0;U<P.length;U++){var H=P[U];if(H.substFormat===S)return H}if(C)return P.push(C),C}function ei(w){for(var S=new ArrayBuffer(w.length),C=new Uint8Array(S),P=0;P<w.length;++P)C[P]=w[P];return S}function sn(w,S){if(!w)throw S}function ti(w,S,C,P,U){var H=0<(S&P)?(H=w.parseByte(),C+(H=S&U?H:-H)):0<(S&U)?C:C+w.parseShort();return H}function uc(w,S,C){var P,U=new Se.Parser(S,C);if(w.numberOfContours=U.parseShort(),w._xMin=U.parseShort(),w._yMin=U.parseShort(),w._xMax=U.parseShort(),w._yMax=U.parseShort(),0<w.numberOfContours){for(var H=w.endPointIndices=[],X=0;X<w.numberOfContours;X+=1)H.push(U.parseUShort());w.instructionLength=U.parseUShort(),w.instructions=[];for(var te=0;te<w.instructionLength;te+=1)w.instructions.push(U.parseByte());for(var ae=H[H.length-1]+1,oe=[],be=0;be<ae;be+=1)if(P=U.parseByte(),oe.push(P),0<(8&P))for(var Te=U.parseByte(),xe=0;xe<Te;xe+=1)oe.push(P),be+=1;if(I.argument(oe.length===ae,"Bad flags."),0<H.length){var he,Re=[];if(0<ae){for(var Oe=0;Oe<ae;Oe+=1)P=oe[Oe],(he={}).onCurve=!!(1&P),he.lastPointOfContour=0<=H.indexOf(Oe),Re.push(he);for(var Le=0,Ee=0;Ee<ae;Ee+=1)P=oe[Ee],(he=Re[Ee]).x=ti(U,P,Le,2,16),Le=he.x;for(var ke=0,Je=0;Je<ae;Je+=1)P=oe[Je],(he=Re[Je]).y=ti(U,P,ke,4,32),ke=he.y}w.points=Re}else w.points=[]}else if(w.numberOfContours===0)w.points=[];else{w.isComposite=!0,w.points=[],w.components=[];for(var it=!0;it;){oe=U.parseUShort();var et={glyphIndex:U.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&oe)?0<(2&oe)?(et.dx=U.parseShort(),et.dy=U.parseShort()):et.matchedPoints=[U.parseUShort(),U.parseUShort()]:0<(2&oe)?(et.dx=U.parseChar(),et.dy=U.parseChar()):et.matchedPoints=[U.parseByte(),U.parseByte()],0<(8&oe)?et.xScale=et.yScale=U.parseF2Dot14():0<(64&oe)?(et.xScale=U.parseF2Dot14(),et.yScale=U.parseF2Dot14()):0<(128&oe)&&(et.xScale=U.parseF2Dot14(),et.scale01=U.parseF2Dot14(),et.scale10=U.parseF2Dot14(),et.yScale=U.parseF2Dot14()),w.components.push(et),it=!!(32&oe)}if(256&oe){w.instructionLength=U.parseUShort(),w.instructions=[];for(var tt=0;tt<w.instructionLength;tt+=1)w.instructions.push(U.parseByte())}}}function zs(w,S){for(var C=[],P=0;P<w.length;P+=1){var U=w[P],U={x:S.xScale*U.x+S.scale01*U.y+S.dx,y:S.scale10*U.x+S.yScale*U.y+S.dy,onCurve:U.onCurve,lastPointOfContour:U.lastPointOfContour};C.push(U)}return C}function ri(w){var S=new K;if(w)for(var C=function(Te){for(var xe=[],he=[],Re=0;Re<Te.length;Re+=1){var Oe=Te[Re];he.push(Oe),Oe.lastPointOfContour&&(xe.push(he),he=[])}return I.argument(he.length===0,"There are still points left in the current contour."),xe}(w),P=0;P<C.length;++P){var U,H=C[P],X=H[H.length-1],te=H[0];X.onCurve?S.moveTo(X.x,X.y):te.onCurve?S.moveTo(te.x,te.y):(U={x:.5*(X.x+te.x),y:.5*(X.y+te.y)},S.moveTo(U.x,U.y));for(var ae=0;ae<H.length;++ae){var oe,be=X,X=te,te=H[(ae+1)%H.length];X.onCurve?S.lineTo(X.x,X.y):(oe=te,be.onCurve||(X.x,be.x,X.y,be.y),te.onCurve||(oe={x:.5*(X.x+te.x),y:.5*(X.y+te.y)}),S.quadraticCurveTo(X.x,X.y,oe.x,oe.y))}S.closePath()}return S}function dc(w,S){if(S.isComposite)for(var C=0;C<S.components.length;C+=1){var P=S.components[C],U=w.get(P.glyphIndex);if(U.getPath(),U.points){var H=void 0;if(P.matchedPoints===void 0)H=zs(U.points,P);else{if(P.matchedPoints[0]>S.points.length-1||P.matchedPoints[1]>U.points.length-1)throw Error("Matched points out of range in "+S.name);var X=S.points[P.matchedPoints[0]],te=U.points[P.matchedPoints[1]],P={xScale:P.xScale,scale01:P.scale01,scale10:P.scale10,yScale:P.yScale,dx:0,dy:0},te=zs([te],P)[0];P.dx=X.x-te.x,P.dy=X.y-te.y,H=zs(U.points,P)}S.points=S.points.concat(H)}}return ri(S.points)}(rs.prototype=ts.prototype={searchTag:Vs,binSearch:Ko,getTable:function(w){var S=this.font.tables[this.tableName];return S=!S&&w?this.font.tables[this.tableName]=this.createDefaultTable():S},getScriptNames:function(){var w=this.getTable();return w?w.scripts.map(function(S){return S.tag}):[]},getDefaultScriptName:function(){var w=this.getTable();if(w){for(var S=!1,C=0;C<w.scripts.length;C++){var P=w.scripts[C].tag;if(P==="DFLT")return P;P==="latn"&&(S=!0)}return S?"latn":void 0}},getScriptTable:function(w,S){var C,P=this.getTable(S);if(P)return C=P.scripts,0<=(P=Vs(P.scripts,w=w||"DFLT"))?C[P].script:S?(C.splice(-1-P,0,S={tag:w,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),S.script):void 0},getLangSysTable:function(U,S,C){var P,U=this.getScriptTable(U,C);if(U)return S&&S!=="dflt"&&S!=="DFLT"?0<=(P=Vs(U.langSysRecords,S))?U.langSysRecords[P].langSys:C?(U.langSysRecords.splice(-1-P,0,C={tag:S,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),C.langSys):void 0:U.defaultLangSys},getFeatureTable:function(w,S,C,P){if(w=this.getLangSysTable(w,S,P),w){for(var U,H=w.featureIndexes,X=this.font.tables[this.tableName].features,te=0;te<H.length;te++)if((U=X[H[te]]).tag===C)return U.feature;if(P)return S=X.length,I.assert(S===0||C>=X[S-1].tag,"Features must be added in alphabetical order."),X.push(U={tag:C,feature:{params:0,lookupListIndexes:[]}}),H.push(S),U.feature}},getLookupTables:function(H,S,C,P,U){var H=this.getFeatureTable(H,S,C,U),X=[];if(H){for(var te,ae=H.lookupListIndexes,oe=this.font.tables[this.tableName].lookups,be=0;be<ae.length;be++)(te=oe[ae[be]]).lookupType===P&&X.push(te);if(X.length===0&&U)return S=oe.length,oe.push(te={lookupType:P,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ae.push(S),[te]}return X},getGlyphClass:function(w,S){switch(w.format){case 1:return w.startGlyph<=S&&S<w.startGlyph+w.classes.length?w.classes[S-w.startGlyph]:0;case 2:var C=Qo(w.ranges,S);return C?C.classId:0}},getCoverageIndex:function(w,S){switch(w.format){case 1:var C=Ko(w.glyphs,S);return 0<=C?C:-1;case 2:return C=Qo(w.ranges,S),C?C.index+S-C.start:-1}},expandCoverage:function(w){if(w.format===1)return w.glyphs;for(var S=[],C=w.ranges,P=0;P<C.length;P++)for(var U=C[P],H=U.start,X=U.end,te=H;te<=X;te++)S.push(te);return S}}).init=function(){var w=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(w)},rs.prototype.getKerningValue=function(w,S,C){for(var P=0;P<w.length;P++)for(var U=w[P].subtables,H=0;H<U.length;H++){var X=U[H],te=this.getCoverageIndex(X.coverage,S);if(!(te<0))switch(X.posFormat){case 1:for(var ae=X.pairSets[te],oe=0;oe<ae.length;oe++){var be=ae[oe];if(be.secondGlyph===C)return be.value1&&be.value1.xAdvance||0}break;case 2:var xe=this.getGlyphClass(X.classDef1,S),Te=this.getGlyphClass(X.classDef2,C),xe=X.classRecords[xe][Te];return xe.value1&&xe.value1.xAdvance||0}}return 0},rs.prototype.getKerningTables=function(w,S){if(this.font.tables.gpos)return this.getLookupTables(w,S,"kern",2)},(br.prototype=ts.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},br.prototype.getSingle=function(w,S,C){for(var P=[],U=this.getLookupTables(S,C,w,1),H=0;H<U.length;H++)for(var X=U[H].subtables,te=0;te<X.length;te++){var ae=X[te],oe=this.expandCoverage(ae.coverage),be=void 0;if(ae.substFormat===1)for(var Te=ae.deltaGlyphId,be=0;be<oe.length;be++){var xe=oe[be];P.push({sub:xe,by:xe+Te})}else{var he=ae.substitute;for(be=0;be<oe.length;be++)P.push({sub:oe[be],by:he[be]})}}return P},br.prototype.getAlternates=function(w,S,C){for(var P=[],U=this.getLookupTables(S,C,w,3),H=0;H<U.length;H++)for(var X=U[H].subtables,te=0;te<X.length;te++)for(var ae=X[te],oe=this.expandCoverage(ae.coverage),be=ae.alternateSets,Te=0;Te<oe.length;Te++)P.push({sub:oe[Te],by:be[Te]});return P},br.prototype.getLigatures=function(w,S,C){for(var P=[],U=this.getLookupTables(S,C,w,4),H=0;H<U.length;H++)for(var X=U[H].subtables,te=0;te<X.length;te++)for(var ae=X[te],oe=this.expandCoverage(ae.coverage),be=ae.ligatureSets,Te=0;Te<oe.length;Te++)for(var xe=oe[Te],he=be[Te],Re=0;Re<he.length;Re++){var Oe=he[Re];P.push({sub:[xe].concat(Oe.components),by:Oe.ligGlyph})}return P},br.prototype.addSingle=function(w,S,C,P){C=Jo(this.getLookupTables(C,P,w,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),I.assert(C.coverage.format===1,"Ligature: unable to modify coverage table format "+C.coverage.format),P=S.sub,w=this.binSearch(C.coverage.glyphs,P),w<0&&(C.coverage.glyphs.splice(w=-1-w,0,P),C.substitute.splice(w,0,0)),C.substitute[w]=S.by},br.prototype.addAlternate=function(w,S,C,P){C=Jo(this.getLookupTables(C,P,w,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),I.assert(C.coverage.format===1,"Ligature: unable to modify coverage table format "+C.coverage.format),P=S.sub,w=this.binSearch(C.coverage.glyphs,P),w<0&&(C.coverage.glyphs.splice(w=-1-w,0,P),C.alternateSets.splice(w,0,0)),C.alternateSets[w]=S.by},br.prototype.addLigature=function(H,ae,te,U){var te=this.getLookupTables(te,U,H,4,!0)[0],U=te.subtables[0],H=(U||(te.subtables[0]=U={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),I.assert(U.coverage.format===1,"Ligature: unable to modify coverage table format "+U.coverage.format),ae.sub[0]),X=ae.sub.slice(1),te={ligGlyph:ae.by,components:X},ae=this.binSearch(U.coverage.glyphs,H);if(0<=ae){for(var oe=U.ligatureSets[ae],be=0;be<oe.length;be++)if(function(Te,xe){var he=Te.length;if(he===xe.length){for(var Re=0;Re<he;Re++)if(Te[Re]!==xe[Re])return;return 1}}(oe[be].components,X))return;oe.push(te)}else U.coverage.glyphs.splice(ae=-1-ae,0,H),U.ligatureSets.splice(ae,0,[te])},br.prototype.getFeature=function(w,S,C){if(/ss\d\d/.test(w))return this.getSingle(w,S,C);switch(w){case"aalt":case"salt":return this.getSingle(w,S,C).concat(this.getAlternates(w,S,C));case"dlig":case"liga":case"rlig":return this.getLigatures(w,S,C)}},br.prototype.add=function(w,S,C,P){if(/ss\d\d/.test(w))return this.addSingle(w,S,C,P);switch(w){case"aalt":case"salt":return typeof S.by=="number"?this.addSingle(w,S,C,P):this.addAlternate(w,S,C,P);case"dlig":case"liga":case"rlig":return this.addLigature(w,S,C,P)}};var ni={getPath:ri,parse:function(w,S,C,P){for(var U=new Ke.GlyphSet(P),H=0;H<C.length-1;H+=1){var X=C[H];X!==C[H+1]?U.push(H,Ke.ttfGlyphLoader(P,H,uc,w,S+X,dc)):U.push(H,Ke.glyphLoader(P,H))}return U}};function si(w){this.font=w,this.getCommands=function(S){return ni.getPath(S).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function hc(w){return w}function oi(w){return Math.sign(w)*Math.round(Math.abs(w))}function fc(w){return Math.sign(w)*Math.round(Math.abs(2*w))/2}function pc(w){return Math.sign(w)*(Math.round(Math.abs(w)+.5)-.5)}function mc(w){return Math.sign(w)*Math.ceil(Math.abs(w))}function yc(w){return Math.sign(w)*Math.floor(Math.abs(w))}function ii(w){var S=this.srPeriod,C=this.srPhase,P=1;return w<0&&(w=-w,P=-1),w+=this.srThreshold-C,w=Math.trunc(w/S)*S,(w+=C)<0?C*P:w*P}var vr={x:1,y:0,axis:"x",distance:function(w,S,C,P){return(C?w.xo:w.x)-(P?S.xo:S.x)},interpolate:function(w,S,C,P){var U,H,X,te,ae,oe,be;if(!P||P===this)return U=w.xo-S.xo,H=w.xo-C.xo,ae=S.x-S.xo,oe=C.x-C.xo,(be=(X=Math.abs(U))+(te=Math.abs(H)))===0?void(w.x=w.xo+(ae+oe)/2):void(w.x=w.xo+(ae*te+oe*X)/be);U=P.distance(w,S,!0,!0),H=P.distance(w,C,!0,!0),ae=P.distance(S,S,!1,!0),oe=P.distance(C,C,!1,!0),(be=(X=Math.abs(U))+(te=Math.abs(H)))===0?vr.setRelative(w,w,(ae+oe)/2,P,!0):vr.setRelative(w,w,(ae*te+oe*X)/be,P,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(w,S,C,P,U){var H,X;P&&P!==this?(H=U?S.xo:S.x,X=U?S.yo:S.y,H+=C*P.x,X+=C*P.y,w.x=H+(w.y-X)/P.normalSlope):w.x=(U?S.xo:S.x)+C},slope:0,touch:function(w){w.xTouched=!0},touched:function(w){return w.xTouched},untouch:function(w){w.xTouched=!1}},jr={x:0,y:1,axis:"y",distance:function(w,S,C,P){return(C?w.yo:w.y)-(P?S.yo:S.y)},interpolate:function(w,S,C,P){var U,H,X,te,ae,oe,be;if(!P||P===this)return U=w.yo-S.yo,H=w.yo-C.yo,ae=S.y-S.yo,oe=C.y-C.yo,(be=(X=Math.abs(U))+(te=Math.abs(H)))===0?void(w.y=w.yo+(ae+oe)/2):void(w.y=w.yo+(ae*te+oe*X)/be);U=P.distance(w,S,!0,!0),H=P.distance(w,C,!0,!0),ae=P.distance(S,S,!1,!0),oe=P.distance(C,C,!1,!0),(be=(X=Math.abs(U))+(te=Math.abs(H)))===0?jr.setRelative(w,w,(ae+oe)/2,P,!0):jr.setRelative(w,w,(ae*te+oe*X)/be,P,!0)},normalSlope:0,setRelative:function(w,S,C,P,U){var H,X;P&&P!==this?(H=U?S.xo:S.x,X=U?S.yo:S.y,H+=C*P.x,X+=C*P.y,w.y=X+P.normalSlope*(w.x-H)):w.y=(U?S.yo:S.y)+C},slope:Number.POSITIVE_INFINITY,touch:function(w){w.yTouched=!0},touched:function(w){return w.yTouched},untouch:function(w){w.yTouched=!1}};function jn(w,S){this.x=w,this.y=S,this.axis=void 0,this.slope=S/w,this.normalSlope=-w/S,Object.freeze(this)}function Sn(w,S){var C=Math.sqrt(w*w+S*S);return S/=C,(w/=C)===1&&S===0?vr:w===0&&S===1?jr:new jn(w,S)}function Sr(w,S,C,P){this.x=this.xo=Math.round(64*w)/64,this.y=this.yo=Math.round(64*S)/64,this.lastPointOfContour=C,this.onCurve=P,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(vr),Object.freeze(jr),jn.prototype.distance=function(w,S,C,P){return this.x*vr.distance(w,S,C,P)+this.y*jr.distance(w,S,C,P)},jn.prototype.interpolate=function(w,U,H,P){var X=P.distance(w,U,!0,!0),te=P.distance(w,H,!0,!0),U=P.distance(U,U,!1,!0),H=P.distance(H,H,!1,!0),X=Math.abs(X),te=Math.abs(te),ae=X+te;ae===0?this.setRelative(w,w,(U+H)/2,P,!0):this.setRelative(w,w,(U*te+H*X)/ae,P,!0)},jn.prototype.setRelative=function(w,H,ae,oe,te){var X=te?H.xo:H.x,te=te?H.yo:H.y,H=X+ae*(oe=oe||this).x,X=te+ae*oe.y,te=oe.normalSlope,ae=this.slope,oe=w.x,be=w.y;w.x=(ae*oe-te*H+X-be)/(ae-te),w.y=ae*(w.x-oe)+be},jn.prototype.touch=function(w){w.xTouched=!0,w.yTouched=!0},Sr.prototype.nextTouched=function(w){for(var S=this.nextPointOnContour;!w.touched(S)&&S!==this;)S=S.nextPointOnContour;return S},Sr.prototype.prevTouched=function(w){for(var S=this.prevPointOnContour;!w.touched(S)&&S!==this;)S=S.prevPointOnContour;return S};var Mn=Object.freeze(new Sr(0,0)),gc={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ar(w,S){switch(this.env=w,this.stack=[],this.prog=S,w){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=vr,this.round=oi}}function ns(w){for(var S=w.tZone=new Array(w.gZone.length),C=0;C<S.length;C++)S[C]=new Sr(0,0)}function ai(w,S){var C,P=w.prog,U=w.ip,H=1;do if((C=P[++U])===88)H++;else if(C===89)H--;else if(C===64)U+=P[U+1]+1;else if(C===65)U+=2*P[U+1]+1;else if(176<=C&&C<=183)U+=C-176+1;else if(184<=C&&C<=191)U+=2*(C-184+1);else if(S&&H===1&&C===27)break;while(0<H);w.ip=U}function li(w,S){u.DEBUG&&console.log(S.step,"SVTCA["+w.axis+"]"),S.fv=S.pv=S.dpv=w}function ci(w,S){u.DEBUG&&console.log(S.step,"SPVTCA["+w.axis+"]"),S.pv=S.dpv=w}function ui(w,S){u.DEBUG&&console.log(S.step,"SFVTCA["+w.axis+"]"),S.fv=w}function di(w,S){var C,U=S.stack,P=U.pop(),U=U.pop(),H=S.z2[P],X=S.z1[U];u.DEBUG&&console.log("SPVTL["+w+"]",P,U),P=w?(C=H.y-X.y,X.x-H.x):(C=X.x-H.x,X.y-H.y),S.pv=S.dpv=Sn(C,P)}function hi(w,S){var C,U=S.stack,P=U.pop(),U=U.pop(),H=S.z2[P],X=S.z1[U];u.DEBUG&&console.log("SFVTL["+w+"]",P,U),P=w?(C=H.y-X.y,X.x-H.x):(C=X.x-H.x,X.y-H.y),S.fv=Sn(C,P)}function Hs(w){u.DEBUG&&console.log(w.step,"POP[]"),w.stack.pop()}function fi(w,S){var C=S.stack.pop(),P=S.z0[C],U=S.fv,H=S.pv,X=(u.DEBUG&&console.log(S.step,"MDAP["+w+"]",C),H.distance(P,Mn));w&&(X=S.round(X)),U.setRelative(P,Mn,X,H),U.touch(P),S.rp0=S.rp1=C}function pi(w,S){var C,P,U,H=S.z2,X=H.length-2;u.DEBUG&&console.log(S.step,"IUP["+w.axis+"]");for(var te=0;te<X;te++)C=H[te],w.touched(C)||(P=C.prevTouched(w))!==C&&(P===(U=C.nextTouched(w))&&w.setRelative(C,C,w.distance(P,P,!1,!0),w,!0),w.interpolate(C,P,U,w))}function mi(w,S){for(var C=S.stack,P=w?S.rp1:S.rp2,U=(w?S.z0:S.z1)[P],H=S.fv,X=S.pv,te=S.loop,ae=S.z2;te--;){var oe=C.pop(),be=ae[oe],Te=X.distance(U,U,!1,!0);H.setRelative(be,be,Te,X),H.touch(be),u.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-te)+": ":"")+"SHP["+(w?"rp1":"rp2")+"]",oe)}S.loop=1}function yi(w,S){for(var C=S.stack,X=w?S.rp1:S.rp2,P=(w?S.z0:S.z1)[X],U=S.fv,H=S.pv,X=C.pop(),te=S.z2[S.contours[X]],ae=te,oe=(u.DEBUG&&console.log(S.step,"SHC["+w+"]",X),H.distance(P,P,!1,!0));ae!==P&&U.setRelative(ae,ae,oe,H),(ae=ae.nextPointOnContour)!==te;);}function gi(w,S){var C,P,te=S.stack,U=w?S.rp1:S.rp2,U=(w?S.z0:S.z1)[U],H=S.fv,X=S.pv,te=te.pop();switch(u.DEBUG&&console.log(S.step,"SHZ["+w+"]",te),te){case 0:C=S.tZone;break;case 1:C=S.gZone;break;default:throw new Error("Invalid zone")}for(var ae=X.distance(U,U,!1,!0),oe=C.length-2,be=0;be<oe;be++)P=C[be],H.setRelative(P,P,ae,X)}function bi(w,S){var P=S.stack,C=P.pop()/64,P=P.pop(),U=S.z1[P],H=S.z0[S.rp0],X=S.fv,te=S.pv;X.setRelative(U,H,C,te),X.touch(U),u.DEBUG&&console.log(S.step,"MSIRP["+w+"]",C,P),S.rp1=S.rp0,S.rp2=P,w&&(S.rp0=P)}function vi(w,S){var C=S.stack,te=C.pop(),C=C.pop(),P=S.z0[C],U=S.fv,H=S.pv,X=S.cvt[te],te=(u.DEBUG&&console.log(S.step,"MIAP["+w+"]",te,"(",X,")",C),H.distance(P,Mn));w&&(Math.abs(te-X)<S.cvCutIn&&(te=X),te=S.round(te)),U.setRelative(P,Mn,te,H),S.zp0===0&&(P.xo=P.x,P.yo=P.y),U.touch(P),S.rp0=S.rp1=C}function _i(w,S){var C=S.stack,P=C.pop(),U=S.z2[P];u.DEBUG&&console.log(S.step,"GC["+w+"]",P),C.push(64*S.dpv.distance(U,Mn,w,!1))}function xi(w,S){var P=S.stack,C=P.pop(),P=P.pop(),U=S.z1[C],H=S.z0[P],H=S.dpv.distance(H,U,w,w);u.DEBUG&&console.log(S.step,"MD["+w+"]",C,P,"->",H),S.stack.push(Math.round(64*H))}function Ws(w,S){var C=S.stack,P=C.pop(),U=S.fv,H=S.pv,X=S.ppem,te=S.deltaBase+16*(w-1),ae=S.deltaShift,oe=S.z0;u.DEBUG&&console.log(S.step,"DELTAP["+w+"]",P,C);for(var be=0;be<P;be++){var Te=C.pop(),xe=C.pop();te+((240&xe)>>4)===X&&(0<=(xe=(15&xe)-8)&&xe++,u.DEBUG&&console.log(S.step,"DELTAPFIX",Te,"by",xe*ae),Te=oe[Te],U.setRelative(Te,Te,xe*ae,H))}}function ss(w,S){var C=S.stack,P=C.pop();u.DEBUG&&console.log(S.step,"ROUND[]"),C.push(64*S.round(P/64))}function qs(w,S){var C=S.stack,P=C.pop(),U=S.ppem,H=S.deltaBase+16*(w-1),X=S.deltaShift;u.DEBUG&&console.log(S.step,"DELTAC["+w+"]",P,C);for(var te=0;te<P;te++){var ae=C.pop(),oe=C.pop();H+((240&oe)>>4)===U&&(0<=(oe=(15&oe)-8)&&oe++,oe=oe*X,u.DEBUG&&console.log(S.step,"DELTACFIX",ae,"by",oe),S.cvt[ae]+=oe)}}function wi(w,S){var C,U=S.stack,P=U.pop(),U=U.pop(),H=S.z2[P],X=S.z1[U];u.DEBUG&&console.log(S.step,"SDPVTL["+w+"]",P,U),P=w?(C=H.y-X.y,X.x-H.x):(C=X.x-H.x,X.y-H.y),S.dpv=Sn(C,P)}function Rr(w,S){var C=S.stack,P=S.prog,U=S.ip;u.DEBUG&&console.log(S.step,"PUSHB["+w+"]");for(var H=0;H<w;H++)C.push(P[++U]);S.ip=U}function Dr(w,S){var C=S.ip,P=S.prog,U=S.stack;u.DEBUG&&console.log(S.ip,"PUSHW["+w+"]");for(var H=0;H<w;H++){var X=P[++C]<<8|P[++C];32768&X&&(X=-(1+(65535^X))),U.push(X)}S.ip=C}function Qe(w,S,C,P,U,H){var X,te,oe=H.stack,ae=w&&oe.pop(),oe=oe.pop(),be=H.rp0,be=H.z0[be],Te=H.z1[oe],xe=H.minDis,he=H.fv,Re=H.dpv,Oe=X=Re.distance(Te,be,!0,!0),Le=0<=Oe?1:-1;Oe=Math.abs(Oe),w&&(te=H.cvt[ae],P&&Math.abs(Oe-te)<H.cvCutIn&&(Oe=te)),C&&Oe<xe&&(Oe=xe),P&&(Oe=H.round(Oe)),he.setRelative(Te,be,Le*Oe,Re),he.touch(Te),u.DEBUG&&console.log(H.step,(w?"MIRP[":"MDRP[")+(S?"M":"m")+(C?">":"_")+(P?"R":"_")+(U===0?"Gr":U===1?"Bl":U===2?"Wh":"")+"]",w?ae+"("+H.cvt[ae]+","+te+")":"",oe,"(d =",X,"->",Le*Oe,")"),H.rp1=H.rp0,H.rp2=oe,S&&(H.rp0=oe)}si.prototype.exec=function(w,S){if(typeof S!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var C=this.font,P=this._prepState;if(!P||P.ppem!==S){var U=this._fpgmState;if(!U){Ar.prototype=gc,(U=this._fpgmState=new Ar("fpgm",C.tables.fpgm)).funcs=[],U.font=C,u.DEBUG&&(console.log("---EXEC FPGM---"),U.step=-1);try{on(U)}catch(oe){return console.log("Hinting error in FPGM:"+oe),void(this._errorState=3)}}Ar.prototype=U,(P=this._prepState=new Ar("prep",C.tables.prep)).ppem=S;var H=C.tables.cvt;if(H)for(var X=P.cvt=new Array(H.length),te=S/C.unitsPerEm,ae=0;ae<H.length;ae++)X[ae]=H[ae]*te;else P.cvt=[];u.DEBUG&&(console.log("---EXEC PREP---"),P.step=-1);try{on(P)}catch(oe){this._errorState<2&&console.log("Hinting error in PREP:"+oe),this._errorState=2}}if(!(1<this._errorState))try{return bc(w,P)}catch(oe){this._errorState<1&&(console.log("Hinting error:"+oe),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var bc=function(w,S){var C=S.ppem/S.font.unitsPerEm,P=C,U=w.components;if(Ar.prototype=S,U){for(var H=S.font,X=[],te=[],ae=0;ae<U.length;ae++){var oe=U[ae],be=H.glyphs.get(oe.glyphIndex),Te=new Ar("glyf",be.instructions);u.DEBUG&&(console.log("---EXEC COMP "+ae+"---"),Te.step=-1),ji(be,Te,C,P);for(var xe=Math.round(oe.dx*C),he=Math.round(oe.dy*P),Re=Te.gZone,Oe=Te.contours,Le=0;Le<Re.length;Le++){var Ee=Re[Le];Ee.xTouched=Ee.yTouched=!1,Ee.xo=Ee.x=Ee.x+xe,Ee.yo=Ee.y=Ee.y+he}var ke=X.length;X.push.apply(X,Re);for(var Je=0;Je<Oe.length;Je++)te.push(Oe[Je]+ke)}w.instructions&&!Te.inhibitGridFit&&((Te=new Ar("glyf",w.instructions)).gZone=Te.z0=Te.z1=Te.z2=X,Te.contours=te,X.push(new Sr(0,0),new Sr(Math.round(w.advanceWidth*C),0)),u.DEBUG&&(console.log("---EXEC COMPOSITE---"),Te.step=-1),on(Te),X.length-=2)}else Te=new Ar("glyf",w.instructions),u.DEBUG&&(console.log("---EXEC GLYPH---"),Te.step=-1),ji(w,Te,C,P),X=Te.gZone;return X},ji=function(w,S,C,P){for(var U,H,X,te=w.points||[],ae=te.length,oe=S.gZone=S.z0=S.z1=S.z2=[],be=S.contours=[],Te=0;Te<ae;Te++)U=te[Te],oe[Te]=new Sr(U.x*C,U.y*P,U.lastPointOfContour,U.onCurve);for(var xe=0;xe<ae;xe++)U=oe[xe],H||(H=U,be.push(xe)),U.lastPointOfContour?((U.nextPointOnContour=H).prevPointOnContour=U,H=void 0):(X=oe[xe+1],(U.nextPointOnContour=X).prevPointOnContour=U);if(!S.inhibitGridFit){if(u.DEBUG){console.log("PROCESSING GLYPH",S.stack);for(var he=0;he<ae;he++)console.log(he,oe[he].x,oe[he].y)}if(oe.push(new Sr(0,0),new Sr(Math.round(w.advanceWidth*C),0)),on(S),oe.length-=2,u.DEBUG){console.log("FINISHED GLYPH",S.stack);for(var Re=0;Re<ae;Re++)console.log(Re,oe[Re].x,oe[Re].y)}}},on=function(w){var S=w.prog;if(S){var C,P=S.length;for(w.ip=0;w.ip<P;w.ip++){if(u.DEBUG&&w.step++,!(C=vc[S[w.ip]]))throw new Error("unknown instruction: 0x"+Number(S[w.ip]).toString(16));C(w)}}},vc=[li.bind(void 0,jr),li.bind(void 0,vr),ci.bind(void 0,jr),ci.bind(void 0,vr),ui.bind(void 0,jr),ui.bind(void 0,vr),di.bind(void 0,0),di.bind(void 0,1),hi.bind(void 0,0),hi.bind(void 0,1),function(w){var S=(C=w.stack).pop(),C=C.pop();u.DEBUG&&console.log(w.step,"SPVFS[]",S,C),w.pv=w.dpv=Sn(C,S)},function(w){var S=(C=w.stack).pop(),C=C.pop();u.DEBUG&&console.log(w.step,"SPVFS[]",S,C),w.fv=Sn(C,S)},function(w){var S=w.stack,C=w.pv;u.DEBUG&&console.log(w.step,"GPV[]"),S.push(16384*C.x),S.push(16384*C.y)},function(w){var S=w.stack,C=w.fv;u.DEBUG&&console.log(w.step,"GFV[]"),S.push(16384*C.x),S.push(16384*C.y)},function(w){w.fv=w.pv,u.DEBUG&&console.log(w.step,"SFVTPV[]")},function(S){var C=(X=S.stack).pop(),P=X.pop(),U=X.pop(),H=X.pop(),X=X.pop(),ae=S.z0,be=S.z1,te=ae[C],ae=ae[P],oe=be[U],be=be[H],S=S.z2[X],C=(u.DEBUG&&console.log("ISECT[], ",C,P,U,H,X),te.x),P=te.y,U=ae.x,H=ae.y,X=oe.x,te=oe.y,ae=be.x,oe=be.y,be=(C-U)*(te-oe)-(P-H)*(X-ae),Te=C*H-P*U,xe=X*oe-te*ae;S.x=(Te*(X-ae)-xe*(C-U))/be,S.y=(Te*(te-oe)-xe*(P-H))/be},function(w){w.rp0=w.stack.pop(),u.DEBUG&&console.log(w.step,"SRP0[]",w.rp0)},function(w){w.rp1=w.stack.pop(),u.DEBUG&&console.log(w.step,"SRP1[]",w.rp1)},function(w){w.rp2=w.stack.pop(),u.DEBUG&&console.log(w.step,"SRP2[]",w.rp2)},function(w){var S=w.stack.pop();switch(u.DEBUG&&console.log(w.step,"SZP0[]",S),w.zp0=S){case 0:w.tZone||ns(w),w.z0=w.tZone;break;case 1:w.z0=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var S=w.stack.pop();switch(u.DEBUG&&console.log(w.step,"SZP1[]",S),w.zp1=S){case 0:w.tZone||ns(w),w.z1=w.tZone;break;case 1:w.z1=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var S=w.stack.pop();switch(u.DEBUG&&console.log(w.step,"SZP2[]",S),w.zp2=S){case 0:w.tZone||ns(w),w.z2=w.tZone;break;case 1:w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var S=w.stack.pop();switch(u.DEBUG&&console.log(w.step,"SZPS[]",S),w.zp0=w.zp1=w.zp2=S){case 0:w.tZone||ns(w),w.z0=w.z1=w.z2=w.tZone;break;case 1:w.z0=w.z1=w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){w.loop=w.stack.pop(),u.DEBUG&&console.log(w.step,"SLOOP[]",w.loop)},function(w){u.DEBUG&&console.log(w.step,"RTG[]"),w.round=oi},function(w){u.DEBUG&&console.log(w.step,"RTHG[]"),w.round=pc},function(w){var S=w.stack.pop();u.DEBUG&&console.log(w.step,"SMD[]",S),w.minDis=S/64},function(w){u.DEBUG&&console.log(w.step,"ELSE[]"),ai(w,!1)},function(w){var S=w.stack.pop();u.DEBUG&&console.log(w.step,"JMPR[]",S),w.ip+=S-1},function(w){var S=w.stack.pop();u.DEBUG&&console.log(w.step,"SCVTCI[]",S),w.cvCutIn=S/64},void 0,void 0,function(w){var S=w.stack;u.DEBUG&&console.log(w.step,"DUP[]"),S.push(S[S.length-1])},Hs,function(w){u.DEBUG&&console.log(w.step,"CLEAR[]"),w.stack.length=0},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"SWAP[]"),S.push(C),S.push(P)},function(w){var S=w.stack;u.DEBUG&&console.log(w.step,"DEPTH[]"),S.push(S.length)},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"CINDEX[]",C),S.push(S[S.length-C])},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"MINDEX[]",C),S.push(S.splice(S.length-C,1)[0])},void 0,void 0,void 0,function(w){var S=(P=w.stack).pop(),C=P.pop(),P=(u.DEBUG&&console.log(w.step,"LOOPCALL[]",S,C),w.ip),U=w.prog;w.prog=w.funcs[S];for(var H=0;H<C;H++)on(w),u.DEBUG&&console.log(++w.step,H+1<C?"next loopcall":"done loopcall",H);w.ip=P,w.prog=U},function(w){var S=w.stack.pop(),C=(u.DEBUG&&console.log(w.step,"CALL[]",S),w.ip),P=w.prog;w.prog=w.funcs[S],on(w),w.ip=C,w.prog=P,u.DEBUG&&console.log(++w.step,"returning from",S)},function(w){if(w.env!=="fpgm")throw new Error("FDEF not allowed here");var P=w.stack,S=w.prog,C=w.ip,P=P.pop(),U=C;for(u.DEBUG&&console.log(w.step,"FDEF[]",P);S[++C]!==45;);w.ip=C,w.funcs[P]=S.slice(U+1,C)},void 0,fi.bind(void 0,0),fi.bind(void 0,1),pi.bind(void 0,jr),pi.bind(void 0,vr),mi.bind(void 0,0),mi.bind(void 0,1),yi.bind(void 0,0),yi.bind(void 0,1),gi.bind(void 0,0),gi.bind(void 0,1),function(w){for(var S=w.stack,C=w.loop,P=w.fv,U=S.pop()/64,H=w.z2;C--;){var X=S.pop(),te=H[X];u.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-C)+": ":"")+"SHPIX[]",X,U),P.setRelative(te,te,U),P.touch(te)}w.loop=1},function(w){for(var S=w.stack,C=w.rp1,P=w.rp2,U=w.loop,H=w.z0[C],X=w.z1[P],te=w.fv,ae=w.dpv,oe=w.z2;U--;){var be=S.pop(),Te=oe[be];u.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-U)+": ":"")+"IP[]",be,C,"<->",P),te.interpolate(Te,H,X,ae),te.touch(Te)}w.loop=1},bi.bind(void 0,0),bi.bind(void 0,1),function(w){for(var S=w.stack,C=w.rp0,P=w.z0[C],U=w.loop,H=w.fv,X=w.pv,te=w.z1;U--;){var ae=S.pop(),oe=te[ae];u.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-U)+": ":"")+"ALIGNRP[]",ae),H.setRelative(oe,P,0,X),H.touch(oe)}w.loop=1},function(w){u.DEBUG&&console.log(w.step,"RTDG[]"),w.round=fc},vi.bind(void 0,0),vi.bind(void 0,1),function(w){var S=w.prog,C=w.ip,P=w.stack,U=S[++C];u.DEBUG&&console.log(w.step,"NPUSHB[]",U);for(var H=0;H<U;H++)P.push(S[++C]);w.ip=C},function(w){var S=w.ip,C=w.prog,P=w.stack,U=C[++S];u.DEBUG&&console.log(w.step,"NPUSHW[]",U);for(var H=0;H<U;H++){var X=C[++S]<<8|C[++S];32768&X&&(X=-(1+(65535^X))),P.push(X)}w.ip=S},function(w){var P=w.stack,S=(S=w.store)||(w.store=[]),C=P.pop(),P=P.pop();u.DEBUG&&console.log(w.step,"WS",C,P),S[P]=C},function(U){var S=U.stack,C=U.store,P=S.pop(),U=(u.DEBUG&&console.log(U.step,"RS",P),C&&C[P]||0);S.push(U)},function(w){var S=(C=w.stack).pop(),C=C.pop();u.DEBUG&&console.log(w.step,"WCVTP",S,C),w.cvt[C]=S/64},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"RCVT",C),S.push(64*w.cvt[C])},_i.bind(void 0,0),_i.bind(void 0,1),void 0,xi.bind(void 0,0),xi.bind(void 0,1),function(w){u.DEBUG&&console.log(w.step,"MPPEM[]"),w.stack.push(w.ppem)},void 0,function(w){u.DEBUG&&console.log(w.step,"FLIPON[]"),w.autoFlip=!0},void 0,void 0,function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"LT[]",C,P),S.push(P<C?1:0)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"LTEQ[]",C,P),S.push(P<=C?1:0)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"GT[]",C,P),S.push(C<P?1:0)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"GTEQ[]",C,P),S.push(C<=P?1:0)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"EQ[]",C,P),S.push(C===P?1:0)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"NEQ[]",C,P),S.push(C!==P?1:0)},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"ODD[]",C),S.push(Math.trunc(C)%2?1:0)},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"EVEN[]",C),S.push(Math.trunc(C)%2?0:1)},function(w){var S=w.stack.pop();u.DEBUG&&console.log(w.step,"IF[]",S),S||(ai(w,!0),u.DEBUG&&console.log(w.step,"EIF[]"))},function(w){u.DEBUG&&console.log(w.step,"EIF[]")},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"AND[]",C,P),S.push(C&&P?1:0)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"OR[]",C,P),S.push(C||P?1:0)},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"NOT[]",C),S.push(C?0:1)},Ws.bind(void 0,1),function(w){var S=w.stack.pop();u.DEBUG&&console.log(w.step,"SDB[]",S),w.deltaBase=S},function(w){var S=w.stack.pop();u.DEBUG&&console.log(w.step,"SDS[]",S),w.deltaShift=Math.pow(.5,S)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"ADD[]",C,P),S.push(P+C)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"SUB[]",C,P),S.push(P-C)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"DIV[]",C,P),S.push(64*P/C)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"MUL[]",C,P),S.push(P*C/64)},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"ABS[]",C),S.push(Math.abs(C))},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"NEG[]",C),S.push(-C)},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"FLOOR[]",C),S.push(64*Math.floor(C/64))},function(w){var S=w.stack,C=S.pop();u.DEBUG&&console.log(w.step,"CEILING[]",C),S.push(64*Math.ceil(C/64))},ss.bind(void 0,0),ss.bind(void 0,1),ss.bind(void 0,2),ss.bind(void 0,3),void 0,void 0,void 0,void 0,function(w){var S=(C=w.stack).pop(),C=C.pop();u.DEBUG&&console.log(w.step,"WCVTF[]",S,C),w.cvt[C]=S*w.ppem/w.font.unitsPerEm},Ws.bind(void 0,2),Ws.bind(void 0,3),qs.bind(void 0,1),qs.bind(void 0,2),qs.bind(void 0,3),function(w){var S,C=w.stack.pop();switch(u.DEBUG&&console.log(w.step,"SROUND[]",C),w.round=ii,192&C){case 0:S=.5;break;case 64:S=1;break;case 128:S=2;break;default:throw new Error("invalid SROUND value")}switch(w.srPeriod=S,48&C){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*S;break;case 32:w.srPhase=.5*S;break;case 48:w.srPhase=.75*S;break;default:throw new Error("invalid SROUND value")}w.srThreshold=(C&=15)===0?0:(C/8-.5)*S},function(w){var S,C=w.stack.pop();switch(u.DEBUG&&console.log(w.step,"S45ROUND[]",C),w.round=ii,192&C){case 0:S=Math.sqrt(2)/2;break;case 64:S=Math.sqrt(2);break;case 128:S=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(w.srPeriod=S,48&C){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*S;break;case 32:w.srPhase=.5*S;break;case 48:w.srPhase=.75*S;break;default:throw new Error("invalid S45ROUND value")}w.srThreshold=(C&=15)===0?0:(C/8-.5)*S},void 0,void 0,function(w){u.DEBUG&&console.log(w.step,"ROFF[]"),w.round=hc},void 0,function(w){u.DEBUG&&console.log(w.step,"RUTG[]"),w.round=mc},function(w){u.DEBUG&&console.log(w.step,"RDTG[]"),w.round=yc},Hs,Hs,void 0,void 0,void 0,void 0,void 0,function(w){var S=w.stack.pop();u.DEBUG&&console.log(w.step,"SCANCTRL[]",S)},wi.bind(void 0,0),wi.bind(void 0,1),function(w){var S=w.stack,C=S.pop(),P=0;u.DEBUG&&console.log(w.step,"GETINFO[]",C),1&C&&(P=35),32&C&&(P|=4096),S.push(P)},void 0,function(w){var S=w.stack,C=S.pop(),P=S.pop(),U=S.pop();u.DEBUG&&console.log(w.step,"ROLL[]"),S.push(P),S.push(C),S.push(U)},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"MAX[]",C,P),S.push(Math.max(P,C))},function(w){var S=w.stack,C=S.pop(),P=S.pop();u.DEBUG&&console.log(w.step,"MIN[]",C,P),S.push(Math.min(P,C))},function(w){var S=w.stack.pop();u.DEBUG&&console.log(w.step,"SCANTYPE[]",S)},function(w){var S=w.stack.pop(),C=w.stack.pop();switch(u.DEBUG&&console.log(w.step,"INSTCTRL[]",S,C),S){case 1:return void(w.inhibitGridFit=!!C);case 2:return void(w.ignoreCvt=!!C);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Rr.bind(void 0,1),Rr.bind(void 0,2),Rr.bind(void 0,3),Rr.bind(void 0,4),Rr.bind(void 0,5),Rr.bind(void 0,6),Rr.bind(void 0,7),Rr.bind(void 0,8),Dr.bind(void 0,1),Dr.bind(void 0,2),Dr.bind(void 0,3),Dr.bind(void 0,4),Dr.bind(void 0,5),Dr.bind(void 0,6),Dr.bind(void 0,7),Dr.bind(void 0,8),Qe.bind(void 0,0,0,0,0,0),Qe.bind(void 0,0,0,0,0,1),Qe.bind(void 0,0,0,0,0,2),Qe.bind(void 0,0,0,0,0,3),Qe.bind(void 0,0,0,0,1,0),Qe.bind(void 0,0,0,0,1,1),Qe.bind(void 0,0,0,0,1,2),Qe.bind(void 0,0,0,0,1,3),Qe.bind(void 0,0,0,1,0,0),Qe.bind(void 0,0,0,1,0,1),Qe.bind(void 0,0,0,1,0,2),Qe.bind(void 0,0,0,1,0,3),Qe.bind(void 0,0,0,1,1,0),Qe.bind(void 0,0,0,1,1,1),Qe.bind(void 0,0,0,1,1,2),Qe.bind(void 0,0,0,1,1,3),Qe.bind(void 0,0,1,0,0,0),Qe.bind(void 0,0,1,0,0,1),Qe.bind(void 0,0,1,0,0,2),Qe.bind(void 0,0,1,0,0,3),Qe.bind(void 0,0,1,0,1,0),Qe.bind(void 0,0,1,0,1,1),Qe.bind(void 0,0,1,0,1,2),Qe.bind(void 0,0,1,0,1,3),Qe.bind(void 0,0,1,1,0,0),Qe.bind(void 0,0,1,1,0,1),Qe.bind(void 0,0,1,1,0,2),Qe.bind(void 0,0,1,1,0,3),Qe.bind(void 0,0,1,1,1,0),Qe.bind(void 0,0,1,1,1,1),Qe.bind(void 0,0,1,1,1,2),Qe.bind(void 0,0,1,1,1,3),Qe.bind(void 0,1,0,0,0,0),Qe.bind(void 0,1,0,0,0,1),Qe.bind(void 0,1,0,0,0,2),Qe.bind(void 0,1,0,0,0,3),Qe.bind(void 0,1,0,0,1,0),Qe.bind(void 0,1,0,0,1,1),Qe.bind(void 0,1,0,0,1,2),Qe.bind(void 0,1,0,0,1,3),Qe.bind(void 0,1,0,1,0,0),Qe.bind(void 0,1,0,1,0,1),Qe.bind(void 0,1,0,1,0,2),Qe.bind(void 0,1,0,1,0,3),Qe.bind(void 0,1,0,1,1,0),Qe.bind(void 0,1,0,1,1,1),Qe.bind(void 0,1,0,1,1,2),Qe.bind(void 0,1,0,1,1,3),Qe.bind(void 0,1,1,0,0,0),Qe.bind(void 0,1,1,0,0,1),Qe.bind(void 0,1,1,0,0,2),Qe.bind(void 0,1,1,0,0,3),Qe.bind(void 0,1,1,0,1,0),Qe.bind(void 0,1,1,0,1,1),Qe.bind(void 0,1,1,0,1,2),Qe.bind(void 0,1,1,0,1,3),Qe.bind(void 0,1,1,1,0,0),Qe.bind(void 0,1,1,1,0,1),Qe.bind(void 0,1,1,1,0,2),Qe.bind(void 0,1,1,1,0,3),Qe.bind(void 0,1,1,1,1,0),Qe.bind(void 0,1,1,1,1,1),Qe.bind(void 0,1,1,1,1,2),Qe.bind(void 0,1,1,1,1,3)],_c=Array.from||function(w){return w.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function vt(w){(w=w||{}).empty||(sn(w.familyName,"When creating a new Font object, familyName is required."),sn(w.styleName,"When creating a new Font object, styleName is required."),sn(w.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),sn(w.ascender,"When creating a new Font object, ascender is required."),sn(w.descender,"When creating a new Font object, descender is required."),sn(w.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:w.familyName||" "},fontSubfamily:{en:w.styleName||" "},fullName:{en:w.fullName||w.familyName+" "+w.styleName},postScriptName:{en:w.postScriptName||(w.familyName+w.styleName).replace(/\s/g,"")},designer:{en:w.designer||" "},designerURL:{en:w.designerURL||" "},manufacturer:{en:w.manufacturer||" "},manufacturerURL:{en:w.manufacturerURL||" "},license:{en:w.license||" "},licenseURL:{en:w.licenseURL||" "},version:{en:w.version||"Version 0.1"},description:{en:w.description||" "},copyright:{en:w.copyright||" "},trademark:{en:w.trademark||" "}},this.unitsPerEm=w.unitsPerEm||1e3,this.ascender=w.ascender,this.descender=w.descender,this.createdTimestamp=w.createdTimestamp,this.tables={os2:{usWeightClass:w.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:w.widthClass||this.usWidthClasses.MEDIUM,fsSelection:w.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ke.GlyphSet(this,w.glyphs||[]),this.encoding=new we(this),this.position=new rs(this),this.substitution=new br(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new si(this):void 0)}})}function Si(w,S){var C,P=JSON.stringify(w),U=256;for(C in S){var H=parseInt(C);if(H&&!(H<256)){if(JSON.stringify(S[C])===P)return H;U<=H&&(U=H+1)}}return S[U]=w,U}vt.prototype.hasChar=function(w){return this.encoding.charToGlyphIndex(w)!==null},vt.prototype.charToGlyphIndex=function(w){return this.encoding.charToGlyphIndex(w)},vt.prototype.charToGlyph=function(w){return w=this.charToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},vt.prototype.stringToGlyphs=function(w,S){S=S||this.defaultRenderOptions;for(var C=_c(w),P=[],U=0;U<C.length;U+=1){var H=C[U];P.push(this.charToGlyphIndex(H))}var X=P.length;if(S.features){var w=S.script||this.substitution.getDefaultScriptName(),te=[];S.features.liga&&(te=te.concat(this.substitution.getFeature("liga",w,S.language))),S.features.rlig&&(te=te.concat(this.substitution.getFeature("rlig",w,S.language)));for(var ae=0;ae<X;ae+=1)for(var oe=0;oe<te.length;oe++){for(var be=te[oe],Te=be.sub,xe=Te.length,he=0;he<xe&&Te[he]===P[ae+he];)he++;he===xe&&(P.splice(ae,xe,be.by),X=X-xe+1)}}for(var Re=new Array(X),Oe=this.glyphs.get(0),Le=0;Le<X;Le+=1)Re[Le]=this.glyphs.get(P[Le])||Oe;return Re},vt.prototype.nameToGlyphIndex=function(w){return this.glyphNames.nameToGlyphIndex(w)},vt.prototype.nameToGlyph=function(w){return w=this.nameToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},vt.prototype.glyphIndexToName=function(w){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(w):""},vt.prototype.getKerningValue=function(w,S){w=w.index||w,S=S.index||S;var C=this.position.defaultKerningTables;return C?this.position.getKerningValue(C,w,S):this.kerningPairs[w+","+S]||0},vt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},vt.prototype.forEachGlyph=function(w,S,C,P,U,H){S=S!==void 0?S:0,C=C!==void 0?C:0,U=U||this.defaultRenderOptions;var X,te=1/this.unitsPerEm*(P=P!==void 0?P:72),ae=this.stringToGlyphs(w,U);U.kerning&&(w=U.script||this.position.getDefaultScriptName(),X=this.position.getKerningTables(w,U.language));for(var oe=0;oe<ae.length;oe+=1){var be=ae[oe];H.call(this,be,S,C,P,U),be.advanceWidth&&(S+=be.advanceWidth*te),U.kerning&&oe<ae.length-1&&(S+=(X?this.position.getKerningValue(X,be.index,ae[oe+1].index):this.getKerningValue(be,ae[oe+1]))*te),U.letterSpacing?S+=U.letterSpacing*P:U.tracking&&(S+=U.tracking/1e3*P)}return S},vt.prototype.getPath=function(w,S,C,P,U){var H=new K;return this.forEachGlyph(w,S,C,P,U,function(X,te,ae,oe){X=X.getPath(te,ae,oe,U,this),H.extend(X)}),H},vt.prototype.getPaths=function(w,S,C,P,U){var H=[];return this.forEachGlyph(w,S,C,P,U,function(X,te,ae,oe){X=X.getPath(te,ae,oe,U,this),H.push(X)}),H},vt.prototype.getAdvanceWidth=function(w,S,C){return this.forEachGlyph(w,0,0,S,C,function(){})},vt.prototype.draw=function(w,S,C,P,U,H){this.getPath(S,C,P,U,H).draw(w)},vt.prototype.drawPoints=function(w,S,C,P,U,H){this.forEachGlyph(S,C,P,U,H,function(X,te,ae,oe){X.drawPoints(w,te,ae,oe)})},vt.prototype.drawMetrics=function(w,S,C,P,U,H){this.forEachGlyph(S,C,P,U,H,function(X,te,ae,oe){X.drawMetrics(w,te,ae,oe)})},vt.prototype.getEnglishName=function(w){if(w=this.names[w],w)return w.en},vt.prototype.validate=function(){var w=this;function S(C){C=w.getEnglishName(C),C&&C.trim().length}S("fontFamily"),S("weightName"),S("manufacturer"),S("copyright"),S("version"),this.unitsPerEm},vt.prototype.toTables=function(){return cc.fontToTable(this)},vt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},vt.prototype.toArrayBuffer=function(){for(var w=this.toTables().encode(),S=new ArrayBuffer(w.length),C=new Uint8Array(S),P=0;P<w.length;P++)C[P]=w[P];return S},vt.prototype.download=function(w){var S=this.getEnglishName("fontFamily"),C=this.getEnglishName("fontSubfamily"),P=(w=w||S.replace(/\s/g,"")+"-"+C+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,P.byteLength,function(U){U.root.getFile(w,{create:!0},function(H){H.createWriter(function(X){var te=new DataView(P),te=new Blob([te],{type:"font/opentype"});X.write(te),X.addEventListener("writeend",function(){location.href=H.toURL()},!1)})})},function(U){throw new Error(U.name+": "+U.message)})):(S=t("fs"),C=function(U){for(var H=new n(U.byteLength),X=new Uint8Array(U),te=0;te<H.length;++te)H[te]=X[te];return H}(P),S.writeFileSync(w,C))},vt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},vt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},vt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var xc={make:function(w,S){var C=new Ce.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:w.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:w.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*w.axes.length}]);C.offsetToData=C.sizeOf();for(var P,U,H,X=0;X<w.axes.length;X++)C.fields=C.fields.concat((P=X,U=w.axes[X],H=S,H=Si(U.name,S),[{name:"tag_"+P,type:"TAG",value:U.tag},{name:"minValue_"+P,type:"FIXED",value:U.minValue<<16},{name:"defaultValue_"+P,type:"FIXED",value:U.defaultValue<<16},{name:"maxValue_"+P,type:"FIXED",value:U.maxValue<<16},{name:"flags_"+P,type:"USHORT",value:0},{name:"nameID_"+P,type:"USHORT",value:H}]));for(var te=0;te<w.instances.length;te++)C.fields=C.fields.concat(function(ae,oe,be,Te){for(var xe=[{name:"nameID_"+ae,type:"USHORT",value:Si(oe.name,Te)},{name:"flags_"+ae,type:"USHORT",value:0}],he=0;he<be.length;++he){var Re=be[he].tag;xe.push({name:"axis_"+ae+" "+Re,type:"FIXED",value:oe.coordinates[Re]<<16})}return xe}(te,w.instances[te],w.axes,S));return C},parse:function(w,S,C){for(var P,U,H,X,te=new Se.Parser(w,S),ae=te.parseULong(),oe=(I.argument(ae===65536,"Unsupported fvar table version."),te.parseOffset16()),be=(te.skip("uShort",1),te.parseUShort()),Te=te.parseUShort(),xe=te.parseUShort(),he=te.parseUShort(),Re=[],Oe=0;Oe<be;Oe++)Re.push((P=w,U=S+oe+Oe*Te,H=C,X={},P=new Se.Parser(P,U),X.tag=P.parseTag(),X.minValue=P.parseFixed(),X.defaultValue=P.parseFixed(),X.maxValue=P.parseFixed(),P.skip("uShort",1),X.name=H[P.parseUShort()]||{},X));for(var Le=[],Ee=S+oe+be*Te,ke=0;ke<xe;ke++)Le.push(function(Je,it,et,tt){var lt={},wt=new Se.Parser(Je,it);lt.name=tt[wt.parseUShort()]||{},wt.skip("uShort",1),lt.coordinates={};for(var At=0;At<et.length;++At)lt.coordinates[et[At].tag]=wt.parseFixed();return lt}(w,Ee+ke*he,Re,C));return{axes:Re,instances:Le}}},hr=new Array(10);hr[1]=function(){var w=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{posFormat:1,coverage:this.parsePointer(_e.coverage),value:this.parseValueRecord()}:S===2?{posFormat:2,coverage:this.parsePointer(_e.coverage),values:this.parseValueRecordList()}:void I.assert(!1,"0x"+w.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},hr[2]=function(){var w,S,C,P,H=this.offset+this.relativeOffset,U=this.parseUShort(),H=(I.assert(U===1||U===2,"0x"+H.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(_e.coverage)),X=this.parseUShort(),te=this.parseUShort();return U===1?{posFormat:U,coverage:H,valueFormat1:X,valueFormat2:te,pairSets:this.parseList(_e.pointer(_e.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(X),value2:this.parseValueRecord(te)}})))}:U===2?(w=this.parsePointer(_e.classDef),S=this.parsePointer(_e.classDef),C=this.parseUShort(),P=this.parseUShort(),{posFormat:U,coverage:H,valueFormat1:X,valueFormat2:te,classDef1:w,classDef2:S,class1Count:C,class2Count:P,classRecords:this.parseList(C,_e.list(P,function(){return{value1:this.parseValueRecord(X),value2:this.parseValueRecord(te)}}))}):void 0},hr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},hr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},hr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},hr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},hr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},hr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},hr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var wc=new Array(10),jc={parse:function(w,S){return S=(w=new _e(w,S=S||0)).parseVersion(1),I.argument(S===1||S===1.1,"Unsupported GPOS table version "+S),S===1?{version:S,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(hr)}:{version:S,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(hr),variations:w.parseFeatureVariationsList()}},make:function(w){return new Ce.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ce.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new Ce.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new Ce.LookupList(w.lookups,wc)}])}},Sc={parse:function(w,S){if(w=new Se.Parser(w,S),(S=w.parseUShort())===0){var C=w,P={},Te=(C.skip("uShort"),C.parseUShort()),U=(I.argument(Te===0,"Unsupported kern sub-table version."),C.skip("uShort",2),C.parseUShort());C.skip("uShort",3);for(var H=0;H<U;H+=1){var X=C.parseUShort(),te=C.parseUShort(),ae=C.parseShort();P[X+","+te]=ae}return P}if(S!==1)throw new Error("Unsupported kern table version ("+S+").");var oe=w,be={},Te=(oe.skip("uShort"),1<oe.parseULong()&&console.warn("Only the first kern subtable is supported."),oe.skip("uLong"),255&oe.parseUShort());if(oe.skip("uShort"),Te==0){var xe=oe.parseUShort();oe.skip("uShort",3);for(var he=0;he<xe;he+=1){var Re=oe.parseUShort(),Oe=oe.parseUShort(),Le=oe.parseShort();be[Re+","+Oe]=Le}}return be}},Mc={parse:function(w,S,C,P){for(var U=new Se.Parser(w,S),H=P?U.parseUShort:U.parseULong,X=[],te=0;te<C+1;te+=1){var ae=H.call(U);P&&(ae*=2),X.push(ae)}return X}};function Tc(w,S){t("fs").readFile(w,function(C,P){if(C)return S(C.message);S(null,ei(P))})}function Ec(w,S){var C=new XMLHttpRequest;C.open("get",w,!0),C.responseType="arraybuffer",C.onload=function(){return C.response?S(null,C.response):S("Font could not be loaded: "+C.statusText)},C.onerror=function(){S("Font could not be loaded")},C.send()}function Mi(w,S){for(var C=[],P=12,U=0;U<S;U+=1){var H=Se.getTag(w,P),X=Se.getULong(w,P+4),te=Se.getULong(w,P+8),ae=Se.getULong(w,P+12);C.push({tag:H,checksum:X,offset:te,length:ae,compression:!1}),P+=16}return C}function Bt(C,S){if(S.compression!=="WOFF")return{data:C,offset:S.offset};var C=new Uint8Array(C.buffer,S.offset+2,S.compressedLength-2),P=new Uint8Array(S.length);if(G(C,P),P.byteLength!==S.length)throw new Error("Decompression error: "+S.tag+" decompressed length doesn't match recorded length");return{data:new DataView(P.buffer,0),offset:0}}function Xs(ke){var S,C,P,U,H,X,te,ae,oe,be,Te,xe,he,Re,Oe=new vt({empty:!0}),Le=new DataView(ke,0),Ee=[],ke=Se.getTag(Le,0);if(ke==="\0\0\0"||ke==="true"||ke==="typ1")Oe.outlinesFormat="truetype",Ee=Mi(Le,P=Se.getUShort(Le,4));else if(ke==="OTTO")Oe.outlinesFormat="cff",Ee=Mi(Le,P=Se.getUShort(Le,4));else{if(ke!=="wOFF")throw new Error("Unsupported OpenType signature "+ke);var Je=Se.getTag(Le,4);if(Je==="\0\0\0")Oe.outlinesFormat="truetype";else{if(Je!=="OTTO")throw new Error("Unsupported OpenType flavor "+ke);Oe.outlinesFormat="cff"}Ee=function(Mt,yt){for(var er=[],Pt=44,$t=0;$t<yt;$t+=1){var Tt=Se.getTag(Mt,Pt),qt=Se.getULong(Mt,Pt+4),Tn=Se.getULong(Mt,Pt+8),an=Se.getULong(Mt,Pt+12),Ti=void 0,Ti=Tn<an&&"WOFF";er.push({tag:Tt,offset:qt,compression:Ti,compressedLength:Tn,length:an}),Pt+=20}return er}(Le,P=Se.getUShort(Le,12))}for(var it=0;it<P;it+=1){var et=Ee[it],tt=void 0;switch(et.tag){case"cmap":tt=Bt(Le,et),Oe.tables.cmap=Q.parse(tt.data,tt.offset),Oe.encoding=new Pe(Oe.tables.cmap);break;case"cvt ":tt=Bt(Le,et),Re=new Se.Parser(tt.data,tt.offset),Oe.tables.cvt=Re.parseShortList(et.length/2);break;case"fvar":H=et;break;case"fpgm":tt=Bt(Le,et),Re=new Se.Parser(tt.data,tt.offset),Oe.tables.fpgm=Re.parseByteList(et.length);break;case"head":tt=Bt(Le,et),Oe.tables.head=wn.parse(tt.data,tt.offset),Oe.unitsPerEm=Oe.tables.head.unitsPerEm,S=Oe.tables.head.indexToLocFormat;break;case"hhea":tt=Bt(Le,et),Oe.tables.hhea=fe.parse(tt.data,tt.offset),Oe.ascender=Oe.tables.hhea.ascender,Oe.descender=Oe.tables.hhea.descender,Oe.numberOfHMetrics=Oe.tables.hhea.numberOfHMetrics;break;case"hmtx":oe=et;break;case"ltag":tt=Bt(Le,et),C=Ze.parse(tt.data,tt.offset);break;case"maxp":tt=Bt(Le,et),Oe.tables.maxp=Ie.parse(tt.data,tt.offset),Oe.numGlyphs=Oe.tables.maxp.numGlyphs;break;case"name":xe=et;break;case"OS/2":tt=Bt(Le,et),Oe.tables.os2=Wt.parse(tt.data,tt.offset);break;case"post":tt=Bt(Le,et),Oe.tables.post=Ho.parse(tt.data,tt.offset),Oe.glyphNames=new Ue(Oe.tables.post);break;case"prep":tt=Bt(Le,et),Re=new Se.Parser(tt.data,tt.offset),Oe.tables.prep=Re.parseByteList(et.length);break;case"glyf":X=et;break;case"loca":Te=et;break;case"CFF ":U=et;break;case"kern":be=et;break;case"GPOS":te=et;break;case"GSUB":ae=et;break;case"meta":he=et}}if(Je=Bt(Le,xe),Oe.tables.name=ar.parse(Je.data,Je.offset,C),Oe.names=Oe.tables.name,X&&Te)ke=S===0,Je=Bt(Le,Te),Je=Mc.parse(Je.data,Je.offset,Oe.numGlyphs,ke),ke=Bt(Le,X),Oe.glyphs=ni.parse(ke.data,ke.offset,Je,Oe);else{if(!U)throw new Error("Font doesn't contain TrueType or CFF outlines.");ke=Bt(Le,U),xn.parse(ke.data,ke.offset,Oe)}for(var Je=Bt(Le,oe),lt=(Be.parse(Je.data,Je.offset,Oe.numberOfHMetrics,Oe.numGlyphs,Oe.glyphs),Oe),wt=lt.tables.cmap.glyphIndexMap,At=Object.keys(wt),Ut=0;Ut<At.length;Ut+=1){var Qt,Jt=At[Ut],fr=wt[Jt];(Qt=lt.glyphs.get(fr)).addUnicode(parseInt(Jt))}for(var _t=0;_t<lt.glyphs.length;_t+=1)Qt=lt.glyphs.get(_t),lt.cffEncoding?lt.isCIDFont?Qt.name="gid"+_t:Qt.name=lt.cffEncoding.charset[_t]:lt.glyphNames.names&&(Qt.name=lt.glyphNames.glyphIndexToName(_t));return be?(ke=Bt(Le,be),Oe.kerningPairs=Sc.parse(ke.data,ke.offset)):Oe.kerningPairs={},te&&(Je=Bt(Le,te),Oe.tables.gpos=jc.parse(Je.data,Je.offset),Oe.position.init()),ae&&(ke=Bt(Le,ae),Oe.tables.gsub=Wo.parse(ke.data,ke.offset)),H&&(Je=Bt(Le,H),Oe.tables.fvar=xc.parse(Je.data,Je.offset,Oe.names)),he&&(ke=Bt(Le,he),Oe.tables.meta=qo.parse(ke.data,ke.offset),Oe.metas=Oe.tables.meta),Oe}u.Font=vt,u.Glyph=Xe,u.Path=K,u.BoundingBox=$,u._parse=Se,u.parse=Xs,u.load=function(w,S){(typeof window>"u"?Tc:Ec)(w,function(C,P){if(C)return S(C);var U;try{U=Xs(P)}catch(H){return S(H,null)}return S(null,U)})},u.loadSync=function(w){return Xs(ei(t("fs").readFileSync(w)))},Object.defineProperty(u,"__esModule",{value:!0})},s(typeof a=="object"&&d!==void 0?a:o.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],250:[function(t,d,a){(function(n){function o(b,y){for(var c=0,h=b.length-1;0<=h;h--){var f=b[h];f==="."?b.splice(h,1):f===".."?(b.splice(h,1),c++):c&&(b.splice(h,1),c--)}if(y)for(;c--;)b.unshift("..");return b}function s(b,y){if(b.filter)return b.filter(y);for(var c=[],h=0;h<b.length;h++)y(b[h],h,b)&&c.push(b[h]);return c}a.resolve=function(){for(var b="",y=!1,c=arguments.length-1;-1<=c&&!y;c--){var h=0<=c?arguments[c]:n.cwd();if(typeof h!="string")throw new TypeError("Arguments to path.resolve must be strings");h&&(b=h+"/"+b,y=h.charAt(0)==="/")}return(y?"/":"")+(b=o(s(b.split("/"),function(f){return!!f}),!y).join("/"))||"."},a.normalize=function(b){var y=a.isAbsolute(b),c=u(b,-1)==="/";return(b=(b=o(s(b.split("/"),function(h){return!!h}),!y).join("/"))||y?b:".")&&c&&(b+="/"),(y?"/":"")+b},a.isAbsolute=function(b){return b.charAt(0)==="/"},a.join=function(){var b=Array.prototype.slice.call(arguments,0);return a.normalize(s(b,function(y,c){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},a.relative=function(b,y){function c(g){for(var x=0;x<g.length&&g[x]==="";x++);for(var j=g.length-1;0<=j&&g[j]==="";j--);return j<x?[]:g.slice(x,j-x+1)}b=a.resolve(b).substr(1),y=a.resolve(y).substr(1);for(var h=c(b.split("/")),f=c(y.split("/")),p=Math.min(h.length,f.length),m=p,v=0;v<p;v++)if(h[v]!==f[v]){m=v;break}for(var _=[],v=m;v<h.length;v++)_.push("..");return(_=_.concat(f.slice(m))).join("/")},a.sep="/",a.delimiter=":",a.dirname=function(b){if(typeof b!="string"&&(b+=""),b.length===0)return".";for(var y=b.charCodeAt(0)===47,c=-1,h=!0,f=b.length-1;1<=f;--f)if(b.charCodeAt(f)===47){if(!h){c=f;break}}else h=!1;return c===-1?y?"/":".":y&&c===1?"/":b.slice(0,c)},a.basename=function(b,y){return b=function(c){typeof c!="string"&&(c+="");for(var h=0,f=-1,p=!0,m=c.length-1;0<=m;--m)if(c.charCodeAt(m)===47){if(!p){h=m+1;break}}else f===-1&&(p=!1,f=m+1);return f===-1?"":c.slice(h,f)}(b),b=y&&b.substr(-1*y.length)===y?b.substr(0,b.length-y.length):b},a.extname=function(b){typeof b!="string"&&(b+="");for(var y=-1,c=0,h=-1,f=!0,p=0,m=b.length-1;0<=m;--m){var v=b.charCodeAt(m);if(v===47){if(f)continue;c=m+1;break}h===-1&&(f=!1,h=m+1),v===46?y===-1?y=m:p!==1&&(p=1):y!==-1&&(p=-1)}return y===-1||h===-1||p===0||p===1&&y===h-1&&y===c+1?"":b.slice(y,h)};var u="ab".substr(-1)==="b"?function(b,y,c){return b.substr(y,c)}:function(b,y,c){return y<0&&(y=b.length+y),b.substr(y,c)}}).call(this,t("_process"))},{_process:251}],251:[function(t,s,a){var n,o,s=s.exports={};function u(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}try{n=typeof setTimeout=="function"?setTimeout:u}catch{n=u}try{o=typeof clearTimeout=="function"?clearTimeout:b}catch{o=b}function y(x){if(n===setTimeout)return setTimeout(x,0);if((n===u||!n)&&setTimeout)return(n=setTimeout)(x,0);try{return n(x,0)}catch{try{return n.call(null,x,0)}catch{return n.call(this,x,0)}}}var c,h=[],f=!1,p=-1;function m(){f&&c&&(f=!1,c.length?h=c.concat(h):p=-1,h.length&&v())}function v(){if(!f){for(var x=y(m),j=(f=!0,h.length);j;){for(c=h,h=[];++p<j;)c&&c[p].run();p=-1,j=h.length}c=null,f=!1,function(E){if(o===clearTimeout)return clearTimeout(E);if((o===b||!o)&&clearTimeout)return(o=clearTimeout)(E);try{o(E)}catch{try{return o.call(null,E)}catch{return o.call(this,E)}}}(x)}}function _(x,j){this.fun=x,this.array=j}function g(){}s.nextTick=function(x){var j=new Array(arguments.length-1);if(1<arguments.length)for(var E=1;E<arguments.length;E++)j[E-1]=arguments[E];h.push(new _(x,j)),h.length!==1||f||y(v)},_.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(x){return[]},s.binding=function(x){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(x){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],252:[function(t,d,a){d=function(n){var o,s=Object.prototype,u=s.hasOwnProperty,M=typeof Symbol=="function"?Symbol:{},b=M.iterator||"@@iterator",y=M.asyncIterator||"@@asyncIterator",c=M.toStringTag||"@@toStringTag";function h(q,z,W,Y){var K,N,A,I,z=z&&z.prototype instanceof x?z:x,z=Object.create(z.prototype),Y=new B(Y||[]);return z._invoke=(K=q,N=W,A=Y,I=p,function(J,ee){if(I===v)throw new Error("Generator is already running");if(I===_){if(J==="throw")throw ee;return V()}for(A.method=J,A.arg=ee;;){var ce=A.delegate;if(ce&&(ce=function pe(ie,de){var ue=ie.iterator[de.method];if(ue===o){if(de.delegate=null,de.method==="throw"){if(ie.iterator.return&&(de.method="return",de.arg=o,pe(ie,de),de.method==="throw"))return g;de.method="throw",de.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}if(ue=f(ue,ie.iterator,de.arg),ue.type==="throw")return de.method="throw",de.arg=ue.arg,de.delegate=null,g;if(ue=ue.arg,!ue)return de.method="throw",de.arg=new TypeError("iterator result is not an object"),de.delegate=null,g;{if(!ue.done)return ue;de[ie.resultName]=ue.value,de.next=ie.nextLoc,de.method!=="return"&&(de.method="next",de.arg=o)}return de.delegate=null,g}(ce,A),ce)){if(ce===g)continue;return ce}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(I===p)throw I=_,A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);if(I=v,ce=f(K,N,A),ce.type==="normal"){if(I=A.done?_:m,ce.arg!==g)return{value:ce.arg,done:A.done}}else ce.type==="throw"&&(I=_,A.method="throw",A.arg=ce.arg)}}),z}function f(q,G,W){try{return{type:"normal",arg:q.call(G,W)}}catch($){return{type:"throw",arg:$}}}n.wrap=h;var p="suspendedStart",m="suspendedYield",v="executing",_="completed",g={};function x(){}function j(){}function E(){}var M={},T=(M[b]=function(){return this},Object.getPrototypeOf),T=T&&T(T(F([]))),O=(T&&T!==s&&u.call(T,b)&&(M=T),E.prototype=x.prototype=Object.create(M));function R(q){["next","throw","return"].forEach(function(G){q[G]=function(W){return this._invoke(G,W)}})}function k(q){var G;this._invoke=function(W,$){function K(){return new Promise(function(N,A){(function I(pe,Y,J,ee){var ce,pe=f(q[pe],q,Y);if(pe.type!=="throw")return(Y=(ce=pe.arg).value)&&typeof Y=="object"&&u.call(Y,"__await")?Promise.resolve(Y.__await).then(function(ie){I("next",ie,J,ee)},function(ie){I("throw",ie,J,ee)}):Promise.resolve(Y).then(function(ie){ce.value=ie,J(ce)},function(ie){return I("throw",ie,J,ee)});ee(pe.arg)})(W,$,N,A)})}return G=G?G.then(K,K):K()}}function D(q){var G={tryLoc:q[0]};1 in q&&(G.catchLoc=q[1]),2 in q&&(G.finallyLoc=q[2],G.afterLoc=q[3]),this.tryEntries.push(G)}function L(q){var G=q.completion||{};G.type="normal",delete G.arg,q.completion=G}function B(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(D,this),this.reset(!0)}function F(q){if(q){var G,W=q[b];if(W)return W.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length))return G=-1,(W=function $(){for(;++G<q.length;)if(u.call(q,G))return $.value=q[G],$.done=!1,$;return $.value=o,$.done=!0,$}).next=W}return{next:V}}function V(){return{value:o,done:!0}}return(j.prototype=O.constructor=E).constructor=j,E[c]=j.displayName="GeneratorFunction",n.isGeneratorFunction=function(q){return q=typeof q=="function"&&q.constructor,!!q&&(q===j||(q.displayName||q.name)==="GeneratorFunction")},n.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,E):(q.__proto__=E,c in q||(q[c]="GeneratorFunction")),q.prototype=Object.create(O),q},n.awrap=function(q){return{__await:q}},R(k.prototype),k.prototype[y]=function(){return this},n.AsyncIterator=k,n.async=function(q,G,W,$){var K=new k(h(q,G,W,$));return n.isGeneratorFunction(G)?K:K.next().then(function(N){return N.done?N.value:K.next()})},R(O),O[c]="Generator",O[b]=function(){return this},O.toString=function(){return"[object Generator]"},n.keys=function(q){var G,W=[];for(G in q)W.push(G);return W.reverse(),function $(){for(;W.length;){var K=W.pop();if(K in q)return $.value=K,$.done=!1,$}return $.done=!0,$}},n.values=F,B.prototype={constructor:B,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(L),!q)for(var G in this)G.charAt(0)==="t"&&u.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=o)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var G=this;function W(z,Y){return N.type="throw",N.arg=q,G.next=z,Y&&(G.method="next",G.arg=o),!!Y}for(var $=this.tryEntries.length-1;0<=$;--$){var K=this.tryEntries[$],N=K.completion;if(K.tryLoc==="root")return W("end");if(K.tryLoc<=this.prev){var A=u.call(K,"catchLoc"),I=u.call(K,"finallyLoc");if(A&&I){if(this.prev<K.catchLoc)return W(K.catchLoc,!0);if(this.prev<K.finallyLoc)return W(K.finallyLoc)}else if(A){if(this.prev<K.catchLoc)return W(K.catchLoc,!0)}else{if(!I)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return W(K.finallyLoc)}}}},abrupt:function(q,G){for(var W=this.tryEntries.length-1;0<=W;--W){var $=this.tryEntries[W];if($.tryLoc<=this.prev&&u.call($,"finallyLoc")&&this.prev<$.finallyLoc){var K=$;break}}var N=(K=K&&(q==="break"||q==="continue")&&K.tryLoc<=G&&G<=K.finallyLoc?null:K)?K.completion:{};return N.type=q,N.arg=G,K?(this.method="next",this.next=K.finallyLoc,g):this.complete(N)},complete:function(q,G){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&G&&(this.next=G),g},finish:function(q){for(var G=this.tryEntries.length-1;0<=G;--G){var W=this.tryEntries[G];if(W.finallyLoc===q)return this.complete(W.completion,W.afterLoc),L(W),g}},catch:function(q){for(var G=this.tryEntries.length-1;0<=G;--G){var W,$,K=this.tryEntries[G];if(K.tryLoc===q)return(W=K.completion).type==="throw"&&($=W.arg,L(K)),$}throw new Error("illegal catch attempt")},delegateYield:function(q,G,W){return this.delegate={iterator:F(q),resultName:G,nextLoc:W},this.method==="next"&&(this.arg=o),g}},n}(typeof d=="object"?d.exports:{});try{regeneratorRuntime=d}catch{Function("r","regeneratorRuntime = r")(d)}},{}],253:[function(t,d,a){(function(n){var o,s,u,b,y,c,h,f,p,m;function v(L){if(typeof L!="string"&&(L=String(L)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(L))throw new TypeError("Invalid character in header field name");return L.toLowerCase()}function _(L){return L=typeof L!="string"?String(L):L}function g(L){var B={next:function(){var F=L.shift();return{done:F===void 0,value:F}}};return s&&(B[Symbol.iterator]=function(){return B}),B}function x(L){this.map={},L instanceof x?L.forEach(function(B,F){this.append(F,B)},this):Array.isArray(L)?L.forEach(function(B){this.append(B[0],B[1])},this):L&&Object.getOwnPropertyNames(L).forEach(function(B){this.append(B,L[B])},this)}function j(L){if(L.bodyUsed)return Promise.reject(new TypeError("Already read"));L.bodyUsed=!0}function E(L){return new Promise(function(B,F){L.onload=function(){B(L.result)},L.onerror=function(){F(L.error)}})}function M(L){var B=new FileReader,F=E(B);return B.readAsArrayBuffer(L),F}function T(L){var B;return L.slice?L.slice(0):((B=new Uint8Array(L.byteLength)).set(new Uint8Array(L)),B.buffer)}function O(){return this.bodyUsed=!1,this._initBody=function(L){if(this._bodyInit=L)if(typeof L=="string")this._bodyText=L;else if(u&&Blob.prototype.isPrototypeOf(L))this._bodyBlob=L;else if(b&&FormData.prototype.isPrototypeOf(L))this._bodyFormData=L;else if(o&&URLSearchParams.prototype.isPrototypeOf(L))this._bodyText=L.toString();else if(y&&u&&h(L))this._bodyArrayBuffer=T(L.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(L)&&!f(L))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=T(L)}else this._bodyText="";this.headers.get("content-type")||(typeof L=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(L)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var L=j(this);if(L)return L;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var L,B,F=j(this);if(F)return F;if(this._bodyBlob)return F=this._bodyBlob,L=new FileReader,B=E(L),L.readAsText(F),B;if(this._bodyArrayBuffer)return Promise.resolve(function(V){for(var q=new Uint8Array(V),G=new Array(q.length),W=0;W<q.length;W++)G[W]=String.fromCharCode(q[W]);return G.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function R(L,B){var F,V=(B=B||{}).body;if(L instanceof R){if(L.bodyUsed)throw new TypeError("Already read");this.url=L.url,this.credentials=L.credentials,B.headers||(this.headers=new x(L.headers)),this.method=L.method,this.mode=L.mode,V||L._bodyInit==null||(V=L._bodyInit,L.bodyUsed=!0)}else this.url=String(L);if(this.credentials=B.credentials||this.credentials||"omit",!B.headers&&this.headers||(this.headers=new x(B.headers)),this.method=(L=B.method||this.method||"GET",F=L.toUpperCase(),-1<p.indexOf(F)?F:L),this.mode=B.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(V)}function k(L){var B=new FormData;return L.trim().split("&").forEach(function(F){var V;F&&(V=(F=F.split("=")).shift().replace(/\+/g," "),F=F.join("=").replace(/\+/g," "),B.append(decodeURIComponent(V),decodeURIComponent(F)))}),B}function D(L,B){B=B||{},this.type="default",this.status=B.status===void 0?200:B.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in B?B.statusText:"OK",this.headers=new x(B.headers),this.url=B.url||"",this._initBody(L)}n.fetch||(o="URLSearchParams"in n,s="Symbol"in n&&"iterator"in Symbol,u="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),b="FormData"in n,(y="ArrayBuffer"in n)&&(c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=function(L){return L&&DataView.prototype.isPrototypeOf(L)},f=ArrayBuffer.isView||function(L){return L&&-1<c.indexOf(Object.prototype.toString.call(L))}),x.prototype.append=function(L,B){L=v(L),B=_(B);var F=this.map[L];this.map[L]=F?F+","+B:B},x.prototype.delete=function(L){delete this.map[v(L)]},x.prototype.get=function(L){return L=v(L),this.has(L)?this.map[L]:null},x.prototype.has=function(L){return this.map.hasOwnProperty(v(L))},x.prototype.set=function(L,B){this.map[v(L)]=_(B)},x.prototype.forEach=function(L,B){for(var F in this.map)this.map.hasOwnProperty(F)&&L.call(B,this.map[F],F,this)},x.prototype.keys=function(){var L=[];return this.forEach(function(B,F){L.push(F)}),g(L)},x.prototype.values=function(){var L=[];return this.forEach(function(B){L.push(B)}),g(L)},x.prototype.entries=function(){var L=[];return this.forEach(function(B,F){L.push([F,B])}),g(L)},s&&(x.prototype[Symbol.iterator]=x.prototype.entries),p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],R.prototype.clone=function(){return new R(this,{body:this._bodyInit})},O.call(R.prototype),O.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},D.error=function(){var L=new D(null,{status:0,statusText:""});return L.type="error",L},m=[301,302,303,307,308],D.redirect=function(L,B){if(m.indexOf(B)===-1)throw new RangeError("Invalid status code");return new D(null,{status:B,headers:{location:L}})},n.Headers=x,n.Request=R,n.Response=D,n.fetch=function(L,B){return new Promise(function(F,V){var q=new R(L,B),G=new XMLHttpRequest;G.onload=function(){var W,$={status:G.status,statusText:G.statusText,headers:($=G.getAllResponseHeaders()||"",W=new x,$.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(A){var A=A.split(":"),I=A.shift().trim();I&&(A=A.join(":").trim(),W.append(I,A))}),W)},K=($.url="responseURL"in G?G.responseURL:$.headers.get("X-Request-URL"),"response"in G?G.response:G.responseText);F(new D(K,$))},G.onerror=function(){V(new TypeError("Network request failed"))},G.ontimeout=function(){V(new TypeError("Network request failed"))},G.open(q.method,q.url,!0),q.credentials==="include"?G.withCredentials=!0:q.credentials==="omit"&&(G.withCredentials=!1),"responseType"in G&&u&&(G.responseType="blob"),q.headers.forEach(function(W,$){G.setRequestHeader($,W)}),G.send(q._bodyInit===void 0?null:q._bodyInit)})},n.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],254:[function(t,d,a){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,o=u(t("../core/main")),s=u(t("../color/color_conversion"));function u(c){return c&&c.__esModule?c:{default:c}}var b=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];o.default.prototype._rgbColorName=function(p){var h,f,p=s.default._rgbaToHSBA(p),m=[(n=p)[0],p[1],p[2]];m[0]!==0&&(m[0]=Math.round(100*m[0]),(p=m[0].toString().split(""))[f=p.length-1]=parseInt(p[f]),p[f]<2.5?p[f]=0:2.5<=p[f]&&p[f]<7.5&&(p[f]=5),p.length===2?(p[0]=parseInt(p[0]),7.5<=p[f]&&(p[f]=0,p[0]=p[0]+1),m[0]=10*p[0]+p[1]):7.5<=p[f]?m[0]=10:m[0]=p[f]),m[2]=m[2]/255;for(var v=m.length-1;1<=v;v--)m[v]<=.25?m[v]=0:.25<m[v]&&m[v]<.75?m[v]=.5:m[v]=1;if(m[0]===0&&m[1]===0&&m[2]===1){for(var _=2;0<=_;_--)n[_]=Math.round(1e4*n[_])/1e4;for(var g=0;g<b.length;g++){if(b[g].h===n[0]&&b[g].s===n[1]&&b[g].b===n[2]){h=b[g].name;break}h="white"}}else for(var x=0;x<y.length;x++)if(y[x].h===m[0]&&y[x].s===m[1]&&y[x].b===m[2]){h=y[x].name;break}return h},t=o.default,a.default=t},{"../color/color_conversion":260,"../core/main":275,"core-js/modules/es.function.name":168,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198}],255:[function(t,d,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t},o="_Description",s="_fallbackDesc",u="_fallbackTable",b="_Label",y="_labelDesc",c="_labelTable";function h(f){if(f==="label"||f==="fallback")throw new Error("description should not be LABEL or FALLBACK");return f.endsWith(".")||f.endsWith(";")||f.endsWith(",")||f.endsWith("?")||f.endsWith("!")||(f+="."),f}n.default.prototype.describe=function(f,p){var m;n.default._validateParameters("describe",arguments),typeof f=="string"&&(m=this.canvas.id,f=h(f),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==f&&(this.descriptions.fallback.innerHTML=f):this._describeHTML("fallback",f),p===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==f&&(this.descriptions.label.innerHTML=f):this._describeHTML("label",f)))},n.default.prototype.describeElement=function(f,p,m){var v,_;n.default._validateParameters("describeElement",arguments),typeof p=="string"&&typeof f=="string"&&(v=this.canvas.id,p=h(p),_=function(g){if(g==="label"||g==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return g.endsWith(".")||g.endsWith(";")||g.endsWith(",")?g=g.replace(/.$/,":"):g.endsWith(":")||(g+=":"),g}(f),f=f.replace(/[^a-zA-Z0-9]/g,""),_='<th scope="row">'.concat(_,"</th><td>").concat(p,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(v).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[f]?this.descriptions.fallbackElements[f].innerHTML!==_&&(this.descriptions.fallbackElements[f].innerHTML=_):this._describeElementHTML("fallback",f,_),m===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[f]?this.descriptions.labelElements[f].innerHTML!==_&&(this.descriptions.labelElements[f].innerHTML=_):this._describeElementHTML("label",f,_)))},n.default.prototype._describeHTML=function(f,p){var m,v=this.canvas.id;f==="fallback"?(this.dummyDOM.querySelector("#".concat(v+o))?this.dummyDOM.querySelector("#"+v+u).insertAdjacentHTML("beforebegin",'<p id="'.concat(v+s,'"></p>')):(m='<div id="'.concat(v).concat(o,'" role="region" aria-label="Canvas Description"><p id="').concat(v).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#".concat(v)).innerHTML=m),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(v).concat(s)),this.descriptions.fallback.innerHTML=p):f==="label"&&(this.dummyDOM.querySelector("#".concat(v+b))?this.dummyDOM.querySelector("#".concat(v+c))&&this.dummyDOM.querySelector("#".concat(v+c)).insertAdjacentHTML("beforebegin",'<p id="'.concat(v).concat(y,'"></p>')):(m='<div id="'.concat(v).concat(b,'" class="p5Label"><p id="').concat(v).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",m)),this.descriptions.label=this.dummyDOM.querySelector("#"+v+y),this.descriptions.label.innerHTML=p)},n.default.prototype._describeElementHTML=function(f,p,m){var v,_=this.canvas.id;f==="fallback"?(this.dummyDOM.querySelector("#".concat(_+o))?this.dummyDOM.querySelector("#"+_+u)||this.dummyDOM.querySelector("#"+_+s).insertAdjacentHTML("afterend",'<table id="'.concat(_).concat(u,'"><caption>Canvas elements and their descriptions</caption></table>')):(v='<div id="'.concat(_).concat(o,'" role="region" aria-label="Canvas Description"><table id="').concat(_).concat(u,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutput")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+_).innerHTML=v),(v=document.createElement("tr")).id=_+"_fte_"+p,this.dummyDOM.querySelector("#"+_+u).appendChild(v),this.descriptions.fallbackElements[p]=this.dummyDOM.querySelector("#".concat(_).concat("_fte_").concat(p)),this.descriptions.fallbackElements[p].innerHTML=m):f==="label"&&(this.dummyDOM.querySelector("#".concat(_+b))?this.dummyDOM.querySelector("#".concat(_+c))||this.dummyDOM.querySelector("#"+_+y).insertAdjacentHTML("afterend",'<table id="'.concat(_+c,'"></table>')):(v='<div id="'.concat(_).concat(b,'" class="p5Label"><table id="').concat(_).concat(c,'"></table></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+_).insertAdjacentHTML("afterend",v)),(f=document.createElement("tr")).id=_+"_lte_"+p,this.dummyDOM.querySelector("#"+_+c).appendChild(f),this.descriptions.labelElements[p]=this.dummyDOM.querySelector("#".concat(_).concat("_lte_").concat(p)),this.descriptions.labelElements[p].innerHTML=m)},t=n.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.replace":196}],256:[function(t,d,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(n){var o,s,u,b;this.dummyDOM.querySelector("#".concat(n,"_summary"))&&(o=this._accessibleOutputs[n],u=function(y,c,h,f){return c="".concat(c," canvas, ").concat(h," by ").concat(f," pixels, contains ").concat(y[0]),c=(y[0]===1?"".concat(c," shape: "):"".concat(c," shapes: ")).concat(y[1]),c}((s=function(y,c){var h,f="",p="",m=0;for(h in c){var v,_=0;for(v in c[h]){var g='<li id="'.concat(y,"shape").concat(m,'">').concat(c[h][v].color," ").concat(h,",");h==="line"?g+=" location = ".concat(c[h][v].pos,", length = ").concat(c[h][v].length," pixels"):(g+=" location = ".concat(c[h][v].pos),h!=="point"&&(g+=", area = ".concat(c[h][v].area," %")),g+="</li>"),f+=g,_++,m++}p=1<_?"".concat(p," ").concat(_," ").concat(h,"s"):"".concat(p," ").concat(_," ").concat(h)}return{numShapes:[m,p],details:f}}(n,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),b=function(y,c){var h,f,p=0,m="",v=Array.from(Array(10),function(){return Array(10)});for(h in c)for(var _ in c[h]){var g=void 0;g=h!=="line"?'<a href="#'.concat(y,"shape").concat(p,'">').concat(c[h][_].color," ").concat(h,"</a>"):'<a href="#'.concat(y,"shape").concat(p,'">').concat(c[h][_].color," ").concat(h," midpoint</a>"),v[c[h][_].loc.locY][c[h][_].loc.locX]?v[c[h][_].loc.locY][c[h][_].loc.locX]=v[c[h][_].loc.locY][c[h][_].loc.locX]+"  "+g:v[c[h][_].loc.locY][c[h][_].loc.locX]=g,p++}for(f in v){var x,j="<tr>";for(x in v[f])j+="<td>",v[f][x]!==void 0&&(j+=v[f][x]),j+="</td>";m=m+j+"</tr>"}return m}(n,this.ingredients.shapes),u!==o.summary.innerHTML&&(o.summary.innerHTML=u),b!==o.map.innerHTML&&(o.map.innerHTML=b),s.details!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=s.details),this._accessibleOutputs[n]=o)},t=t.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":158,"core-js/modules/es.array.map":164,"core-js/modules/es.string.iterator":192}],257:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(u){return function(b){if(Array.isArray(b)){for(var y=0,c=new Array(b.length);y<b.length;y++)c[y]=b[y];return c}}(u)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(u,b,y){return b=Math.floor(u[0]/b*10),u=Math.floor(u[1]/y*10),b===10&&(b-=1),u===10&&(u-=1),{locX:b,locY:u}}n.default.prototype.textOutput=function(u){n.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},n.default.prototype.gridOutput=function(u){n.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},n.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},n.default.prototype._createOutput=function(u,b){var y,c,h,f=this.canvas.id,p=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(f).parentNode),"");b==="Fallback"?(y=f+u,this.dummyDOM.querySelector("#".concat(c=f+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(f,"_Description"))?this.dummyDOM.querySelector("#".concat(f,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(f)).innerHTML='<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>'))):b==="Label"&&(y=f+u+(p=b),this.dummyDOM.querySelector("#".concat(c=f+"accessibleOutput"+b))||(this.dummyDOM.querySelector("#".concat(f,"_Label"))?this.dummyDOM.querySelector("#".concat(f,"_Label")):this.dummyDOM.querySelector("#".concat(f))).insertAdjacentHTML("afterend",'<div id="'.concat(c,'"></div>'))),this._accessibleOutputs[y]={},u==="textOutput"?(p="#".concat(f,"gridOutput").concat(p),h='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(c)).innerHTML=h,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):u==="gridOutput"&&(p="#".concat(f,"textOutput").concat(p),h='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector("#".concat(c)).innerHTML=h,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},n.default.prototype._updateAccsOutput=function(){var u=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(u+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(u+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(u+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(u+"gridOutputLabel"))},n.default.prototype._accsBackground=function(u){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==u&&(this.ingredients.colors.backgroundRGBA=u,this.ingredients.colors.background=this._rgbColorName(u))},n.default.prototype._accsCanvasColors=function(u,b){u==="fill"?this.ingredients.colors.fillRGBA!==b&&(this.ingredients.colors.fillRGBA=b,this.ingredients.colors.fill=this._rgbColorName(b)):u==="stroke"&&this.ingredients.colors.strokeRGBA!==b&&(this.ingredients.colors.strokeRGBA=b,this.ingredients.colors.stroke=this._rgbColorName(b))},n.default.prototype._accsOutput=function(u,b){u==="ellipse"&&b[2]===b[3]?u="circle":u==="rectangle"&&b[2]===b[3]&&(u="square");var y,c,h={},f=!0,p=function(v,_){var g;return v=v==="rectangle"||v==="ellipse"||v==="arc"||v==="circle"||v==="square"?(g=Math.round(_[0]+_[2]/2),Math.round(_[1]+_[3]/2)):v==="triangle"?(g=(_[0]+_[2]+_[4])/3,(_[1]+_[3]+_[5])/3):v==="quadrilateral"?(g=(_[0]+_[2]+_[4]+_[6])/4,(_[1]+_[3]+_[5]+_[7])/4):v==="line"?(g=(_[0]+_[2])/2,(_[1]+_[3])/2):(g=_[0],_[1]),[g,v]}(u,b);if(u==="line"?(h.color=this.ingredients.colors.stroke,h.length=Math.round(this.dist(b[0],b[1],b[2],b[3])),y=this._getPos(b[0],[1]),c=this._getPos(b[2],[3]),h.loc=s(p,this.width,this.height),h.pos=y===c?"at ".concat(y):"from ".concat(y," to ").concat(c)):(u==="point"?h.color=this.ingredients.colors.stroke:(h.color=this.ingredients.colors.fill,h.area=this._getArea(u,b)),h.pos=this._getPos.apply(this,o(p)),h.loc=s(p,this.width,this.height)),this.ingredients.shapes[u]){if(this.ingredients.shapes[u]!==[h]){for(var m in this.ingredients.shapes[u])JSON.stringify(this.ingredients.shapes[u][m])===JSON.stringify(h)&&(f=!1);f===!0&&this.ingredients.shapes[u].push(h)}}else this.ingredients.shapes[u]=[h]},n.default.prototype._getPos=function(c,y){var c=new DOMPointReadOnly(c,y),y=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),c=c.matrixTransform(y),y=c.x,c=c.y,h=this.width,f=this.height;return y<.4*h?c<.4*f?"top left":.6*f<c?"bottom left":"mid left":.6*h<y?c<.4*f?"top right":.6*f<c?"bottom right":"mid right":c<.4*f?"top middle":.6*f<c?"bottom middle":"middle"},n.default.prototype._getArea=function(u,b){var y,c,h=0,f=(u==="arc"?(h=(y=((b[5]-b[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*b[2]*b[3]/8,b[6]!=="open"&&b[6]!=="chord"||(c=b[0],_=b[1],f=b[0]+b[2]/2*Math.cos(b[4]).toFixed(2),g=b[1]+b[3]/2*Math.sin(b[4]).toFixed(2),m=b[0]+b[2]/2*Math.cos(b[5]).toFixed(2),p=b[1]+b[3]/2*Math.sin(b[5]).toFixed(2),c=Math.abs(c*(g-p)+f*(p-_)+m*(_-g))/2,y>Math.PI?h+=c:h-=c)):u==="ellipse"||u==="circle"?h=3.14*b[2]/2*b[3]/2:u==="line"||u==="point"?h=0:u==="quadrilateral"?h=Math.abs((b[6]+b[0])*(b[7]-b[1])+(b[0]+b[2])*(b[1]-b[3])+(b[2]+b[4])*(b[3]-b[5])+(b[4]+b[6])*(b[5]-b[7]))/2:u==="rectangle"||u==="square"?h=b[2]*b[3]:u==="triangle"&&(h=Math.abs(b[0]*(b[3]-b[5])+b[2]*(b[5]-b[1])+b[4]*(b[1]-b[3]))/2),this.width*this._pixelDensity),p=this.height*this._pixelDensity,m=[new DOMPoint(0,0),new DOMPoint(f,0),new DOMPoint(f,p),new DOMPoint(0,p)],v=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),_=m.map(function(x){return x.matrixTransform(v)}),g=Math.abs((_[3].x+_[0].x)*(_[3].y-_[0].y)+(_[0].x+_[1].x)*(_[0].y-_[1].y)+(_[1].x+_[2].x)*(_[1].y-_[2].y)+(_[2].x+_[3].x)*(_[2].y-_[3].y))/2;return Math.round(100*h/g)},t=n.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],258:[function(t,d,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(n){var o,s,u,b;this.dummyDOM.querySelector("#".concat(n,"_summary"))&&(o=this._accessibleOutputs[n],u=function(y,c,h,f){return h="Your output is a, ".concat(h," by ").concat(f," pixels, ").concat(c," canvas containing the following"),h=y===1?"".concat(h," shape:"):"".concat(h," ").concat(y," shapes:"),h}((s=function(y,c){var h,f="",p=0;for(h in c)for(var m in c[h]){var v='<li><a href="#'.concat(y,"shape").concat(p,'">').concat(c[h][m].color," ").concat(h,"</a>");h==="line"?v+=", ".concat(c[h][m].pos,", ").concat(c[h][m].length," pixels long.</li>"):(v+=", at ".concat(c[h][m].pos),h!=="point"&&(v+=", covering ".concat(c[h][m].area,"% of the canvas")),v+=".</li>"),f+=v,p++}return{numShapes:p,listShapes:f}}(n,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),b=function(y,c){var h,f="",p=0;for(h in c)for(var m in c[h]){var v='<tr id="'.concat(y,"shape").concat(p,'"><th>').concat(c[h][m].color," ").concat(h,"</th>");h==="line"?v+="<td>location = ".concat(c[h][m].pos,"</td><td>length = ").concat(c[h][m].length," pixels</td></tr>"):(v+="<td>location = ".concat(c[h][m].pos,"</td>"),h!=="point"&&(v+="<td> area = ".concat(c[h][m].area,"%</td>")),v+="</tr>"),f+=v,p++}return f}(n,this.ingredients.shapes),u!==o.summary.innerHTML&&(o.summary.innerHTML=u),s.listShapes!==o.list.innerHTML&&(o.list.innerHTML=s.listShapes),b!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=b),this._accessibleOutputs[n]=o)},t=t.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151}],259:[function(t,d,a){var n=(n=t("./core/main"))&&n.__esModule?n:{default:n};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),d.exports=n.default},{"./accessibility/color_namer":254,"./accessibility/describe":255,"./accessibility/gridOutput":256,"./accessibility/outputs":257,"./accessibility/textOutput":258,"./color/color_conversion":260,"./color/creating_reading":261,"./color/p5.Color":262,"./color/setting":263,"./core/constants":264,"./core/environment":265,"./core/friendly_errors/fes_core":266,"./core/friendly_errors/file_errors":267,"./core/friendly_errors/sketch_reader":268,"./core/friendly_errors/stacktrace":269,"./core/friendly_errors/validate_params":270,"./core/helpers":271,"./core/init":272,"./core/legacy":274,"./core/main":275,"./core/p5.Element":276,"./core/p5.Graphics":277,"./core/p5.Renderer":278,"./core/p5.Renderer2D":279,"./core/preload":280,"./core/rendering":281,"./core/shape/2d_primitives":282,"./core/shape/attributes":283,"./core/shape/curves":284,"./core/shape/vertex":285,"./core/shim":286,"./core/structure":287,"./core/transform":288,"./data/local_storage.js":289,"./data/p5.TypedDict":290,"./dom/dom":291,"./events/acceleration":292,"./events/keyboard":293,"./events/mouse":294,"./events/touch":295,"./image/filters":296,"./image/image":297,"./image/loading_displaying":298,"./image/p5.Image":299,"./image/pixels":300,"./io/files":301,"./io/p5.Table":302,"./io/p5.TableRow":303,"./io/p5.XML":304,"./math/calculation":305,"./math/math":306,"./math/noise":307,"./math/p5.Vector":308,"./math/random":309,"./math/trigonometry":310,"./typography/attributes":311,"./typography/loading_displaying":312,"./typography/p5.Font":313,"./utilities/array_functions":314,"./utilities/conversion":315,"./utilities/string_functions":316,"./utilities/time_date":317,"./webgl/3d_primitives":318,"./webgl/interaction":320,"./webgl/light":321,"./webgl/loading":322,"./webgl/material":323,"./webgl/p5.Camera":324,"./webgl/p5.DataArray":325,"./webgl/p5.Framebuffer":326,"./webgl/p5.Geometry":327,"./webgl/p5.Matrix":328,"./webgl/p5.RenderBuffer":329,"./webgl/p5.RendererGL":332,"./webgl/p5.RendererGL.Immediate":330,"./webgl/p5.RendererGL.Retained":331,"./webgl/p5.Shader":333,"./webgl/p5.Texture":334,"./webgl/text":335}],260:[function(t,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(n){var o=n[0],s=n[1],u=n[2],b=(2-s)*u/2;return b!=0&&(b==1?s=0:b<.5?s/=2-s:s=s*u/(2-2*b)),[o,s,b,n[3]]},_hsbaToRGBA:function(n){var o,s,u,b,y,c=6*n[0],h=n[1],f=n[2];return h===0?[f,f,f,n[3]]:(s=f*(1-h),u=f*(1-h*(c-(o=Math.floor(c)))),h=f*(1-h*(1+o-c)),c=o===1?(b=u,y=f,s):o===2?(b=s,y=f,h):o===3?(b=s,y=u,f):o===4?(b=h,y=s,f):o===5?(b=f,y=s,u):(b=f,y=h,s),[b,y,c,n[3]])},_hslaToHSBA:function(n){var o=n[0],s=n[1],u=n[2],b=u<.5?(1+s)*u:u+s-u*s;return[o,s=2*(b-u)/b,b,n[3]]},_hslaToRGBA:function(n){var o,s=6*n[0],u=n[1],b=n[2];return u===0?[b,b,b,n[3]]:[(o=function(y,c,h){return y<0?y+=6:6<=y&&(y-=6),y<1?c+(h-c)*y:y<3?h:y<4?c+(h-c)*(4-y):c})(2+s,u=2*b-(b=b<.5?(1+u)*b:b+u-b*u),b),o(s,u,b),o(s-2,u,b),n[3]]},_rgbaToHSBA:function(n){var o,s,u=n[0],b=n[1],y=n[2],c=Math.max(u,b,y),h=c-Math.min(u,b,y);return h==0?s=o=0:(s=h/c,u===c?o=(b-y)/h:b===c?o=2+(y-u)/h:y===c&&(o=4+(u-b)/h),o<0?o+=6:6<=o&&(o-=6)),[o/6,s,c,n[3]]},_rgbaToHSLA:function(n){var o,s,u=n[0],b=n[1],y=n[2],c=Math.max(u,b,y),f=Math.min(u,b,y),h=c+f,f=c-f;return f==0?s=o=0:(s=h<1?f/h:f/(2-h),u===c?o=(b-y)/f:b===c?o=2+(y-u)/f:y===c&&(o=4+(u-b)/f),o<0?o+=6:6<=o&&(o-=6)),[o/6,s,h/2,n[3]]}},t=t.default.ColorConversion,a.default=t},{"../core/main":275}],261:[function(t,d,a){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function o(c){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(h){return n(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":n(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},u=function(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var h=b();if(h&&h.has(c))return h.get(c);var f,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var v;Object.prototype.hasOwnProperty.call(c,f)&&((v=m?Object.getOwnPropertyDescriptor(c,f):null)&&(v.get||v.set)?Object.defineProperty(p,f,v):p[f]=c[f])}return p.default=c,h&&h.set(c,p),p}(t("../core/constants"));function b(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,b=function(){return c},c)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(c){return s.default._validateParameters("alpha",arguments),this.color(c)._getAlpha()},s.default.prototype.blue=function(c){return s.default._validateParameters("blue",arguments),this.color(c)._getBlue()},s.default.prototype.brightness=function(c){return s.default._validateParameters("brightness",arguments),this.color(c)._getBrightness()},s.default.prototype.color=function(){var c;return s.default._validateParameters("color",arguments),arguments[0]instanceof s.default.Color?arguments[0]:(c=arguments[0]instanceof Array?arguments[0]:arguments,new s.default.Color(this,c))},s.default.prototype.green=function(c){return s.default._validateParameters("green",arguments),this.color(c)._getGreen()},s.default.prototype.hue=function(c){return s.default._validateParameters("hue",arguments),this.color(c)._getHue()},s.default.prototype.lerpColor=function(c,h,f){s.default._validateParameters("lerpColor",arguments);var p,m,v,_=this._colorMode,g=this._colorMaxes;if(_===u.RGB)m=c.levels.map(function(x){return x/255}),v=h.levels.map(function(x){return x/255});else if(_===u.HSB)c._getBrightness(),h._getBrightness(),m=c.hsba,v=h.hsba;else{if(_!==u.HSL)throw new Error("".concat(_,"cannot be used for interpolation."));c._getLightness(),h._getLightness(),m=c.hsla,v=h.hsla}return f=Math.max(Math.min(f,1),0),this.lerp===void 0&&(this.lerp=function(x,j,E){return E*(j-x)+x}),c=this.lerp(m[0],v[0],f),h=this.lerp(m[1],v[1],f),p=this.lerp(m[2],v[2],f),m=this.lerp(m[3],v[3],f),c*=g[_][0],h*=g[_][1],p*=g[_][2],m*=g[_][3],this.color(c,h,p,m)},s.default.prototype.lightness=function(c){return s.default._validateParameters("lightness",arguments),this.color(c)._getLightness()},s.default.prototype.red=function(c){return s.default._validateParameters("red",arguments),this.color(c)._getRed()},s.default.prototype.saturation=function(c){return s.default._validateParameters("saturation",arguments),this.color(c)._getSaturation()};var y=s.default;a.default=y},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],262:[function(p,d,a){function n(x){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(x)}function o(x){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(j){return n(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":n(j)})(x)}p("core-js/modules/es.symbol"),p("core-js/modules/es.symbol.description"),p("core-js/modules/es.symbol.iterator"),p("core-js/modules/es.array.includes"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.array.join"),p("core-js/modules/es.array.map"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.object.get-own-property-descriptor"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.regexp.constructor"),p("core-js/modules/es.regexp.exec"),p("core-js/modules/es.regexp.to-string"),p("core-js/modules/es.string.includes"),p("core-js/modules/es.string.iterator"),p("core-js/modules/es.string.trim"),p("core-js/modules/es.weak-map"),p("core-js/modules/web.dom-collections.iterator"),p("core-js/modules/es.array.includes"),p("core-js/modules/es.array.join"),p("core-js/modules/es.array.map"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.regexp.constructor"),p("core-js/modules/es.regexp.exec"),p("core-js/modules/es.regexp.to-string"),p("core-js/modules/es.string.includes"),p("core-js/modules/es.string.trim"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=c(p("../core/main")),u=function(x){if(x&&x.__esModule)return x;if(x===null||o(x)!=="object"&&typeof x!="function")return{default:x};var j=y();if(j&&j.has(x))return j.get(x);var E,M={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in x){var O;Object.prototype.hasOwnProperty.call(x,E)&&((O=T?Object.getOwnPropertyDescriptor(x,E):null)&&(O.get||O.set)?Object.defineProperty(M,E,O):M[E]=x[E])}return M.default=x,j&&j.set(x,M),M}(p("../core/constants")),b=c(p("./color_conversion"));function y(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,y=function(){return x},x)}function c(x){return x&&x.__esModule?x:{default:x}}function h(x,j){for(var E=0;E<j.length;E++){var M=j[E];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,M.key,M)}}var f={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=/\s*/,g=/(\d{1,3})/,m=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,v=new RegExp("".concat(m.source,"%")),_={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(p.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",v.source,",",v.source,",",v.source,"\\)$"].join(p.source),"i"),RGBA:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",m.source,"\\)$"].join(p.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",v.source,",",v.source,",",v.source,",",m.source,"\\)$"].join(p.source),"i"),HSL:new RegExp(["^hsl\\(",g.source,",",v.source,",",v.source,"\\)$"].join(p.source),"i"),HSLA:new RegExp(["^hsla\\(",g.source,",",v.source,",",v.source,",",m.source,"\\)$"].join(p.source),"i"),HSB:new RegExp(["^hsb\\(",g.source,",",v.source,",",v.source,"\\)$"].join(p.source),"i"),HSBA:new RegExp(["^hsba\\(",g.source,",",v.source,",",v.source,",",m.source,"\\)$"].join(p.source),"i")},g=(s.default.Color=function(){function x(T,O){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(T._colorMode,T._colorMaxes),![u.RGB,u.HSL,u.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=x._parseInputs.apply(this,O),this._calculateLevels()}var j,E,M;return j=x,M=[{key:"_parseInputs",value:function(T,O,R,k){var D,L=arguments.length,B=this.mode,F=this.maxes[B],V=[];if(3<=L){for(V[0]=T/F[0],V[1]=O/F[1],V[2]=R/F[2],V[3]=typeof k=="number"?k/F[3]:1,D=V.length-1;0<=D;--D){var q=V[D];q<0?V[D]=0:1<q&&(V[D]=1)}return B===u.HSL?b.default._hslaToRGBA(V):B===u.HSB?b.default._hsbaToRGBA(V):V}if(L===1&&typeof T=="string"){if(R=T.trim().toLowerCase(),f[R])return x._parseInputs.call(this,f[R]);if(_.HEX3.test(R))return(V=_.HEX3.exec(R).slice(1).map(function(G){return parseInt(G+G,16)/255}))[3]=1,V;if(_.HEX6.test(R))return(V=_.HEX6.exec(R).slice(1).map(function(G){return parseInt(G,16)/255}))[3]=1,V;if(_.HEX4.test(R))return V=_.HEX4.exec(R).slice(1).map(function(G){return parseInt(G+G,16)/255});if(_.HEX8.test(R))return V=_.HEX8.exec(R).slice(1).map(function(G){return parseInt(G,16)/255});if(_.RGB.test(R))return(V=_.RGB.exec(R).slice(1).map(function(G){return G/255}))[3]=1,V;if(_.RGB_PERCENT.test(R))return(V=_.RGB_PERCENT.exec(R).slice(1).map(function(G){return parseFloat(G)/100}))[3]=1,V;if(_.RGBA.test(R))return V=_.RGBA.exec(R).slice(1).map(function(G,W){return W===3?parseFloat(G):G/255});if(_.RGBA_PERCENT.test(R))return V=_.RGBA_PERCENT.exec(R).slice(1).map(function(G,W){return W===3?parseFloat(G):parseFloat(G)/100});if(_.HSL.test(R)?(V=_.HSL.exec(R).slice(1).map(function(G,W){return W===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:_.HSLA.test(R)&&(V=_.HSLA.exec(R).slice(1).map(function(G,W){return W===0?parseInt(G,10)/360:W===3?parseFloat(G):parseInt(G,10)/100})),(V=V.map(function(G){return Math.max(Math.min(G,1),0)})).length)return b.default._hslaToRGBA(V);if(_.HSB.test(R)?(V=_.HSB.exec(R).slice(1).map(function(G,W){return W===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:_.HSBA.test(R)&&(V=_.HSBA.exec(R).slice(1).map(function(G,W){return W===0?parseInt(G,10)/360:W===3?parseFloat(G):parseInt(G,10)/100})),V.length){for(D=V.length-1;0<=D;--D)V[D]=Math.max(Math.min(V[D],1),0);return b.default._hsbaToRGBA(V)}V=[1,1,1,1]}else{if(L!==1&&L!==2||typeof T!="number")throw new Error("".concat(arguments,"is not a valid color representation."));V[0]=T/F[2],V[1]=T/F[2],V[2]=T/F[2],V[3]=typeof O=="number"?O/F[3]:1,V=V.map(function(G){return Math.max(Math.min(G,1),0)})}return V}}],(E=[{key:"toString",value:function(T){var O=this.levels,R=this._array,k=R[3];switch(T){case"#rrggbb":return"#".concat(O[0]<16?"0".concat(O[0].toString(16)):O[0].toString(16),O[1]<16?"0".concat(O[1].toString(16)):O[1].toString(16),O[2]<16?"0".concat(O[2].toString(16)):O[2].toString(16));case"#rrggbbaa":return"#".concat(O[0]<16?"0".concat(O[0].toString(16)):O[0].toString(16),O[1]<16?"0".concat(O[1].toString(16)):O[1].toString(16),O[2]<16?"0".concat(O[2].toString(16)):O[2].toString(16),O[3]<16?"0".concat(O[3].toString(16)):O[3].toString(16));case"#rgb":return"#".concat(Math.round(15*R[0]).toString(16),Math.round(15*R[1]).toString(16),Math.round(15*R[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*R[0]).toString(16),Math.round(15*R[1]).toString(16),Math.round(15*R[2]).toString(16),Math.round(15*R[3]).toString(16));case"rgb":return"rgb(".concat(O[0],", ",O[1],", ",O[2],")");case"rgb%":return"rgb(".concat((100*R[0]).toPrecision(3),"%, ",(100*R[1]).toPrecision(3),"%, ",(100*R[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*R[0]).toPrecision(3),"%, ",(100*R[1]).toPrecision(3),"%, ",(100*R[2]).toPrecision(3),"%, ",(100*R[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],", ",k,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],", ",k,")");case"hsla%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");default:return"rgba(".concat(O[0],",",O[1],",",O[2],",",k,")")}}},{key:"setRed",value:function(T){this._array[0]=T/this.maxes[u.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(T){this._array[1]=T/this.maxes[u.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(T){this._array[2]=T/this.maxes[u.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(T){this._array[3]=T/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var T=this._array,O=this.levels=new Array(T.length),R=T.length-1;0<=R;--R)O[R]=Math.round(255*T[R]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(T,O){this.mode=T,this.maxes=O}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[u.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[u.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[u.RGB][1]}},{key:"_getHue",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[u.HSB][0]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[u.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[u.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[u.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[u.HSB][1]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[u.HSL][1])}}])&&h(j.prototype,E),M&&h(j,M),x}(),s.default.Color);a.default=g},{"../core/constants":264,"../core/main":275,"./color_conversion":260,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],263:[function(t,d,a){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function o(c){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(h){return n(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":n(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},u=function(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var h=b();if(h&&h.has(c))return h.get(c);var f,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var v;Object.prototype.hasOwnProperty.call(c,f)&&((v=m?Object.getOwnPropertyDescriptor(c,f):null)&&(v.get||v.set)?Object.defineProperty(p,f,v):p[f]=c[f])}return p.default=c,h&&h.set(c,p),p}(t("../core/constants"));function b(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,b=function(){return c},c)}t("./p5.Color"),s.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},s.default.prototype.endClip=function(){this._renderer.endClip()},s.default.prototype.clip=function(c,h){this._renderer.beginClip(h),c(),this._renderer.endClip(h)},s.default.prototype.background=function(){var c;return(c=this._renderer).background.apply(c,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(c,h,f,p,m){return s.default._validateParameters("colorMode",arguments),c!==u.RGB&&c!==u.HSB&&c!==u.HSL||(this._colorMode=c,c=this._colorMaxes[c],arguments.length===2?(c[0]=h,c[1]=h,c[2]=h,c[3]=h):arguments.length===4?(c[0]=h,c[1]=f,c[2]=p):arguments.length===5&&(c[0]=h,c[1]=f,c[2]=p,c[3]=m)),this},s.default.prototype.fill=function(){var c;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(c=this._renderer).fill.apply(c,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var c;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(c=this._renderer).stroke.apply(c,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=s.default;a.default=y},{"../core/constants":264,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],264:[function(t,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.QUADRATIC=a.LINEAR=a._CTX_MIDDLE=a._DEFAULT_LEADMULT=a._DEFAULT_TEXT_FILL=a.WORD=a.CHAR=a.BOLDITALIC=a.BOLD=a.ITALIC=a.NORMAL=a.BLUR=a.ERODE=a.DILATE=a.POSTERIZE=a.INVERT=a.OPAQUE=a.GRAY=a.THRESHOLD=a.BURN=a.DODGE=a.SOFT_LIGHT=a.HARD_LIGHT=a.OVERLAY=a.REPLACE=a.SCREEN=a.MULTIPLY=a.EXCLUSION=a.SUBTRACT=a.DIFFERENCE=a.LIGHTEST=a.DARKEST=a.ADD=a.REMOVE=a.BLEND=a.UP_ARROW=a.TAB=a.SHIFT=a.RIGHT_ARROW=a.RETURN=a.OPTION=a.LEFT_ARROW=a.ESCAPE=a.ENTER=a.DOWN_ARROW=a.DELETE=a.CONTROL=a.BACKSPACE=a.ALT=a.AUTO=a.HSL=a.HSB=a.RGB=a.MITER=a.BEVEL=a.ROUND=a.SQUARE=a.PROJECT=a.PIE=a.CHORD=a.OPEN=a.CLOSE=a.TESS=a.QUAD_STRIP=a.QUADS=a.TRIANGLE_STRIP=a.TRIANGLE_FAN=a.TRIANGLES=a.LINE_LOOP=a.LINE_STRIP=a.LINES=a.POINTS=a.BASELINE=a.BOTTOM=a.TOP=a.CENTER=a.LEFT=a.RIGHT=a.RADIUS=a.CORNERS=a.CORNER=a.RAD_TO_DEG=a.DEG_TO_RAD=a.RADIANS=a.DEGREES=a.TWO_PI=a.TAU=a.QUARTER_PI=a.PI=a.HALF_PI=a.WAIT=a.TEXT=a.MOVE=a.HAND=a.CROSS=a.ARROW=a.WEBGL2=a.WEBGL=a.P2D=a.VERSION=void 0,a.RGBA=a.HALF_FLOAT=a.FLOAT=a.UNSIGNED_INT=a.UNSIGNED_BYTE=a.COVER=a.CONTAIN=a.FALLBACK=a.LABEL=a.AXES=a.GRID=a._DEFAULT_FILL=a._DEFAULT_STROKE=a.PORTRAIT=a.LANDSCAPE=a.SMOOTH=a.FLAT=a.MIRROR=a.CLAMP=a.REPEAT=a.NEAREST=a.IMAGE=a.IMMEDIATE=a.TEXTURE=a.FILL=a.STROKE=a.CURVE=a.BEZIER=void 0;var n=Math.PI,o=(a.VERSION="1.9.0",a.P2D="p2d",a.WEBGL="webgl",a.WEBGL2="webgl2",a.ARROW="default",a.CROSS="crosshair",a.HAND="pointer",a.MOVE="move",a.TEXT="text",a.WAIT="wait",n/2),o=(a.HALF_PI=o,n),o=(a.PI=o,n/4),o=(a.QUARTER_PI=o,2*n),o=(a.TAU=o,2*n),o=(a.TWO_PI=o,a.DEGREES="degrees",a.RADIANS="radians",n/180),o=(a.DEG_TO_RAD=o,180/n);a.RAD_TO_DEG=o,a.CORNER="corner",a.CORNERS="corners",a.RADIUS="radius",a.RIGHT="right",a.LEFT="left",a.CENTER="center",a.TOP="top",a.BOTTOM="bottom",a.BASELINE="alphabetic",a.POINTS=0,a.LINES=1,a.LINE_STRIP=3,a.LINE_LOOP=2,a.TRIANGLES=4,a.TRIANGLE_FAN=6,a.TRIANGLE_STRIP=5,a.QUADS="quads",a.QUAD_STRIP="quad_strip",a.TESS="tess",a.CLOSE="close",a.OPEN="open",a.CHORD="chord",a.PIE="pie",a.PROJECT="square",a.SQUARE="butt",a.ROUND="round",a.BEVEL="bevel",a.MITER="miter",a.RGB="rgb",a.HSB="hsb",a.HSL="hsl",a.AUTO="auto",a.ALT=18,a.BACKSPACE=8,a.CONTROL=17,a.DELETE=46,a.DOWN_ARROW=40,a.ENTER=13,a.ESCAPE=27,a.LEFT_ARROW=37,a.OPTION=18,a.RETURN=13,a.RIGHT_ARROW=39,a.SHIFT=16,a.TAB=9,a.UP_ARROW=38,a.BLEND="source-over",a.REMOVE="destination-out",a.ADD="lighter",a.DARKEST="darken",a.LIGHTEST="lighten",a.DIFFERENCE="difference",a.SUBTRACT="subtract",a.EXCLUSION="exclusion",a.MULTIPLY="multiply",a.SCREEN="screen",a.REPLACE="copy",a.OVERLAY="overlay",a.HARD_LIGHT="hard-light",a.SOFT_LIGHT="soft-light",a.DODGE="color-dodge",a.BURN="color-burn",a.THRESHOLD="threshold",a.GRAY="gray",a.OPAQUE="opaque",a.INVERT="invert",a.POSTERIZE="posterize",a.DILATE="dilate",a.ERODE="erode",a.BLUR="blur",a.NORMAL="normal",a.ITALIC="italic",a.BOLD="bold",a.BOLDITALIC="bold italic",a.CHAR="CHAR",a.WORD="WORD",a._DEFAULT_TEXT_FILL="#000000",a._DEFAULT_LEADMULT=1.25,a._CTX_MIDDLE="middle",a.LINEAR="linear",a.QUADRATIC="quadratic",a.BEZIER="bezier",a.CURVE="curve",a.STROKE="stroke",a.FILL="fill",a.TEXTURE="texture",a.IMMEDIATE="immediate",a.IMAGE="image",a.NEAREST="nearest",a.REPEAT="repeat",a.CLAMP="clamp",a.MIRROR="mirror",a.FLAT="flat",a.SMOOTH="smooth",a.LANDSCAPE="landscape",a.PORTRAIT="portrait",a._DEFAULT_STROKE="#000000",a._DEFAULT_FILL="#FFFFFF",a.GRID="grid",a.AXES="axes",a.LABEL="label",a.FALLBACK="fallback",a.CONTAIN="contain",a.COVER="cover",a.UNSIGNED_BYTE="unsigned-byte",a.UNSIGNED_INT="unsigned-int",a.FLOAT="float",a.HALF_FLOAT="half-float",a.RGBA="rgba"},{}],265:[function(t,d,a){function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function o(m){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(v){return n(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":n(v)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(u=t("./main"))&&u.__esModule?u:{default:u},u=function(m){if(m&&m.__esModule)return m;if(m===null||o(m)!=="object"&&typeof m!="function")return{default:m};var v=b();if(v&&v.has(m))return v.get(m);var _,g={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in m){var j;Object.prototype.hasOwnProperty.call(m,_)&&((j=x?Object.getOwnPropertyDescriptor(m,_):null)&&(j.get||j.set)?Object.defineProperty(g,_,j):g[_]=m[_])}return g.default=m,v&&v.set(m,g),g}(t("./constants"));function b(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,b=function(){return m},m)}var y=[u.ARROW,u.CROSS,u.HAND,u.MOVE,u.TEXT,u.WAIT],c=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print),h=!1;function f(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function p(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var m;arguments.length?(m=console).log.apply(m,arguments):h||(c(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(h=!0))},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(m,v,_){var g,x="auto",j=this._curElement.elt;y.includes(m)?x=m:typeof m=="string"&&(g="",v&&_&&typeof v=="number"&&typeof _=="number"&&(g="".concat(v," ").concat(_)),x=m.substring(0,7)==="http://"||m.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(m)?"url(".concat(m,") ").concat(g,", auto"):m),j.style.cursor=x},s.default.prototype.frameRate=function(m){return s.default._validateParameters("frameRate",arguments),typeof m!="number"||m<0?this._frameRate:(this._setProperty("_targetFrameRate",m),m===0&&this._setProperty("_frameRate",m),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(m){return this.frameRate(m)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.webglVersion=u.P2D,s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=f(),s.default.prototype.windowHeight=p(),s.default.prototype._onresize=function(m){this._setProperty("windowWidth",f()),this._setProperty("windowHeight",p());var v=this._isGlobal?window:this;typeof v.windowResized!="function"||(v=v.windowResized(m))===void 0||v||m.preventDefault()},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(m){if(s.default._validateParameters("fullscreen",arguments),m===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(m){if(m=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");m.requestFullscreen?m.requestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.msRequestFullscreen&&m.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(m){var v;return s.default._validateParameters("pixelDensity",arguments),typeof m=="number"?(m!==this._pixelDensity&&(this._pixelDensity=m),(v=this).resizeCanvas(this.width,this.height,!0)):v=this._pixelDensity,v},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(m){return m!==""})},s.default.prototype.getURLParams=function(){for(var m,v=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,_={};(m=v.exec(location.search))!=null;)m.index===v.lastIndex&&v.lastIndex++,_[m[1]]=m[2];return _},t=s.default,a.default=t},{"./constants":264,"./main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.search":197,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],266:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization");function o(c,h){h=h||console.log.bind(console),s||b(),s.some(function(f){var p;if(c.message&&c.message.match("\\W?".concat(f.name,"\\W"))!==null)return p=f.type==="function"?"".concat(f.name,"()"):f.name,h("Did you just try to use p5.js's ".concat(p," ").concat(f.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(u)),!0})}var s=null,b=null,u=(n.default._friendlyError=n.default._checkForUserDefinedFunctions=n.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),b=function(){function c(f){return Object.getOwnPropertyNames(f).filter(function(p){return p[0]!=="_"&&!(p in h)&&(h[p]=!0)}).map(function(p){var m=typeof f[p]=="function"?"function":p===p.toUpperCase()?"constant":"variable";return{name:p,type:m}})}var h={};(s=[].concat(c(n.default.prototype),c(t("../constants")))).sort(function(f,p){return p.name.length-f.name.length})},y=(n.default.prototype._helpForMisusedAtTopLevelCode=o,document.readyState!=="complete"&&(window.addEventListener("error",o,!1),window.addEventListener("load",function(){window.removeEventListener("error",o,!1)})),n.default);a.default=y},{"../constants":264,"../internationalization":273,"../main":275,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.starts-with":199,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],267:[function(t,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(n=t("../main"))&&n.__esModule?n:{default:n};t("../internationalization"),n.default._friendlyFileLoadError=function(){},t=n.default,a.default=t},{"../internationalization":273,"../main":275}],268:[function(t,d,a){function n(h){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function o(h){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(f){return n(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":n(f)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=y(t("../main"));t("../internationalization"),b(t("../constants"));function u(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,u=function(){return h},h)}function b(h){if(h&&h.__esModule)return h;if(h===null||o(h)!=="object"&&typeof h!="function")return{default:h};var f=u();if(f&&f.has(h))return f.get(h);var p,m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&((m=_?Object.getOwnPropertyDescriptor(h,p):null)&&(m.get||m.set)?Object.defineProperty(v,p,m):v[p]=h[p]);return v.default=h,f&&f.set(h,v),v}function y(h){return h&&h.__esModule?h:{default:h}}s.default._fesCodeReader=function(){};var c=s.default;a.default=c},{"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],269:[function(t,d,a){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function n(){var o=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,u=/^(eval@)?(\[native code])?$/;return{parse:function(b){return b.stacktrace!==void 0||b["opera#sourceloc"]!==void 0?this.parseOpera(b):b.stack&&b.stack.match(s)?this.parseV8OrIE(b):b.stack?this.parseFFOrSafari(b):void 0},extractLocation:function(b){return b.indexOf(":")===-1?[b]:[(b=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(b.replace(/[()]/g,"")))[1],b[2]||void 0,b[3]||void 0]},parseV8OrIE:function(b){return b.stack.split(`
`).filter(function(y){return!!y.match(s)},this).map(function(y){var c=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),h=c.match(/ (\((.+):(\d+):(\d+)\)$)/),c=(c=h?c.replace(h[0],""):c).split(/\s+/).slice(1),h=this.extractLocation(h?h[1]:c.pop());return{functionName:c.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(h[0])?void 0:h[0],lineNumber:h[1],columnNumber:h[2],source:y}},this)},parseFFOrSafari:function(b){return b.stack.split(`
`).filter(function(y){return!y.match(u)},this).map(function(y){var c,h;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(h=y.match(c=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&h[1]?h[1]:void 0,fileName:(h=this.extractLocation(y.replace(c,"")))[0],lineNumber:h[1],columnNumber:h[2],source:y}},this)},parseOpera:function(b){return!b.stacktrace||-1<b.message.indexOf(`
`)&&b.message.split(`
`).length>b.stacktrace.split(`
`).length?this.parseOpera9(b):b.stack?this.parseOpera11(b):this.parseOpera10(b)},parseOpera9:function(b){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,c=b.message.split(`
`),h=[],f=2,p=c.length;f<p;f+=2){var m=y.exec(c[f]);m&&h.push({fileName:m[2],lineNumber:m[1],source:c[f]})}return h},parseOpera10:function(b){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=b.stacktrace.split(`
`),h=[],f=0,p=c.length;f<p;f+=2){var m=y.exec(c[f]);m&&h.push({functionName:m[3]||void 0,fileName:m[2],lineNumber:m[1],source:c[f]})}return h},parseOpera11:function(b){return b.stack.split(`
`).filter(function(y){return!!y.match(o)&&!y.match(/^Error created at/)},this).map(function(y){var c,f=y.split("@"),h=this.extractLocation(f.pop()),f=f.shift()||"";return{functionName:f.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(c=f.match(/\(([^)]*)\)/)?f.replace(/^[^(]+\(([^)]*)\)$/,"$1"):c)===void 0||c==="[arguments not available]"?void 0:c.split(","),fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:y}},this)}}}t.default._getErrorStackParser=function(){return new n},t=t.default,a.default=t},{"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],270:[function(t,d,a){function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=(o=t("../main"))&&o.__esModule?o:{default:o};(function(b){if(!(b&&b.__esModule)&&!(b===null||u(b)!=="object"&&typeof b!="function")){var y=s();if(y&&y.has(b))return y.get(b);var c,h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in b){var p;Object.prototype.hasOwnProperty.call(b,c)&&((p=f?Object.getOwnPropertyDescriptor(b,c):null)&&(p.get||p.set)?Object.defineProperty(h,c,p):h[c]=b[c])}h.default=b,y&&y.set(b,h)}})(t("../constants")),t("../internationalization");function s(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,s=function(){return b},b)}function u(b){return(u=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(y){return n(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":n(y)})(b)}o.default._validateParameters=o.default._clearValidateParamsCache=function(){},t=o.default,a.default=t},{"../../../docs/parameterData.json":void 0,"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.map":169,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],271:[function(t,d,a){function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function o(b){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(y){return n(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":n(y)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=function(b){if(b&&b.__esModule)return b;if(b===null||o(b)!=="object"&&typeof b!="function")return{default:b};var y=u();if(y&&y.has(b))return y.get(b);var c,h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in b){var p;Object.prototype.hasOwnProperty.call(b,c)&&((p=f?Object.getOwnPropertyDescriptor(b,c):null)&&(p.get||p.set)?Object.defineProperty(h,c,p):h[c]=b[c])}return h.default=b,y&&y.set(b,h),h}(t("./constants"));function u(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,u=function(){return b},b)}a.default={modeAdjust:function(b,y,c,h,f){return f===s.CORNER?{x:b,y,w:c,h}:f===s.CORNERS?{x:b,y,w:c-b,h:h-y}:f===s.RADIUS?{x:b-c,y:y-h,w:2*c,h:2*h}:f===s.CENTER?{x:b-.5*c,y:y-.5*h,w:c,h}:void 0}}},{"./constants":264,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],272:[function(t,d,a){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var n=(o=t("../core/main"))&&o.__esModule?o:{default:o};t("./internationalization");var o=Promise.resolve();Promise.all([new Promise(function(s,u){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),o]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!n.default.instance&&new n.default})},{"../core/main":275,"./internationalization":273,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/web.dom-collections.iterator":238}],273:[function(t,d,a){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.setTranslatorLanguage=a.currentTranslatorLanguage=a.availableTranslatorLanguages=a.initialize=a.translator=void 0;var n,o,s=b(t("i18next")),u=b(t("i18next-browser-languagedetector"));function b(h){return h&&h.__esModule?h:{default:h}}function y(h,f){for(var p=0;p<f.length;p++){var m=f[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}var c=function(){function h(m,v){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.init(m,v)}var f,p;return f=h,(p=[{key:"fetchWithTimeout",value:function(m,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(m,v),new Promise(function(g,x){return setTimeout(function(){return x(new Error("timeout"))},_)})])}},{key:"init",value:function(m){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=m,this.options=v}},{key:"read",value:function(m,v,_){var g=this.options.loadPath;m===this.options.fallback?_(null,n[m][v]):o.includes(m)?(g=this.services.interpolator.interpolate(g,{lng:m,ns:v}),this.loadUrl(g,_)):_("Not found",!1)}},{key:"loadUrl",value:function(m,v){this.fetchWithTimeout(m).then(function(_){if(_.ok)return _.json();throw new Error("failed loading ".concat(m))},function(){throw new Error("failed loading ".concat(m))}).then(function(_){return v(null,_)}).catch(v)}}])&&y(f.prototype,p),h}();c.type="backend",a.translator=function(h,f){console.debug("p5.js translator called before translations were loaded"),s.default.t(h,f)},a.initialize=function(){return s.default.use(u.default).use(c).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:n}).then(function(h){a.translator=h},function(h){return console.debug("Translations failed to load (".concat(h,")"))})},a.availableTranslatorLanguages=function(){return s.default.languages},a.currentTranslatorLanguage=function(h){return s.default.language},a.setTranslatorLanguage=function(h){return s.default.changeLanguage(h||void 0,function(f){return console.debug("Translations failed to load (".concat(f,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238,i18next:3,"i18next-browser-languagedetector":3}],274:[function(t,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,a.default=t},{"./main":275}],275:[function(t,d,a){function n(h){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function o(h){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(f){return n(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":n(f)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("./shim");var s=function(h){if(h&&h.__esModule)return h;if(h===null||o(h)!=="object"&&typeof h!="function")return{default:h};var f=u();if(f&&f.has(h))return f.get(h);var p,m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in h){var _;Object.prototype.hasOwnProperty.call(h,p)&&((_=v?Object.getOwnPropertyDescriptor(h,p):null)&&(_.get||_.set)?Object.defineProperty(m,p,_):m[p]=h[p])}return m.default=h,f&&f.set(h,m),m}(t("./constants"));function u(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,u=function(){return h},h)}function b(h,f){for(var p=0;p<f.length;p++){var m=f[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}var y,c=function(){function h(m,g){var _=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=g,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var g=Object.getOwnPropertyNames(h.prototype._registeredMethods),x=!0,j=!1,E=void 0;try{for(var M,T=g[Symbol.iterator]();!(x=(M=T.next()).done);x=!0){var O=M.value;this._registeredMethods[O]=h.prototype._registeredMethods[O].slice()}}catch(G){j=!0,E=G}finally{try{x||T.return==null||T.return()}finally{if(j)throw E}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),h.prototype.callRegisteredHooksFor=function(G){var W=this||h.prototype,$=this._isGlobal?window:this;if(W._registeredMethods.hasOwnProperty(G)){var W=W._registeredMethods[G],K=!0,G=!1,N=void 0;try{for(var A,I=W[Symbol.iterator]();!(K=(A=I.next()).done);K=!0){var z=A.value;typeof z=="function"&&z.call($)}}catch(ee){G=!0,N=ee}finally{try{K||I.return==null||I.return()}finally{if(G)throw N}}}},this._start=function(){_._userNode&&typeof _._userNode=="string"&&(_._userNode=document.getElementById(_._userNode));var G=_._isGlobal?window:_;if(G.preload){_.callRegisteredHooksFor("beforePreload");var W,$=document.getElementById(_._loadingScreenId),K=($||(($=document.createElement("div")).innerHTML="Loading...",$.style.position="absolute",$.id=_._loadingScreenId,(_._userNode||document.body).appendChild($)),_._preloadMethods);for(W in K){K[W]=K[W]||h;var N=K[W];N!==h.prototype&&N!==h||(_._isGlobal&&(window[W]=_._wrapPreload(_,W)),N=_),_._registeredPreloadMethods[W]=N[W],N[W]=_._wrapPreload(N,W)}G.preload(),_._runIfPreloadsAreDone()}else _._setup(),_._recording||_._draw()},this._runIfPreloadsAreDone=function(){var G,W=this._isGlobal?window:this;W._preloadCount===0&&((G=document.getElementById(W._loadingScreenId))&&G.parentNode.removeChild(G),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),W._setup(),this._recording||W._draw()))},this._decrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||typeof G.preload!="function"||(G._setProperty("_preloadCount",G._preloadCount-1),G._runIfPreloadsAreDone())},this._wrapPreload=function(G,W){var $=this;return function(){$._incrementPreload();for(var K=arguments.length,N=new Array(K),A=0;A<K;A++)N[A]=arguments[A];return $._registeredPreloadMethods[W].apply(G,N)}},this._incrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||G._setProperty("_preloadCount",G._preloadCount+1)},this._setup=function(){_.callRegisteredHooksFor("beforeSetup"),_.createCanvas(_._defaultCanvasSize.width,_._defaultCanvasSize.height,"p2d");var G=_._isGlobal?window:_;if(typeof G.preload=="function")for(var W in _._preloadMethods)G[W]=_._preloadMethods[W][W],G[W]&&_&&(G[W]=G[W].bind(_));_._millisStart=window.performance.now(),G._preloadDone=!0,typeof G.setup=="function"&&G.setup();var $=document.getElementsByTagName("canvas"),K=!0,N=!1,A=void 0;try{for(var I,z=$[Symbol.iterator]();!(K=(I=z.next()).done);K=!0){var Y=I.value;Y.dataset.hidden==="true"&&(Y.style.visibility="",delete Y.dataset.hidden)}}catch(J){N=!0,A=J}finally{try{K||z.return==null||z.return()}finally{if(N)throw A}}_._lastTargetFrameTime=window.performance.now(),_._lastRealFrameTime=window.performance.now(),_._setupDone=!0,(_._accessibleOutputs.grid||_._accessibleOutputs.text)&&_._updateAccsOutput(),_.callRegisteredHooksFor("afterSetup")},this._draw=function(){var G=window.performance.now(),W=G-_._lastTargetFrameTime,$=1e3/_._targetFrameRate;(!_._loop||$-5<=W)&&(_.deltaTime=G-_._lastRealFrameTime,_._setProperty("deltaTime",_.deltaTime),_._frameRate=1e3/_.deltaTime,_.redraw(),_._lastTargetFrameTime=Math.max(_._lastTargetFrameTime+$,G),_._lastRealFrameTime=G,_._updateMouseCoords!==void 0&&(_._updateMouseCoords(),_._setProperty("movedX",0),_._setProperty("movedY",0))),_._loop&&(_._requestAnimId=window.requestAnimationFrame(_._draw))},this._setProperty=function(G,W){_[G]=W,_._isGlobal&&(window[G]=W)},this.remove=function(){_._startListener&&window.removeEventListener("load",_._startListener,!1);var G=document.getElementById(_._loadingScreenId);if(G&&(G.parentNode.removeChild(G),_._incrementPreload()),_._curElement){for(var W in _._loop=!1,_._requestAnimId&&window.cancelAnimationFrame(_._requestAnimId),_._events)window.removeEventListener(W,_._events[W]);var $=!0,G=!1,K=void 0;try{for(var N,A=_._elements[Symbol.iterator]();!($=(N=A.next()).done);$=!0){var I,z=N.value;for(I in z.elt&&z.elt.parentNode&&z.elt.parentNode.removeChild(z.elt),z._events)z.elt.removeEventListener(I,z._events[I])}}catch(pe){G=!0,K=pe}finally{try{$||A.return==null||A.return()}finally{if(G)throw K}}var Y=_;_._registeredMethods.remove.forEach(function(pe){pe!==void 0&&pe.call(Y)})}if(_._isGlobal){for(var J in h.prototype)try{delete window[J]}catch{window[J]=void 0}for(var ee in _)if(_.hasOwnProperty(ee))try{delete window[ee]}catch{window[ee]=void 0}h.instance=null}},this._registeredMethods.init.forEach(function(G){G!==void 0&&G.call(this)},this),this._setupPromisePreloads();var R,k,D=this._createFriendlyGlobalFunctionBinder();if(m)m(this),h._checkForUserDefinedFunctions(this);else{for(var L in this._isGlobal=!0,h.instance=this,h.prototype)typeof h.prototype[L]=="function"?(R=L.substring(2),this._events.hasOwnProperty(R)||(Math.hasOwnProperty(L)&&Math[L]===h.prototype[L]?D(L,h.prototype[L]):D(L,h.prototype[L].bind(this)))):D(L,h.prototype[L]);for(var B in this)this.hasOwnProperty(B)&&D(B,this[B])}for(k in this._events){var F=this["_on".concat(k)];F&&(F=F.bind(this),window.addEventListener(k,F,{passive:!1}),this._events[k]=F)}function V(){_._setProperty("focused",!0)}function q(){_._setProperty("focused",!1)}window.addEventListener("focus",V),window.addEventListener("blur",q),this.registerMethod("remove",function(){window.removeEventListener("focus",V),window.removeEventListener("blur",q)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var f,p;return f=h,(p=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(m,v){h.prototype._preloadMethods.hasOwnProperty(m)||(h.prototype._preloadMethods[m]=v)}},{key:"registerMethod",value:function(m,v){var _=this||h.prototype;_._registeredMethods.hasOwnProperty(m)||(_._registeredMethods[m]=[]),_._registeredMethods[m].push(v)}},{key:"unregisterMethod",value:function(m,v){var _=this||h.prototype;if(_._registeredMethods.hasOwnProperty(m)){for(var g=_._registeredMethods[m],x=[],j=0;j<g.length;j++)g[j]===v&&x.push(j);for(var E=x.length-1;0<=E;E--)g.splice(x[E],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},v=m.globalObject||window;return m.log||console.log.bind(console),function(_,g){h.disableFriendlyErrors,v[_]=g}}}])&&b(f.prototype,p),h}();for(y in c.instance=null,c.disableFriendlyErrors=!1,s)c.prototype[y]=s[y];c.VERSION=s.VERSION,c.prototype._preloadMethods={loadJSON:c.prototype,loadImage:c.prototype,loadStrings:c.prototype,loadXML:c.prototype,loadBytes:c.prototype,loadTable:c.prototype,loadFont:c.prototype,loadModel:c.prototype,loadShader:c.prototype},c.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},c.prototype._registeredPreloadMethods={},a.default=c},{"./constants":264,"./shim":286,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],276:[function(t,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("./main"))&&t.__esModule?t:{default:t};function o(s,u){for(var b=0;b<u.length;b++){var y=u[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(s,y.key,y)}}n.default.Element=function(){function s(c,h){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.elt=c,this._pInst=this._pixelsState=h,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var u,b,y;return u=s,y=[{key:"_adjustListener",value:function(c,h,f){return h===!1?n.default.Element._detachListener(c,f):n.default.Element._attachListener(c,h,f),this}},{key:"_attachListener",value:function(c,h,f){f._events[c]&&n.default.Element._detachListener(c,f),h=h.bind(f),f.elt.addEventListener(c,h,!1),f._events[c]=h}},{key:"_detachListener",value:function(c,h){var f=h._events[c];h.elt.removeEventListener(c,f,!1),h._events[c]=null}}],(b=[{key:"parent",value:function(c){return c===void 0?this.elt.parentNode:(typeof c=="string"?(c[0]==="#"&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof n.default.Element&&(c=c.elt),c.appendChild(this.elt),this)}},{key:"id",value:function(c){return c===void 0?this.elt.id:(this.elt.id=c,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(c){return c===void 0?this.elt.className:(this.elt.className=c,this)}},{key:"mousePressed",value:function(c){return n.default.Element._adjustListener("mousedown",function(h){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(h),c.call(this,h)},this),this}},{key:"doubleClicked",value:function(c){return n.default.Element._adjustListener("dblclick",c,this),this}},{key:"mouseWheel",value:function(c){return n.default.Element._adjustListener("wheel",c,this),this}},{key:"mouseReleased",value:function(c){return n.default.Element._adjustListener("mouseup",c,this),this}},{key:"mouseClicked",value:function(c){return n.default.Element._adjustListener("click",c,this),this}},{key:"mouseMoved",value:function(c){return n.default.Element._adjustListener("mousemove",c,this),this}},{key:"mouseOver",value:function(c){return n.default.Element._adjustListener("mouseover",c,this),this}},{key:"mouseOut",value:function(c){return n.default.Element._adjustListener("mouseout",c,this),this}},{key:"touchStarted",value:function(c){return n.default.Element._adjustListener("touchstart",c,this),this}},{key:"touchMoved",value:function(c){return n.default.Element._adjustListener("touchmove",c,this),this}},{key:"touchEnded",value:function(c){return n.default.Element._adjustListener("touchend",c,this),this}},{key:"dragOver",value:function(c){return n.default.Element._adjustListener("dragover",c,this),this}},{key:"dragLeave",value:function(c){return n.default.Element._adjustListener("dragleave",c,this),this}},{key:"_setProperty",value:function(c,h){this[c]=h}}])&&o(u.prototype,b),y&&o(u,y),s}(),t=n.default.Element,a.default=t},{"./main":275}],277:[function(t,d,a){function n(_){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(g){return n(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":n(g)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(v=t("./main"))&&v.__esModule?v:{default:v},u=function(_){if(_&&_.__esModule)return _;if(_===null||o(_)!=="object"&&typeof _!="function")return{default:_};var g=b();if(g&&g.has(_))return g.get(_);var x,j={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in _){var M;Object.prototype.hasOwnProperty.call(_,x)&&((M=E?Object.getOwnPropertyDescriptor(_,x):null)&&(M.get||M.set)?Object.defineProperty(j,x,M):j[x]=_[x])}return j.default=_,g&&g.set(_,j),j}(t("./constants"));function b(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,b=function(){return _},_)}function y(_,g){for(var x=0;x<g.length;x++){var j=g[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function c(_,g){return(c=Object.setPrototypeOf||function(x,j){return x.__proto__=j,x})(_,g)}function h(_){return function(){var g,x=m(_);return f(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=m(this).constructor,Reflect.construct(x,arguments,g)):x.apply(this,arguments))}}function f(_,g){return!g||o(g)!=="object"&&typeof g!="function"?p(_):g}function p(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function m(_){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}s.default.Graphics=function(_){var g=j;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),_&&c(g,_);var x=h(j);function j(E,M,B,O,R){var k;if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");L=R||document.createElement("canvas"),(k=x.call(this,L,O)).canvas=L;var D,L=B||u.P2D,B=O._userNode||document.body;for(D in R||B.appendChild(k.canvas),s.default.prototype)k[D]||(typeof s.default.prototype[D]=="function"?k[D]=s.default.prototype[D].bind(p(k)):k[D]=s.default.prototype[D]);return s.default.prototype._initializeInstanceVariables.apply(p(k)),k.width=E,k.height=M,k._pixelDensity=O._pixelDensity,L===u.WEBGL?k._renderer=new s.default.RendererGL(k.canvas,p(k),!1):k._renderer=new s.default.Renderer2D(k.canvas,p(k),!1),O._elements.push(p(k)),Object.defineProperty(p(k),"deltaTime",{get:function(){return this._pInst.deltaTime}}),k._renderer.resize(E,M),k._renderer._applyDefaults(),f(k,p(k))}return g=j,(_=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var E,M=this._pInst._elements.indexOf(this);for(E in M!==-1&&this._pInst._elements.splice(M,1),this._events)this.elt.removeEventListener(E,this._events[E])}},{key:"createFramebuffer",value:function(E){return new s.default.Framebuffer(this,E)}}])&&y(g.prototype,_),j}(s.default.Element);var v=s.default.Graphics;a.default=v},{"./constants":264,"./main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],278:[function(t,d,a){function n(_){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=(m=t("./main"))&&m.__esModule?m:{default:m},s=function(_){if(_&&_.__esModule)return _;if(_===null||b(_)!=="object"&&typeof _!="function")return{default:_};var g=u();if(g&&g.has(_))return g.get(_);var x,j={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in _){var M;Object.prototype.hasOwnProperty.call(_,x)&&((M=E?Object.getOwnPropertyDescriptor(_,x):null)&&(M.get||M.set)?Object.defineProperty(j,x,M):j[x]=_[x])}return j.default=_,g&&g.set(_,j),j}(t("../core/constants"));function u(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,u=function(){return _},_)}function b(_){return(b=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(g){return n(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":n(g)})(_)}function y(_,g){for(var x=0;x<g.length;x++){var j=g[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}function c(_,g){return(c=Object.setPrototypeOf||function(x,j){return x.__proto__=j,x})(_,g)}function h(_){return function(){var g,x,j=p(_);return g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=p(this).constructor,Reflect.construct(j,arguments,g)):j.apply(this,arguments),j=this,!(x=g)||b(x)!=="object"&&typeof x!="function"?f(j):x}}function f(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function p(_){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(_)}var m=function(_){var g=j;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),_&&c(g,_);var x=h(j);function j(E,M,T){var O;if(this instanceof j)return(O=x.call(this,E,M)).canvas=E,O._pixelsState=M,T?(O._isMainCanvas=!0,O._pInst._setProperty("_curElement",f(O)),O._pInst._setProperty("canvas",O.canvas),O._pInst._setProperty("width",O.width),O._pInst._setProperty("height",O.height)):(O.canvas.style.display="none",O._styles=[]),O._clipping=!1,O._clipInvert=!1,O._textSize=12,O._textLeading=15,O._textFont="sans-serif",O._textStyle=s.NORMAL,O._textAscent=null,O._textDescent=null,O._textAlign=s.LEFT,O._textBaseline=s.BASELINE,O._textWrap=s.WORD,O._rectMode=s.CORNER,O._ellipseMode=s.CENTER,O._curveTightness=0,O._imageMode=s.CORNER,O._tint=null,O._doStroke=!0,O._doFill=!0,O._strokeSet=!1,O._fillSet=!1,O._leadingSet=!1,O._pushPopDepth=0,O;throw new TypeError("Cannot call a class as a function")}return g=j,(_=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(E){this._pushPopDepth--,E.properties&&Object.assign(this,E.properties)}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=E.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(E,M){this.width=E,this.height=M,this.elt.width=E*this._pInst._pixelDensity,this.elt.height=M*this._pInst._pixelDensity,this.elt.style.width="".concat(E,"px"),this.elt.style.height="".concat(M,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(E,M,T,O){var R=this._pixelsState,k=R._pixelDensity,D=this.canvas;if(E===void 0&&M===void 0)E=M=0,T=R.width,O=R.height;else if(E*=k,M*=k,T===void 0&&O===void 0)return E<0||M<0||E>=D.width||M>=D.height?[0,0,0,0]:this._getPixel(E,M);return R=new o.default.Image(T*k,O*k),R.pixelDensity(k),R.canvas.getContext("2d").drawImage(D,E,M,T*k,O*k,0,0,T*k,O*k),R}},{key:"textLeading",value:function(E){return typeof E=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",E),this._pInst):this._textLeading}},{key:"textStyle",value:function(E){return E?(E!==s.NORMAL&&E!==s.ITALIC&&E!==s.BOLD&&E!==s.BOLDITALIC||this._setProperty("_textStyle",E),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(E,M){return E!==void 0?(this._setProperty("_textAlign",E),M!==void 0&&this._setProperty("_textBaseline",M),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(E){return this._setProperty("_textWrap",E),this._textWrap}},{key:"text",value:function(E,M,T,O,R){var k,D,L,B,F=this._pInst,V=this._textWrap,q=Number.MAX_VALUE,G=T;if((this._doFill||this._doStroke)&&E!==void 0){if(k=(E=(E=typeof E!="string"?E.toString():E).replace(/(\t)/g,"  ")).split(`
`),O!==void 0){switch(this._rectMode===s.CENTER&&(M-=O/2),this._textAlign){case s.CENTER:M+=O/2;break;case s.RIGHT:M+=O}if(R!==void 0){this._rectMode===s.CENTER&&(T-=R/2,G-=R/2);var E=T,W=F.textAscent();switch(this._textBaseline){case s.BOTTOM:B=T+R,T=Math.max(B,T),G+=W;break;case s.CENTER:B=T+R/2,T=Math.max(B,T),G+=W/2}q=T+R-W,this._textBaseline===s.CENTER&&(q=E+R-W/2)}else this._textBaseline!==s.BOTTOM&&this._textBaseline!==s.CENTER||(G=T-(E=F.textSize()*this._textLeading)/2,q=T+E/2);if(V===s.WORD){for(var $=[],K=0;K<k.length;K++){for(var N="",A=k[K].split(" "),I=0;I<A.length;I++)D="".concat(N+A[I])+" ",N=O<(L=this.textWidth(D))&&0<N.length?($.push(N),"".concat(A[I])+" "):D;$.push(N)}var z=0;this._textBaseline===s.CENTER?z=($.length-1)*F.textLeading()/2:this._textBaseline===s.BOTTOM&&(z=($.length-1)*F.textLeading());for(var Y=0;Y<k.length;Y++){N="",A=k[Y].split(" ");for(var J=0;J<A.length;J++)D="".concat(N+A[J])+" ",O<(L=this.textWidth(D))&&0<N.length?(this._renderText(F,N.trim(),M,T-z,q,G),N="".concat(A[J])+" ",T+=F.textLeading()):N=D;this._renderText(F,N.trim(),M,T-z,q,G),T+=F.textLeading()}}else{for(var ee=[],ce=0;ce<k.length;ce++)for(var pe=k[ce].split(N=""),ie=0;ie<pe.length;ie++)D="".concat(N+pe[ie]),(L=this.textWidth(D))<=O?N+=pe[ie]:O<L&&0<N.length&&(ee.push(N),N="".concat(pe[ie]));ee.push(N);var de=0;this._textBaseline===s.CENTER?de=(ee.length-1)*F.textLeading()/2:this._textBaseline===s.BOTTOM&&(de=(ee.length-1)*F.textLeading());for(var ue=0;ue<k.length;ue++){pe=k[ue].split(N="");for(var re=0;re<pe.length;re++)D="".concat(N+pe[re]),(L=this.textWidth(D))<=O?N+=pe[re]:O<L&&0<N.length&&(this._renderText(F,N.trim(),M,T-de,q,G),T+=F.textLeading(),N="".concat(pe[re]))}this._renderText(F,N.trim(),M,T-de,q,G),T+=F.textLeading()}}else{var le=0;this._textBaseline===s.CENTER?le=(k.length-1)*F.textLeading()/2:this._textBaseline===s.BOTTOM&&(le=(k.length-1)*F.textLeading());for(var me=0;me<k.length;me++)this._renderText(F,k[me],M,T-le,q,G-le),T+=F.textLeading()}return F}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return b(E)==="object"&&E.font&&E.font.supported}},{key:"_updateTextMetrics",value:function(){var E,M,T,O,R,k;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((E=document.createElement("span")).style.fontFamily=this._textFont,E.style.fontSize="".concat(this._textSize,"px"),E.innerHTML="ABCjgq|",(k=document.createElement("div")).style.display="inline-block",k.style.width="1px",k.style.height="0px",O=((M=document.createElement("div")).appendChild(E),M.appendChild(k),M.style.height="0px",M.style.overflow="hidden",document.body.appendChild(M),k.style.verticalAlign="baseline",v(k)),R=v(E),T=O[1]-R[1],O=(k.style.verticalAlign="bottom",v(k)),R=v(E),k=O[1]-R[1]-T,document.body.removeChild(M),this._setProperty("_textAscent",T),this._setProperty("_textDescent",k)),this}}])&&y(g.prototype,_),j}(o.default.Element);function v(_){var g=0,x=0;if(_.offsetParent)for(;g+=_.offsetLeft,x+=_.offsetTop,_=_.offsetParent;);else g+=_.offsetLeft,x+=_.offsetTop;return[g,x]}m.prototype.textSize=function(_){return typeof _=="number"?(this._setProperty("_textSize",_),this._leadingSet||this._setProperty("_textLeading",_*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},o.default.Renderer=m,t=o.default.Renderer,a.default=t},{"../core/constants":264,"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],279:[function(_,d,a){function n(g){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(g)}function o(g){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(x){return n(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":n(x)})(g)}_("core-js/modules/es.symbol"),_("core-js/modules/es.symbol.description"),_("core-js/modules/es.symbol.iterator"),_("core-js/modules/es.array.concat"),_("core-js/modules/es.array.fill"),_("core-js/modules/es.array.for-each"),_("core-js/modules/es.array.iterator"),_("core-js/modules/es.array.join"),_("core-js/modules/es.array.slice"),_("core-js/modules/es.function.name"),_("core-js/modules/es.number.to-fixed"),_("core-js/modules/es.object.get-own-property-descriptor"),_("core-js/modules/es.object.get-prototype-of"),_("core-js/modules/es.object.to-string"),_("core-js/modules/es.reflect.construct"),_("core-js/modules/es.reflect.get"),_("core-js/modules/es.regexp.to-string"),_("core-js/modules/es.string.iterator"),_("core-js/modules/es.weak-map"),_("core-js/modules/web.dom-collections.iterator"),_("core-js/modules/es.array.concat"),_("core-js/modules/es.array.fill"),_("core-js/modules/es.array.for-each"),_("core-js/modules/es.array.join"),_("core-js/modules/es.array.slice"),_("core-js/modules/es.function.name"),_("core-js/modules/es.number.to-fixed"),_("core-js/modules/es.object.get-prototype-of"),_("core-js/modules/es.object.to-string"),_("core-js/modules/es.regexp.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(v=_("./main"))&&v.__esModule?v:{default:v},u=function(g){if(g&&g.__esModule)return g;if(g===null||o(g)!=="object"&&typeof g!="function")return{default:g};var x=b();if(x&&x.has(g))return x.get(g);var j,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in g){var T;Object.prototype.hasOwnProperty.call(g,j)&&((T=M?Object.getOwnPropertyDescriptor(g,j):null)&&(T.get||T.set)?Object.defineProperty(E,j,T):E[j]=g[j])}return E.default=g,x&&x.set(g,E),E}(_("./constants"));function b(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,b=function(){return g},g)}function y(g,x){for(var j=0;j<x.length;j++){var E=x[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}function c(g,x,j){return(c=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(O,M,T){var O=function(R,k){for(;!Object.prototype.hasOwnProperty.call(R,k)&&(R=p(R))!==null;);return R}(O,M);if(O)return(O=Object.getOwnPropertyDescriptor(O,M)).get?O.get.call(T):O.value})(g,x,j||g)}function h(g,x){return(h=Object.setPrototypeOf||function(j,E){return j.__proto__=E,j})(g,x)}function f(g){return function(){var x,j=p(g),j=(x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=p(this).constructor,Reflect.construct(j,arguments,x)):j.apply(this,arguments),this);if(!x||o(x)!=="object"&&typeof x!="function"){if(j!==void 0)return j;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return x}}function p(g){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(g)}_("./p5.Renderer");var m="rgba(0,0,0,0)",v=function(g){var x=E;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),g&&h(x,g);var j=f(E);function E(M,T,O){if(this instanceof E)return(M=j.call(this,M,T,O)).drawingContext=M.canvas.getContext("2d"),M._pInst._setProperty("drawingContext",M.drawingContext),M;throw new TypeError("Cannot call a class as a function")}return x=E,(g=[{key:"getFilterGraphicsLayer",value:function(){var M;return this.filterGraphicsLayer||(M=(this._pInst instanceof s.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new s.default.Graphics(this.width,this.height,u.WEBGL,M)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=u.BLEND,this._setFill(u._DEFAULT_FILL),this._setStroke(u._DEFAULT_STROKE),this.drawingContext.lineCap=u.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(M,T){c(p(E.prototype),"resize",this).call(this,M,T),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var M,T;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(M=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(M,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(M=this._getFill(),T=(T=this._pInst).color.apply(T,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(T.levels),T=T.toString(),this._setFill(T),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(M),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setFill(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",M.levels)}},{key:"stroke",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setStroke(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",M.levels)}},{key:"erase",value:function(M,T){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,M=this._pInst.color(255,M).toString(),this.drawingContext.fillStyle=M,this._cachedStrokeStyle=this.drawingContext.strokeStyle,M=this._pInst.color(255,T).toString(),this.drawingContext.strokeStyle=M,T=this._cachedBlendMode,this.blendMode(u.REMOVE),this._cachedBlendMode=T,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},M=(c(p(E.prototype),"beginClip",this).call(this,M),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),M=(this.drawingContext.fillStyle=M,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),M=(this.drawingContext.strokeStyle=M,this._cachedBlendMode);this.blendMode(u.BLEND),this._cachedBlendMode=M,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),c(p(E.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(M,T,O,R,k,D,L,B,F){M.gifProperties&&M._animateGif(this._pInst);try{s.default.MediaElement&&M instanceof s.default.MediaElement&&M._ensureCanvas();var V=(V=this._tint&&M.canvas?this._getTintedImageCanvas(M):V)||M.canvas||M.elt,q=1;M.width&&0<M.width&&(q=V.width/M.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(V,q*T,q*O,q*R,q*k,D,L,B,F),this._isErasing&&this._pInst.erase()}catch(G){if(G.name!=="NS_ERROR_NOT_AVAILABLE")throw G}}},{key:"_getTintedImageCanvas",value:function(M){if(!M.canvas)return M;M.tintCanvas||(M.tintCanvas=document.createElement("canvas")),M.tintCanvas.width!==M.canvas.width&&(M.tintCanvas.width=M.canvas.width),M.tintCanvas.height!==M.canvas.height&&(M.tintCanvas.height=M.canvas.height);var T=M.tintCanvas.getContext("2d");return T.save(),T.clearRect(0,0,M.canvas.width,M.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(T.drawImage(M.canvas,0,0),T.globalCompositeOperation="luminosity",T.drawImage(M.canvas,0,0),T.globalCompositeOperation="color",T.drawImage(M.canvas,0,0),T.globalCompositeOperation="multiply",T.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),T.fillRect(0,0,M.canvas.width,M.canvas.height),T.globalCompositeOperation="destination-in"),T.globalAlpha=this._tint[3]/255,T.drawImage(M.canvas,0,0),T.restore(),M.tintCanvas}},{key:"blendMode",value:function(M){if(M===u.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(M!==u.BLEND&&M!==u.REMOVE&&M!==u.DARKEST&&M!==u.LIGHTEST&&M!==u.DIFFERENCE&&M!==u.MULTIPLY&&M!==u.EXCLUSION&&M!==u.SCREEN&&M!==u.REPLACE&&M!==u.OVERLAY&&M!==u.HARD_LIGHT&&M!==u.SOFT_LIGHT&&M!==u.DODGE&&M!==u.BURN&&M!==u.ADD)throw new Error("Mode ".concat(M," not recognized."));this._cachedBlendMode=M,this.drawingContext.globalCompositeOperation=M}}},{key:"blend",value:function(){for(var M=this.drawingContext.globalCompositeOperation,T=arguments.length,O=new Array(T),R=0;R<T;R++)O[R]=arguments[R];var k=O[O.length-1],D=Array.prototype.slice.call(O,0,O.length-1);this.drawingContext.globalCompositeOperation=k,s.default.prototype.copy.apply(this,D),this.drawingContext.globalCompositeOperation=M}},{key:"_getPixel",value:function(M,T){return M=this.drawingContext.getImageData(M,T,1,1).data,[M[0],M[1],M[2],M[3]]}},{key:"loadPixels",value:function(){var M=this._pixelsState,T=M._pixelDensity,O=this.width*T,T=this.height*T,O=this.drawingContext.getImageData(0,0,O,T);M._setProperty("imageData",O),M._setProperty("pixels",O.data)}},{key:"set",value:function(M,T,O){M=Math.floor(M),T=Math.floor(T);var R=this._pixelsState;if(O instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(R._pixelDensity,R._pixelDensity),this.drawingContext.clearRect(M,T,O.width,O.height),this.drawingContext.drawImage(O.canvas,M,T),this.drawingContext.restore();else{var k=0,D=0,L=0,B=0,F=4*(T*R._pixelDensity*(this.width*R._pixelDensity)+M*R._pixelDensity);if(R.imageData||R.loadPixels.call(R),typeof O=="number")F<R.pixels.length&&(L=D=k=O,B=255);else if(O instanceof Array){if(O.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");F<R.pixels.length&&(k=O[0],D=O[1],L=O[2],B=O[3])}else O instanceof s.default.Color&&F<R.pixels.length&&(k=O.levels[0],D=O.levels[1],L=O.levels[2],B=O.levels[3]);for(var V=0;V<R._pixelDensity;V++)for(var q=0;q<R._pixelDensity;q++)F=4*((T*R._pixelDensity+q)*this.width*R._pixelDensity+(M*R._pixelDensity+V)),R.pixels[F]=k,R.pixels[F+1]=D,R.pixels[F+2]=L,R.pixels[F+3]=B}}},{key:"updatePixels",value:function(M,T,O,R){var k=this._pixelsState,D=k._pixelDensity;M===void 0&&T===void 0&&O===void 0&&R===void 0&&(T=M=0,O=this.width,R=this.height),M*=D,T*=D,O*=D,R*=D,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=k.imageData),this.drawingContext.putImageData(k.imageData,M,T,0,0,O,R)}},{key:"_acuteArcToBezier",value:function(M,T){var D=T/2,O=Math.cos(D),B=Math.sin(D),R=1/Math.tan(D),D=M+D,k=Math.cos(D),D=Math.sin(D),L=(4-O)/3,B=B+(O-L)*R;return{ax:Math.cos(M).toFixed(7),ay:Math.sin(M).toFixed(7),bx:(L*k+B*D).toFixed(7),by:(L*D-B*k).toFixed(7),cx:(L*k-B*D).toFixed(7),cy:(L*D+B*k).toFixed(7),dx:Math.cos(M+T).toFixed(7),dy:Math.sin(M+T).toFixed(7)}}},{key:"arc",value:function(M,T,O,R,k,D,L){var B,F=this.drawingContext,V=O/2,q=R/2,G=[];for(M+=V,T+=q;1e-5<=D-k;)B=Math.min(D-k,u.HALF_PI),G.push(this._acuteArcToBezier(k,B)),k+=B;return this._doFill&&(this._clipping||F.beginPath(),G.forEach(function(W,$){$===0&&F.moveTo(M+W.ax*V,T+W.ay*q),F.bezierCurveTo(M+W.bx*V,T+W.by*q,M+W.cx*V,T+W.cy*q,M+W.dx*V,T+W.dy*q)}),L!==u.PIE&&L!=null||F.lineTo(M,T),F.closePath(),this._clipping||F.fill()),this._doStroke&&(this._clipping||F.beginPath(),G.forEach(function(W,$){$===0&&F.moveTo(M+W.ax*V,T+W.ay*q),F.bezierCurveTo(M+W.bx*V,T+W.by*q,M+W.cx*V,T+W.cy*q,M+W.dx*V,T+W.dy*q)}),L===u.PIE?(F.lineTo(M,T),F.closePath()):L===u.CHORD&&F.closePath(),this._clipping||F.stroke()),this}},{key:"ellipse",value:function(G){var T=this.drawingContext,O=this._doFill,R=this._doStroke,k=parseFloat(G[0]),D=parseFloat(G[1]),q=parseFloat(G[2]),G=parseFloat(G[3]);if(O&&!R){if(this._getFill()===m)return this}else if(!O&&R&&this._getStroke()===m)return this;var L=q/2*.5522847498,B=G/2*.5522847498,F=k+q,V=D+G,q=k+q/2,G=D+G/2;this._clipping||T.beginPath(),T.moveTo(k,G),T.bezierCurveTo(k,G-B,q-L,D,q,D),T.bezierCurveTo(q+L,D,F,G-B,F,G),T.bezierCurveTo(F,G+B,q+L,V,q,V),T.bezierCurveTo(q-L,V,k,G+B,k,G),!this._clipping&&O&&T.fill(),!this._clipping&&R&&T.stroke()}},{key:"line",value:function(M,T,O,R){var k=this.drawingContext;return this._doStroke&&this._getStroke()!==m&&(this._clipping||k.beginPath(),k.moveTo(M,T),k.lineTo(O,R),k.stroke()),this}},{key:"point",value:function(M,T){var O,R,k=this.drawingContext;return!this._doStroke||this._getStroke()===m?this:(O=this._getStroke(),R=this._getFill(),this._clipping||this._setFill(O),this._clipping||k.beginPath(),k.arc(M,T,k.lineWidth/2,0,u.TWO_PI,!1),void(this._clipping||(k.fill(),this._setFill(R))))}},{key:"quad",value:function(M,T,O,R,k,D,L,B){var F=this.drawingContext,V=this._doFill,q=this._doStroke;if(V&&!q){if(this._getFill()===m)return this}else if(!V&&q&&this._getStroke()===m)return this;return this._clipping||F.beginPath(),F.moveTo(M,T),F.lineTo(O,R),F.lineTo(k,D),F.lineTo(L,B),F.closePath(),!this._clipping&&V&&F.fill(),!this._clipping&&q&&F.stroke(),this}},{key:"rect",value:function(q){var T,O,R=q[0],k=q[1],D=q[2],L=q[3],B=q[4],F=q[5],V=q[6],q=q[7],G=this.drawingContext,W=this._doFill,$=this._doStroke;if(W&&!$){if(this._getFill()===m)return this}else if(!W&&$&&this._getStroke()===m)return this;return this._clipping||G.beginPath(),B===void 0?G.rect(R,k,D,L):(F===void 0&&(F=B),V===void 0&&(V=F),q===void 0&&(q=V),$=(W=Math.abs(D))/2,O=(T=Math.abs(L))/2,T<2*(B=W<2*B?$:B)&&(B=O),T<2*(F=W<2*F?$:F)&&(F=O),T<2*(V=W<2*V?$:V)&&(V=O),T<2*(q=W<2*q?$:q)&&(q=O),this._clipping||G.beginPath(),G.moveTo(R+B,k),G.arcTo(R+D,k,R+D,k+L,F),G.arcTo(R+D,k+L,R,k+L,V),G.arcTo(R,k+L,R,k,q),G.arcTo(R,k,R+D,k,B),G.closePath()),!this._clipping&&this._doFill&&G.fill(),!this._clipping&&this._doStroke&&G.stroke(),this}},{key:"triangle",value:function(V){var T=this.drawingContext,O=this._doFill,R=this._doStroke,k=V[0],D=V[1],L=V[2],B=V[3],F=V[4],V=V[5];if(O&&!R){if(this._getFill()===m)return this}else if(!O&&R&&this._getStroke()===m)return this;this._clipping||T.beginPath(),T.moveTo(k,D),T.lineTo(L,B),T.lineTo(F,V),T.closePath(),!this._clipping&&O&&T.fill(),!this._clipping&&R&&T.stroke()}},{key:"endShape",value:function(M,T,O,R,k,D,L){if(T.length!==0&&(this._doStroke||this._doFill)){var B,F,V,q=M===u.CLOSE,G=(q&&!D&&T.push(T[0]),T.length);if(O&&L===null){if(3<G){var W=[],$=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[1][0],T[1][1]),F=1;F+2<G;F++)B=T[F],W[0]=[B[0],B[1]],W[1]=[B[0]+($*T[F+1][0]-$*T[F-1][0])/6,B[1]+($*T[F+1][1]-$*T[F-1][1])/6],W[2]=[T[F+1][0]+($*T[F][0]-$*T[F+2][0])/6,T[F+1][1]+($*T[F][1]-$*T[F+2][1])/6],W[3]=[T[F+1][0],T[F+1][1]],this.drawingContext.bezierCurveTo(W[1][0],W[1][1],W[2][0],W[2][1],W[3][0],W[3][1]);q&&this.drawingContext.lineTo(T[F+1][0],T[F+1][1]),this._doFillStrokeClose(q)}}else if(R&&L===null){for(this._clipping||this.drawingContext.beginPath(),F=0;F<G;F++)T[F].isVert?T[F].moveTo?this.drawingContext.moveTo(T[F][0],T[F][1]):this.drawingContext.lineTo(T[F][0],T[F][1]):this.drawingContext.bezierCurveTo(T[F][0],T[F][1],T[F][2],T[F][3],T[F][4],T[F][5]);this._doFillStrokeClose(q)}else if(k&&L===null){for(this._clipping||this.drawingContext.beginPath(),F=0;F<G;F++)T[F].isVert?T[F].moveTo?this.drawingContext.moveTo(T[F][0],T[F][1]):this.drawingContext.lineTo(T[F][0],T[F][1]):this.drawingContext.quadraticCurveTo(T[F][0],T[F][1],T[F][2],T[F][3]);this._doFillStrokeClose(q)}else if(L===u.POINTS)for(F=0;F<G;F++)B=T[F],this._doStroke&&this._pInst.stroke(B[6]),this._pInst.point(B[0],B[1]);else if(L===u.LINES)for(F=0;F+1<G;F+=2)B=T[F],this._doStroke&&this._pInst.stroke(T[F+1][6]),this._pInst.line(B[0],B[1],T[F+1][0],T[F+1][1]);else if(L===u.TRIANGLES)for(F=0;F+2<G;F+=3)B=T[F],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(T[F+1][0],T[F+1][1]),this.drawingContext.lineTo(T[F+2][0],T[F+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(T[F+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(T[F+2][6]),this.drawingContext.stroke());else if(L===u.TRIANGLE_STRIP)for(F=0;F+1<G;F++)B=T[F],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[F+1][0],T[F+1][1]),this.drawingContext.lineTo(B[0],B[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[F+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[F+1][5]),F+2<G&&(this.drawingContext.lineTo(T[F+2][0],T[F+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[F+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[F+2][5])),this._doFillStrokeClose(q);else if(L===u.TRIANGLE_FAN){if(2<G){for(this._clipping||this.drawingContext.beginPath(),F=2;F<G;F++)B=T[F],this.drawingContext.moveTo(T[0][0],T[0][1]),this.drawingContext.lineTo(T[F-1][0],T[F-1][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(T[0][0],T[0][1]),F<G-1&&(this._doFill&&B[5]!==T[F+1][5]||this._doStroke&&B[6]!==T[F+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(B[5]),this.drawingContext.fill(),this._pInst.fill(T[F+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(B[6]),this.drawingContext.stroke(),this._pInst.stroke(T[F+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(q)}}else if(L===u.QUADS)for(F=0;F+3<G;F+=4){for(B=T[F],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(B[0],B[1]),V=1;V<4;V++)this.drawingContext.lineTo(T[F+V][0],T[F+V][1]);this.drawingContext.lineTo(B[0],B[1]),!this._clipping&&this._doFill&&this._pInst.fill(T[F+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[F+3][6]),this._doFillStrokeClose(q)}else if(L===u.QUAD_STRIP){if(3<G)for(F=0;F+1<G;F+=2)B=T[F],this._clipping||this.drawingContext.beginPath(),F+3<G?(this.drawingContext.moveTo(T[F+2][0],T[F+2][1]),this.drawingContext.lineTo(B[0],B[1]),this.drawingContext.lineTo(T[F+1][0],T[F+1][1]),this.drawingContext.lineTo(T[F+3][0],T[F+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(T[F+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[F+3][6])):(this.drawingContext.moveTo(B[0],B[1]),this.drawingContext.lineTo(T[F+1][0],T[F+1][1])),this._doFillStrokeClose(q)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0][0],T[0][1]),F=1;F<G;F++)(B=T[F]).isVert&&(B.moveTo?(q&&this.drawingContext.closePath(),this.drawingContext.moveTo(B[0],B[1])):this.drawingContext.lineTo(B[0],B[1]));this._doFillStrokeClose(q)}D=k=R=O=!1,q&&T.pop()}return this}},{key:"strokeCap",value:function(M){return M!==u.ROUND&&M!==u.SQUARE&&M!==u.PROJECT||(this.drawingContext.lineCap=M),this}},{key:"strokeJoin",value:function(M){return M!==u.ROUND&&M!==u.BEVEL&&M!==u.MITER||(this.drawingContext.lineJoin=M),this}},{key:"strokeWeight",value:function(M){return this.drawingContext.lineWidth=M===void 0||M===0?1e-4:M,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(M){M!==this._cachedFillStyle&&(this.drawingContext.fillStyle=M,this._cachedFillStyle=M)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(M){M!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=M,this._cachedStrokeStyle=M)}},{key:"bezier",value:function(M,T,O,R,k,D,L,B){return this._pInst.beginShape(),this._pInst.vertex(M,T),this._pInst.bezierVertex(O,R,k,D,L,B),this._pInst.endShape(),this}},{key:"curve",value:function(M,T,O,R,k,D,L,B){return this._pInst.beginShape(),this._pInst.curveVertex(M,T),this._pInst.curveVertex(O,R),this._pInst.curveVertex(k,D),this._pInst.curveVertex(L,B),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(M){M&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(M,T,O,R,k,D){this.drawingContext.transform(M,T,O,R,k,D)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(M){this.drawingContext.rotate(M)}},{key:"scale",value:function(M,T){return this.drawingContext.scale(M,T),this}},{key:"translate",value:function(M,T){return M instanceof s.default.Vector&&(T=M.y,M=M.x),this.drawingContext.translate(M,T),this}},{key:"_renderText",value:function(M,T,O,R,k,D){if(!(R<D||k<=R))return M.push(),this._isOpenType()?this._textFont._renderPath(T,O,R,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(T,O,R),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(u._DEFAULT_TEXT_FILL),this.drawingContext.fillText(T,O,R))),M.pop(),M}},{key:"textWidth",value:function(M){return this._isOpenType()?this._textFont._textWidth(M,this._textSize):this.drawingContext.measureText(M).width}},{key:"_applyTextProperties",value:function(){var M,T=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),M=this._textFont,this._isOpenType()&&(M=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(M||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===u.CENTER?this.drawingContext.textBaseline=u._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,T}},{key:"push",value:function(){return this.drawingContext.save(),c(p(E.prototype),"push",this).call(this)}},{key:"pop",value:function(M){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,c(p(E.prototype),"pop",this).call(this,M)}}])&&y(x.prototype,g),E}(s.default.Renderer),_=(v.prototype.text=function(g,x,j,O,M){O!==void 0&&this.drawingContext.textBaseline===u.BASELINE&&(T=!0,this.drawingContext.textBaseline=u.TOP);var T,O=s.default.Renderer.prototype.text.apply(this,arguments);return T&&(this.drawingContext.textBaseline=u.BASELINE),O},s.default.Renderer2D=v,s.default.Renderer2D);a.default=_},{"./constants":264,"./main":275,"./p5.Renderer":278,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],280:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var n=(t=t("./main"))&&t.__esModule?t:{default:t};n.default.prototype._promisePreloads=[];function o(){return{}}var s=!(n.default.prototype.registerPromisePreload=function(u){n.default.prototype._promisePreloads.push(u)});n.default.prototype._setupPromisePreloads=function(){var u=!0,b=!1,y=void 0;try{for(var c,h=this._promisePreloads[Symbol.iterator]();!(u=(c=h.next()).done);u=!0){var f=c.value,p=this,m=f.method,v=f.addCallbacks,_=f.legacyPreloadSetup,g=f.target||this,x=g[m].bind(g);if(g===n.default.prototype){if(s)continue;p=null,x=g[m]}g[m]=this._wrapPromisePreload(p,x,v),_&&(g[_.method]=this._legacyPreloadGenerator(p,_,g[m]))}}catch(j){b=!0,y=j}finally{try{u||h.return==null||h.return()}finally{if(b)throw y}}s=!0},n.default.prototype._wrapPromisePreload=function(u,b,y){var c=function(){for(var h=this,f=(this._incrementPreload(),null),p=null,m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];if(y)for(var g=v.length-1;0<=g&&!p&&typeof v[g]=="function";g--)p=f,f=v.pop();var x=Promise.resolve(b.apply(this,v));return f&&x.then(f),p&&x.catch(p),x.then(function(){return h._decrementPreload()}),x};return c=u?c.bind(u):c},n.default.prototype._legacyPreloadGenerator=function(u,h,y){var c=h.createBaseObject||o,h=function(){var f=this;this._incrementPreload();for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var _=c.apply(this,m);return y.apply(this,m).then(function(g){Object.assign(_,g),f._decrementPreload()}),_};return h=u?h.bind(u):h}},{"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],281:[function(t,d,a){function n(h){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=(c=t("./main"))&&c.__esModule?c:{default:c},s=function(h){if(h&&h.__esModule)return h;if(h===null||b(h)!=="object"&&typeof h!="function")return{default:h};var f=u();if(f&&f.has(h))return f.get(h);var p,m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in h){var _;Object.prototype.hasOwnProperty.call(h,p)&&((_=v?Object.getOwnPropertyDescriptor(h,p):null)&&(_.get||_.set)?Object.defineProperty(m,p,_):m[p]=h[p])}return m.default=h,f&&f.set(h,m),m}(t("./constants"));function u(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,u=function(){return h},h)}function b(h){return(b=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(f){return n(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":n(f)})(h)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var y="defaultCanvas0",c=(o.default.prototype.createCanvas=function(h,f,p,m){var v,_,g;if(o.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(p=s.P2D,m=arguments[2]):v=p||s.P2D,m)(g=document.getElementById(y))&&g.parentNode.removeChild(g),g=m,this._defaultGraphicsCreated=!1;else{if(v===s.WEBGL)(g=document.getElementById(y))&&(g.parentNode.removeChild(g),_=this._renderer,this._elements=this._elements.filter(function(j){return j!==_})),(g=document.createElement("canvas")).id=y,g.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)g=this.canvas;else{g=m||document.createElement("canvas");for(var x=0;document.getElementById("defaultCanvas".concat(x));)x++;y="defaultCanvas".concat(x),g.id=y,g.classList.add("p5Canvas")}this._setupDone||(g.dataset.hidden=!0,g.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(p=document.createElement("main"),document.body.appendChild(p)),document.getElementsByTagName("main")[0])).appendChild(g)}return v===s.WEBGL?(this._setProperty("_renderer",new o.default.RendererGL(g,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new o.default.Renderer2D(g,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(h,f),this._renderer._applyDefaults(),this._renderer},o.default.prototype.resizeCanvas=function(h,f,p){if(o.default._validateParameters("resizeCanvas",arguments),this._renderer){var m,v,_={};for(m in this.drawingContext){var g=this.drawingContext[m];b(g)!=="object"&&typeof g!="function"&&(_[m]=g)}for(v in this.width=h,this.height=f,this._renderer.resize(h,f),_)try{this.drawingContext[v]=_[v]}catch{}p||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},o.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},o.default.prototype.createGraphics=function(h,f){for(var p=arguments.length,m=new Array(2<p?p-2:0),v=2;v<p;v++)m[v-2]=arguments[v];return m[0]instanceof HTMLCanvasElement&&(m[1]=m[0],m[0]=s.P2D),o.default._validateParameters("createGraphics",arguments),new o.default.Graphics(h,f,m[0],this,m[1])},o.default.prototype.createFramebuffer=function(h){return new o.default.Framebuffer(this,h)},o.default.prototype.blendMode=function(h){o.default._validateParameters("blendMode",arguments),h===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),h=s.BLEND),this._renderer.blendMode(h)},o.default);a.default=c},{"../webgl/p5.RendererGL":332,"./constants":264,"./main":275,"./p5.Graphics":277,"./p5.Renderer2D":279,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],282:[function(t,d,a){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function o(f){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=c(t("../main")),u=function(f){if(f&&f.__esModule)return f;if(f===null||o(f)!=="object"&&typeof f!="function")return{default:f};var p=y();if(p&&p.has(f))return p.get(f);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var g;Object.prototype.hasOwnProperty.call(f,m)&&((g=_?Object.getOwnPropertyDescriptor(f,m):null)&&(g.get||g.set)?Object.defineProperty(v,m,g):v[m]=f[m])}return v.default=f,p&&p.set(f,v),v}(t("../constants")),b=c(t("../helpers"));function y(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,y=function(){return f},f)}function c(f){return f&&f.__esModule?f:{default:f}}function h(f){return function(p){if(Array.isArray(p)){for(var m=0,v=new Array(p.length);m<p.length;m++)v[m]=p[m];return v}}(f)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(f,p,m,v,_){var g;return f-=u.TWO_PI*Math.floor(f/u.TWO_PI),p-=u.TWO_PI*Math.floor(p/u.TWO_PI),g=Math.min(Math.abs(f-p),u.TWO_PI-Math.abs(f-p)),_&&(f=f<=u.HALF_PI?Math.atan(m/v*Math.tan(f)):f>u.HALF_PI&&f<=3*u.HALF_PI?Math.atan(m/v*Math.tan(f))+u.PI:Math.atan(m/v*Math.tan(f))+u.TWO_PI,p=p<=u.HALF_PI?Math.atan(m/v*Math.tan(p)):p>u.HALF_PI&&p<=3*u.HALF_PI?Math.atan(m/v*Math.tan(p))+u.PI:Math.atan(m/v*Math.tan(p))+u.TWO_PI),p<f&&(p+=u.TWO_PI),{start:f,stop:p,correspondToSamePoint:g<1e-5}},s.default.prototype.arc=function(f,p,m,v,_,g,x,j){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&_!==g&&(_=this._toRadians(_),g=this._toRadians(g),m=Math.abs(m),v=Math.abs(v),f=b.default.modeAdjust(f,p,m,v,this._renderer._ellipseMode),(p=this._normalizeArcAngles(_,g,f.w,f.h,!0)).correspondToSamePoint?this._renderer.ellipse([f.x,f.y,f.w,f.h,j]):(this._renderer.arc(f.x,f.y,f.w,f.h,p.start,p.stop,x,j),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[f.x,f.y,f.w,f.h,p.start,p.stop,x]))),this},s.default.prototype.ellipse=function(f,p,m,v,_){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){s.default._validateParameters("circle",arguments);var f=Array.prototype.slice.call(arguments,0,2);return f.push(arguments[2]),f.push(arguments[2]),this._renderEllipse.apply(this,h(f))},s.default.prototype._renderEllipse=function(f,p,m,v,_){return(this._renderer._doStroke||this._renderer._doFill)&&(m<0&&(m=Math.abs(m)),v===void 0?v=m:v<0&&(v=Math.abs(v)),f=b.default.modeAdjust(f,p,m,v,this._renderer._ellipseMode),this._renderer.ellipse([f.x,f.y,f.w,f.h,_]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[f.x,f.y,f.w,f.h])),this},s.default.prototype.line=function(){for(var f,p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return s.default._validateParameters("line",m),this._renderer._doStroke&&(f=this._renderer).line.apply(f,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",m),this},s.default.prototype.point=function(){for(var f,p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return s.default._validateParameters("point",m),this._renderer._doStroke&&(m.length===1&&m[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,m[0].x,m[0].y,m[0].z):((f=this._renderer).point.apply(f,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",m))),this},s.default.prototype.quad=function(){for(var f,p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return s.default._validateParameters("quad",m),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&m.length<12?this._renderer.quad.call(this._renderer,m[0],m[1],0,m[2],m[3],0,m[4],m[5],0,m[6],m[7],0,m[8],m[9]):((f=this._renderer).quad.apply(f,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",m))),this},s.default.prototype.rect=function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return s.default._validateParameters("rect",p),this._renderRect.apply(this,p)},s.default.prototype.square=function(f,p,m,v,_,g,x){return s.default._validateParameters("square",arguments),this._renderRect.call(this,f,p,m,m,v,_,g,x)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var f=b.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),p=[f.x,f.y,f.w,f.h],m=4;m<arguments.length;m++)p[m]=arguments[m];this._renderer.rect(p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[f.x,f.y,f.w,f.h])}return this},s.default.prototype.triangle=function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return s.default._validateParameters("triangle",p),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",p),this},t=s.default,a.default=t},{"../constants":264,"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../helpers":271,"../main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],283:[function(t,d,a){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function o(c){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(h){return n(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":n(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(y=t("../main"))&&y.__esModule?y:{default:y},u=function(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var h=b();if(h&&h.has(c))return h.get(c);var f,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var v;Object.prototype.hasOwnProperty.call(c,f)&&((v=m?Object.getOwnPropertyDescriptor(c,f):null)&&(v.get||v.set)?Object.defineProperty(p,f,v):p[f]=c[f])}return p.default=c,h&&h.set(c,p),p}(t("../constants"));function b(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,b=function(){return c},c)}s.default.prototype.ellipseMode=function(c){return s.default._validateParameters("ellipseMode",arguments),c!==u.CORNER&&c!==u.CORNERS&&c!==u.RADIUS&&c!==u.CENTER||(this._renderer._ellipseMode=c),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(c){return s.default._validateParameters("rectMode",arguments),c!==u.CORNER&&c!==u.CORNERS&&c!==u.RADIUS&&c!==u.CENTER||(this._renderer._rectMode=c),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(c){return s.default._validateParameters("strokeCap",arguments),c!==u.ROUND&&c!==u.SQUARE&&c!==u.PROJECT||this._renderer.strokeCap(c),this},s.default.prototype.strokeJoin=function(c){return s.default._validateParameters("strokeJoin",arguments),c!==u.ROUND&&c!==u.BEVEL&&c!==u.MITER||this._renderer.strokeJoin(c),this},s.default.prototype.strokeWeight=function(c){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(c),this};var y=s.default;a.default=y},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],284:[function(t,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(o=t("../main"))&&o.__esModule?o:{default:o};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),n.default.prototype.bezier=function(){for(var s,u=arguments.length,b=new Array(u),y=0;y<u;y++)b[y]=arguments[y];return n.default._validateParameters("bezier",b),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,b),this},n.default.prototype.bezierDetail=function(s){return n.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},n.default.prototype.bezierPoint=function(s,u,b,y,c){n.default._validateParameters("bezierPoint",arguments);var h=1-c;return Math.pow(h,3)*s+3*Math.pow(h,2)*c*u+3*h*Math.pow(c,2)*b+Math.pow(c,3)*y},n.default.prototype.bezierTangent=function(s,u,b,y,c){n.default._validateParameters("bezierTangent",arguments);var h=1-c;return 3*y*Math.pow(c,2)-3*b*Math.pow(c,2)+6*b*h*c-6*u*h*c+3*u*Math.pow(h,2)-3*s*Math.pow(h,2)},n.default.prototype.curve=function(){for(var s,u=arguments.length,b=new Array(u),y=0;y<u;y++)b[y]=arguments[y];return n.default._validateParameters("curve",b),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,b),this},n.default.prototype.curveDetail=function(s){return n.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},n.default.prototype.curveTightness=function(s){return n.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},n.default.prototype.curvePoint=function(s,u,b,y,c){n.default._validateParameters("curvePoint",arguments);var h=this._renderer._curveTightness,f=c*c*c,p=c*c;return s*((h-1)/2*f+(1-h)*p+(h-1)/2*c)+u*((h+3)/2*f+(-5-h)/2*p+1)+b*((-3-h)/2*f+(h+2)*p+(1-h)/2*c)+y*((1-h)/2*f+(h-1)/2*p)},n.default.prototype.curveTangent=function(s,u,b,y,p){n.default._validateParameters("curveTangent",arguments);var h=this._renderer._curveTightness,f=p*p*3,p=2*p;return s*((h-1)/2*f+(1-h)*p+(h-1)/2)+u*((h+3)/2*f+(-5-h)/2*p)+b*((-3-h)/2*f+(h+2)*p+(1-h)/2)+y*((1-h)/2*f+(h-1)/2*p)};var o=n.default;a.default=o},{"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../main":275}],285:[function(t,d,a){function n(x){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(x)}function o(x){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(j){return n(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":n(j)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(g=t("../main"))&&g.__esModule?g:{default:g},u=function(x){if(x&&x.__esModule)return x;if(x===null||o(x)!=="object"&&typeof x!="function")return{default:x};var j=b();if(j&&j.has(x))return j.get(x);var E,M={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in x){var O;Object.prototype.hasOwnProperty.call(x,E)&&((O=T?Object.getOwnPropertyDescriptor(x,E):null)&&(O.get||O.set)?Object.defineProperty(M,E,O):M[E]=x[E])}return M.default=x,j&&j.set(x,M),M}(t("../constants"));function b(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,b=function(){return x},x)}var y=null,c=[],h=[],f=!1,p=!1,m=!1,v=!1,_=!0,g=(s.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(h=[],v=!0),this},s.default.prototype.beginShape=function(x){var j;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(j=this._renderer).beginShape.apply(j,arguments):(y=x===u.POINTS||x===u.LINES||x===u.TRIANGLES||x===u.TRIANGLE_FAN||x===u.TRIANGLE_STRIP||x===u.QUADS||x===u.QUAD_STRIP?x:null,c=[],h=[]),this},s.default.prototype.bezierVertex=function(){for(var x,j=arguments.length,E=new Array(j),M=0;M<j;M++)E[M]=arguments[M];if(s.default._validateParameters("bezierVertex",E),this._renderer.isP3D)(x=this._renderer).bezierVertex.apply(x,E);else if(c.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{f=!0;for(var T=[],O=0;O<E.length;O++)T[O]=E[O];T.isVert=!1,(v?h:c).push(T)}return this},s.default.prototype.curveVertex=function(){for(var x,j=arguments.length,E=new Array(j),M=0;M<j;M++)E[M]=arguments[M];return s.default._validateParameters("curveVertex",E),this._renderer.isP3D?(x=this._renderer).curveVertex.apply(x,E):(p=!0,this.vertex(E[0],E[1])),this},s.default.prototype.endContour=function(){if(!this._renderer.isP3D){var x=h[0].slice();x.isVert=h[0].isVert,x.moveTo=!1,h.push(x),_&&(c.push(c[0]),_=!1);for(var j=0;j<h.length;j++)c.push(h[j])}return this},s.default.prototype.endShape=function(x){var j=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(s.default._validateParameters("endShape",arguments),j<1&&(console.log(" p5.js says: You can not have less than one instance"),j=1),this._renderer.isP3D)this._renderer.endShape(x,p,f,m,v,y,j);else{if(j!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),c.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;j=x===u.CLOSE,j&&!v&&c.push(c[0]),this._renderer.endShape(x,c,p,f,m,v,y),_=!(v=m=f=p=!1),j&&c.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var x,j=arguments.length,E=new Array(j),M=0;M<j;M++)E[M]=arguments[M];if(s.default._validateParameters("quadraticVertex",E),this._renderer.isP3D)(x=this._renderer).quadraticVertex.apply(x,E);else{if(this._contourInited)return(x={}).x=E[0],x.y=E[1],x.x3=E[2],x.y3=E[3],x.type=u.QUADRATIC,this._contourVertices.push(x),this;if(0<c.length){m=!0;for(var T=[],O=0;O<E.length;O++)T[O]=E[O];T.isVert=!1,(v?h:c).push(T)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(x,j,E,M,T){var O;return this._renderer.isP3D?(O=this._renderer).vertex.apply(O,arguments):((O=[]).isVert=!0,O[0]=x,O[1]=j,O[2]=0,O[3]=0,O[4]=0,O[5]=this._renderer._getFill(),O[6]=this._renderer._getStroke(),E&&(O.moveTo=E),(v?(h.length===0&&(O.moveTo=!0),h):c).push(O)),this},s.default.prototype.normal=function(x,j,E){var M;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(M=this._renderer).normal.apply(M,arguments),this},s.default);a.default=g},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],286:[function(t,d,a){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function o(c){return function(h){if(Array.isArray(h)){for(var f=0,p=new Array(h.length);f<h.length;f++)p[f]=h[f];return p}}(c)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c){return(s=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(h){return n(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":n(h)})(c)}var u,b,y;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c,h){window.setTimeout(c,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(u=Object.keys,t=Object.defineProperty,b=typeof Symbol=="function"&&s(Symbol())==="symbol",y=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(c,h){if(c==null)throw new TypeError("target must be an object");for(var f,p=Object(c),m=1;m<arguments.length;++m){var v=Object(arguments[m]),_=u(v);for(b&&Object.getOwnPropertySymbols&&_.push.apply(_,o(Object.getOwnPropertySymbols(v).filter(function(g){return function(x){return y.call(g,x)}}(v)))),f=0;f<_.length;++f)p[_[f]]=v[_[f]]}return p},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/web.dom-collections.iterator":238}],287:[function(t,d,a){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var n=this._styles.pop();n?(this._renderer.pop(n.renderer),Object.assign(this,n.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(n){if(!this._inUserDraw&&this._setupDone){var o=parseInt(n),s=((isNaN(o)||o<1)&&(o=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var u=0;u<o;u++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,a.default=t},{"./main":275,"core-js/modules/es.object.assign":176}],288:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("./main"))&&t.__esModule?t:{default:t};function o(s){return function(u){if(Array.isArray(u)){for(var b=0,y=new Array(u.length);b<u.length;b++)y[b]=u[b];return y}}(s)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.applyMatrix=function(){var s=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,o(arguments.length<=0?void 0:arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},n.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},n.default.prototype.rotate=function(s,u){return n.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),u),this},n.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),n.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},n.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),n.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},n.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),n.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},n.default.prototype.scale=function(s,u,b){var y;return n.default._validateParameters("scale",arguments),s instanceof n.default.Vector?(s=(y=s).x,u=y.y,b=y.z):s instanceof Array&&(s=(y=s)[0],u=y[1],b=y[2]||1),isNaN(u)?u=b=s:isNaN(b)&&(b=1),this._renderer.scale.call(this._renderer,s,u,b),this},n.default.prototype.shearX=function(s){return n.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},n.default.prototype.shearY=function(s){return n.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},n.default.prototype.translate=function(s,u,b){return n.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,u,b):this._renderer.translate(s,u),this},t=n.default,a.default=t},{"./main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238}],289:[function(t,d,a){function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(b){return function(y){if(Array.isArray(y)){for(var c=0,h=new Array(y.length);c<y.length;c++)h[c]=y[c];return h}}(b)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(b){return(u=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(y){return n(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":n(y)})(b)}o.default.prototype.storeItem=function(b,y){typeof b!="string"&&console.log("The argument that you passed to storeItem() - ".concat(b," is not a string.")),b.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(b," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var c=u(y);switch(c){case"number":case"boolean":y=y.toString();break;case"object":y instanceof o.default.Color?c="p5.Color":y instanceof o.default.Vector&&(c="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(b,y),b="".concat(b,"p5TypeID"),localStorage.setItem(b,c)},o.default.prototype.getItem=function(b){var y=localStorage.getItem(b),c=localStorage.getItem("".concat(b,"p5TypeID"));if(c===void 0)console.log("Unable to determine type of item stored under ".concat(b,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(c){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,s(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,s(y))}return y},o.default.prototype.clearStorage=function(){localStorage.clear()},o.default.prototype.removeItem=function(b){typeof b!="string"&&console.log("The argument that you passed to removeItem() - ".concat(b," is not a string.")),localStorage.removeItem(b),localStorage.removeItem("".concat(b,"p5TypeID"))}},{"../core/main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],290:[function(t,d,a){function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function o(m){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(v){return n(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":n(v)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),v&&b(m,v)}function b(m,v){return(b=Object.setPrototypeOf||function(_,g){return _.__proto__=g,_})(m,v)}function y(m){return function(){var v,_=c(m),_=(v=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=c(this).constructor,Reflect.construct(_,arguments,v)):_.apply(this,arguments),this);if(!v||o(v)!=="object"&&typeof v!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return v}}function c(m){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}function h(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function f(m,v){for(var _=0;_<v.length;_++){var g=v[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}function p(m,v,_){v&&f(m.prototype,v),_&&f(m,_)}s.default.prototype.createStringDict=function(m,v){return s.default._validateParameters("createStringDict",arguments),new s.default.StringDict(m,v)},s.default.prototype.createNumberDict=function(m,v){return s.default._validateParameters("createNumberDict",arguments),new s.default.NumberDict(m,v)},s.default.TypedDict=function(){function m(v,_){return h(this,m),v instanceof Object?this.data=v:(this.data={},this.data[v]=_),this}return p(m,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(v){return this.data.hasOwnProperty(v)}},{key:"get",value:function(v){if(this.data.hasOwnProperty(v))return this.data[v];console.log("".concat(v," does not exist in this Dictionary"))}},{key:"set",value:function(v,_){this._validate(_)?this.data[v]=_:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(v){for(var _ in v)this.set(_,v[_])}},{key:"create",value:function(v,_){v instanceof Object&&_===void 0?this._addObj(v):v!==void 0?this.set(v,_):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(v){if(!this.data.hasOwnProperty(v))throw new Error("".concat(v," does not exist in this Dictionary"));delete this.data[v]}},{key:"print",value:function(){for(var v in this.data)console.log("key:".concat(v," value:").concat(this.data[v]))}},{key:"saveTable",value:function(v){var _,g="";for(_ in this.data)g+="".concat(_,",").concat(this.data[_],`
`);var x=new Blob([g],{type:"text/csv"});s.default.prototype.downloadFile(x,v||"mycsv","csv")}},{key:"saveJSON",value:function(v,_){s.default.prototype.saveJSON(this.data,v,_)}},{key:"_validate",value:function(v){return!0}}]),m}(),s.default.StringDict=function(){u(v,s.default.TypedDict);var m=y(v);function v(){h(this,v);for(var _=arguments.length,g=new Array(_),x=0;x<_;x++)g[x]=arguments[x];return m.call.apply(m,[this].concat(g))}return p(v,[{key:"_validate",value:function(_){return typeof _=="string"}}]),v}(),s.default.NumberDict=function(){u(v,s.default.TypedDict);var m=y(v);function v(){h(this,v);for(var _=arguments.length,g=new Array(_),x=0;x<_;x++)g[x]=arguments[x];return m.call.apply(m,[this].concat(g))}return p(v,[{key:"_validate",value:function(_){return typeof _=="number"}},{key:"add",value:function(_,g){this.data.hasOwnProperty(_)?this.data[_]+=g:console.log("The key - ".concat(_," does not exist in this dictionary."))}},{key:"sub",value:function(_,g){this.add(_,-g)}},{key:"mult",value:function(_,g){this.data.hasOwnProperty(_)?this.data[_]*=g:console.log("The key - ".concat(_," does not exist in this dictionary."))}},{key:"div",value:function(_,g){this.data.hasOwnProperty(_)?this.data[_]/=g:console.log("The key - ".concat(_," does not exist in this dictionary."))}},{key:"_valueTest",value:function(_){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var g,x=this.data[Object.keys(this.data)[0]];for(g in this.data)this.data[g]*_<x*_&&(x=this.data[g]);return x}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(_){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var g=Object.keys(this.data)[0],x=1;x<Object.keys(this.data).length;x++)Object.keys(this.data)[x]*_<g*_&&(g=Object.keys(this.data)[x]);return g}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),v}(),t=s.default.TypedDict,a.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],291:[function(t,d,a){function n(g){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(g,x){for(var j=0;j<x.length;j++){var E=x[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}function u(g,x,j){x&&s(g.prototype,x),j&&s(g,j)}function b(g,x){return(b=Object.setPrototypeOf||function(j,E){return j.__proto__=E,j})(g,x)}function y(g){return function(){var x,j,E=h(g);return x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=h(this).constructor,Reflect.construct(E,arguments,x)):E.apply(this,arguments),E=this,!(j=x)||p(j)!=="object"&&typeof j!="function"?c(E):j}}function c(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function h(g){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(g)}function f(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function p(g){return(p=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(x){return n(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":n(x)})(g)}function m(g,x,j){return(x._userNode||document.body).appendChild(g),j=new(j?o.default.MediaElement:o.default.Element)(g,x),x._elements.push(j),j}function v(g,O,j,E){var M=document.createElement(O),T=(typeof(j=j||"")=="string"&&(j=[j]),!0),O=!1,R=void 0;try{for(var k,D=j[Symbol.iterator]();!(T=(k=D.next()).done);T=!0){var L=k.value,B=document.createElement("source");B.setAttribute("src",L),M.appendChild(B)}}catch(V){O=!0,R=V}finally{try{T||D.return==null||D.return()}finally{if(O)throw R}}typeof E=="function"&&M.addEventListener("canplaythrough",function V(){E(),M.removeEventListener("canplaythrough",V)});var F=m(M,g,!0);return F.loadedmetadata=!1,M.addEventListener("loadedmetadata",function(){F.width=M.videoWidth,F.height=M.videoHeight,F.elt.width===0&&(F.elt.width=M.videoWidth),F.elt.height===0&&(F.elt.height=M.videoHeight),F.presetPlaybackRate&&(F.elt.playbackRate=F.presetPlaybackRate,delete F.presetPlaybackRate),F.loadedmetadata=!0}),F}o.default.prototype.select=function(g,x){return o.default._validateParameters("select",arguments),x=this._getContainer(x).querySelector(g),x?this._wrapElement(x):null},o.default.prototype.selectAll=function(g,x){o.default._validateParameters("selectAll",arguments);var j=[],E=this._getContainer(x).querySelectorAll(g);if(E)for(var M=0;M<E.length;M++){var T=this._wrapElement(E[M]);j.push(T)}return j},o.default.prototype._getContainer=function(g){var x=document;return typeof g=="string"?x=document.querySelector(g)||document:g instanceof o.default.Element?x=g.elt:g instanceof HTMLElement&&(x=g),x},o.default.prototype._wrapElement=function(g){var x,j=Array.prototype.slice.call(g.children);return g.tagName==="INPUT"&&g.type==="checkbox"?((x=new o.default.Element(g,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},x):g.tagName==="VIDEO"||g.tagName==="AUDIO"?new o.default.MediaElement(g,this):g.tagName==="SELECT"?this.createSelect(new o.default.Element(g,this)):0<j.length&&j.every(function(E){return E.tagName==="INPUT"||E.tagName==="LABEL"})?this.createRadio(new o.default.Element(g,this)):new o.default.Element(g,this)},o.default.prototype.removeElements=function(g){o.default._validateParameters("removeElements",arguments),this._elements.filter(function(x){return!(x.elt instanceof HTMLCanvasElement)}).map(function(x){return x.remove()})},o.default.Element.prototype.changed=function(g){return o.default.Element._adjustListener("change",g,this),this},o.default.Element.prototype.input=function(g){return o.default.Element._adjustListener("input",g,this),this},o.default.prototype.createDiv=function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",x=document.createElement("div");return x.innerHTML=g,m(x,this)},o.default.prototype.createP=function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",x=document.createElement("p");return x.innerHTML=g,m(x,this)},o.default.prototype.createSpan=function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",x=document.createElement("span");return x.innerHTML=g,m(x,this)},o.default.prototype.createImg=function(){o.default._validateParameters("createImg",arguments);var g,x=document.createElement("img"),j=arguments;return 1<j.length&&typeof j[1]=="string"&&(x.alt=j[1]),2<j.length&&typeof j[2]=="string"&&(x.crossOrigin=j[2]),x.src=j[0],g=m(x,this),x.addEventListener("load",function(){g.width=x.offsetWidth||x.width,g.height=x.offsetHeight||x.height;var E=j[j.length-1];typeof E=="function"&&E(g)}),g},o.default.prototype.createA=function(g,x,j){o.default._validateParameters("createA",arguments);var E=document.createElement("a");return E.href=g,E.innerHTML=x,j&&(E.target=j),m(E,this)},o.default.prototype.createSlider=function(g,x,j,E){o.default._validateParameters("createSlider",arguments);var M=document.createElement("input");return M.type="range",M.min=g,M.max=x,E===0?M.step=1e-18:E&&(M.step=E),typeof j=="number"&&(M.value=j),m(M,this)},o.default.prototype.createButton=function(g,x){o.default._validateParameters("createButton",arguments);var j=document.createElement("button");return j.innerHTML=g,x&&(j.value=x),m(j,this)},o.default.prototype.createCheckbox=function(){for(var g=arguments.length,x=new Array(g),j=0;j<g;j++)x[j]=arguments[j];o.default._validateParameters("createCheckbox",x);var E=document.createElement("div"),M=document.createElement("input"),T=(M.type="checkbox",document.createElement("label")),O=(T.appendChild(M),E.appendChild(T),m(E,this));return O.checked=function(){var R=O.elt.firstElementChild.getElementsByTagName("input")[0];if(R){if(arguments.length===0)return R.checked;R.checked=!(arguments.length<=0||!arguments[0])}return O},this.value=function(R){return O.value=R,this},x[0]&&(O.value(x[0]),(E=document.createElement("span")).innerHTML=x[0],T.appendChild(E)),x[1]&&(M.checked=!0),O},o.default.prototype.createSelect=function(){for(var g,x=arguments.length,j=new Array(x),E=0;E<x;E++)j[E]=arguments[E];o.default._validateParameters("createSelect",j);var M,T=j[0];return T instanceof o.default.Element&&T.elt instanceof HTMLSelectElement?this.elt=(g=T).elt:T instanceof HTMLSelectElement?(g=m(T,this),this.elt=T):(M=document.createElement("select"),T&&typeof T=="boolean"&&M.setAttribute("multiple","true"),g=m(M,this),this.elt=M),g.option=function(O,R){var k;if(O!==void 0){for(var D,L=0;L<this.elt.length;L+=1)if(this.elt[L].textContent===O){k=L;break}k!==void 0?R===!1?this.elt.remove(k):this.elt[k].value=R:((D=document.createElement("option")).textContent=O,D.value=R===void 0?O:R,this.elt.appendChild(D),this._pInst._elements.push(D))}},g.selected=function(O){if(O!==void 0){for(var R=0;R<this.elt.length;R+=1)this.elt[R].value.toString()===O.toString()&&(this.elt.selectedIndex=R);return this}if(this.elt.getAttribute("multiple")){var k=[],D=!0,L=!1,B=void 0;try{for(var F,V=this.elt.selectedOptions[Symbol.iterator]();!(D=(F=V.next()).done);D=!0){var q=F.value;k.push(q.value)}}catch(G){L=!0,B=G}finally{try{D||V.return==null||V.return()}finally{if(L)throw B}}return k}return this.elt.value},g.disable=function(O){if(typeof O=="string")for(var R=0;R<this.elt.length;R++)this.elt[R].value.toString()===O&&(this.elt[R].disabled=!0,this.elt[R].selected=!1);else this.elt.disabled=!0;return this},g.enable=function(O){if(typeof O=="string")for(var R=0;R<this.elt.length;R++)this.elt[R].value.toString()===O&&(this.elt[R].disabled=!1,this.elt[R].selected=!1);else{this.elt.disabled=!1;for(var k=0;k<this.elt.length;k++)this.elt[k].disabled=!1,this.elt[k].selected=!1}return this},g},o.default.prototype.createRadio=function(){function g(O){return O instanceof HTMLInputElement&&O.type==="radio"}function x(O){return O instanceof HTMLLabelElement}var j,E,M,T=arguments.length<=0?void 0:arguments[0];return T instanceof o.default.Element&&(T.elt instanceof HTMLDivElement||T.elt instanceof HTMLSpanElement)?(j=T,this.elt=T.elt):T instanceof HTMLDivElement||T instanceof HTMLSpanElement?(j=m(T,this),E=this.elt=T,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(M=arguments.length<=1?void 0:arguments[1])):(typeof T=="string"&&(M=T),E=document.createElement("div"),j=m(E,this),this.elt=E),j._name=M||"radioOption",j._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(O){return g(O)||x(O)&&g(O.firstElementChild)}).map(function(O){return g(O)?O:O.firstElementChild})},j.option=function(O,R){var k,D,L,B=!0,F=!1,V=void 0;try{for(var q,G=j._getOptionsArray()[Symbol.iterator]();!(B=(q=G.next()).done);B=!0){var W=q.value;if(W.value===O){k=W;break}}}catch($){F=!0,V=$}finally{try{B||G.return==null||G.return()}finally{if(F)throw V}}return k===void 0&&((k=document.createElement("input")).setAttribute("type","radio"),k.setAttribute("value",O)),k.setAttribute("name",j._name),x(k.parentElement)?D=k.parentElement:(D=document.createElement("label")).insertAdjacentElement("afterbegin",k),D.lastElementChild instanceof HTMLSpanElement?L=D.lastElementChild:(L=document.createElement("span"),k.insertAdjacentElement("afterend",L)),L.innerHTML=R===void 0?O:R,this.elt.appendChild(D),k},j.remove=function(O){var R=!0,k=!1,D=void 0;try{for(var L,B=j._getOptionsArray()[Symbol.iterator]();!(R=(L=B.next()).done);R=!0){var F=L.value;if(F.value===O)return void(x(F.parentElement)?F.parentElement:F).remove()}}catch(V){k=!0,D=V}finally{try{R||B.return==null||B.return()}finally{if(k)throw D}}},j.value=function(){var O="",R=!0,k=!1,D=void 0;try{for(var L,B=j._getOptionsArray()[Symbol.iterator]();!(R=(L=B.next()).done);R=!0){var F=L.value;if(F.checked){O=F.value;break}}}catch(V){k=!0,D=V}finally{try{R||B.return==null||B.return()}finally{if(k)throw D}}return O},j.selected=function(O){var R=null;if(O===void 0){var k=!0,D=!1,L=void 0;try{for(var B,F=j._getOptionsArray()[Symbol.iterator]();!(k=(B=F.next()).done);k=!0){var V=B.value;if(V.checked){R=V;break}}}catch(K){D=!0,L=K}finally{try{k||F.return==null||F.return()}finally{if(D)throw L}}}else{j._getOptionsArray().forEach(function(A){A.checked=!1,A.removeAttribute("checked")});var q=!0,D=!1,L=void 0;try{for(var G,W=j._getOptionsArray()[Symbol.iterator]();!(q=(G=W.next()).done);q=!0){var $=G.value;$.value===O&&($.setAttribute("checked",!0),$.checked=!0,R=$)}}catch(A){D=!0,L=A}finally{try{q||W.return==null||W.return()}finally{if(D)throw L}}}return R},j.disable=function(){var O=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],R=!0,k=!1,D=void 0;try{for(var L,B=j._getOptionsArray()[Symbol.iterator]();!(R=(L=B.next()).done);R=!0)L.value.setAttribute("disabled",O)}catch(F){k=!0,D=F}finally{try{R||B.return==null||B.return()}finally{if(k)throw D}}},j},o.default.prototype.createColorPicker=function(g){o.default._validateParameters("createColorPicker",arguments);var x=document.createElement("input");return x.type="color",g?g instanceof o.default.Color?x.value=g.toString("#rrggbb"):(o.default.prototype._colorMode="rgb",o.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},x.value=o.default.prototype.color(g).toString("#rrggbb")):x.value="#000000",(x=m(x,this)).color=function(){return g&&(g.mode&&(o.default.prototype._colorMode=g.mode),g.maxes&&(o.default.prototype._colorMaxes=g.maxes)),o.default.prototype.color(this.elt.value)},x},o.default.prototype.createInput=function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",j=(o.default._validateParameters("createInput",arguments),document.createElement("input"));return j.setAttribute("value",g),j.setAttribute("type",x),m(j,this)},o.default.prototype.createFileInput=function(g){var x,j=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(o.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(x=document.createElement("input")).setAttribute("type","file"),j&&x.setAttribute("multiple",!0),x.addEventListener("change",function(E){var M=!0,T=!1,O=void 0;try{for(var R,k=E.target.files[Symbol.iterator]();!(M=(R=k.next()).done);M=!0){var D=R.value;o.default.File._load(D,g)}}catch(L){T=!0,O=L}finally{try{M||k.return==null||k.return()}finally{if(T)throw O}}},!1),m(x,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},o.default.prototype.createVideo=function(g,x){return o.default._validateParameters("createVideo",arguments),v(this,"video",g,x)},o.default.prototype.createAudio=function(g,x){return o.default._validateParameters("createAudio",arguments),v(this,"audio",g,x)},o.default.prototype.VIDEO="video",o.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(g){var x=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return x?new Promise(function(j,E){x.call(navigator,g,j,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),o.default.prototype.createCapture=function(){for(var g=arguments.length,x=new Array(g),j=0;j<g;j++)x[j]=arguments[j];if(o.default._validateParameters("createCapture",x),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var E,M=!0,T=!0,O=0,R=x;O<R.length;O++){var k=R[O];k===o.default.prototype.VIDEO?T=!1:k===o.default.prototype.AUDIO?M=!1:p(k)==="object"?D=k:typeof k=="function"&&(E=k)}var D=D||{video:M,audio:T},L=document.createElement("video"),B=(L.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(D).then(function(F){try{"srcObject"in L?L.srcObject=F:L.src=window.URL.createObjectURL(F)}catch{L.src=F}},console.log),m(L,this,!0));return B.loadedmetadata=!1,L.addEventListener("loadedmetadata",function(){L.play(),L.width?(B.width=L.width,B.height=L.height):(B.width=B.elt.width=L.videoWidth,B.height=B.elt.height=L.videoHeight),B.loadedmetadata=!0,E&&E(L.srcObject)}),B},o.default.prototype.createElement=function(g,x){return o.default._validateParameters("createElement",arguments),g=document.createElement(g),x!==void 0&&(g.innerHTML=x),m(g,this)},o.default.Element.prototype.addClass=function(g){return this.elt.className?this.hasClass(g)||(this.elt.className=this.elt.className+" "+g):this.elt.className=g,this},o.default.Element.prototype.removeClass=function(g){return this.elt.classList.remove(g),this},o.default.Element.prototype.hasClass=function(g){return this.elt.classList.contains(g)},o.default.Element.prototype.toggleClass=function(g){return this.elt.classList.contains(g)?this.elt.classList.remove(g):this.elt.classList.add(g),this},o.default.Element.prototype.child=function(g){return g===void 0?this.elt.childNodes:(typeof g=="string"?(g[0]==="#"&&(g=g.substring(1)),g=document.getElementById(g)):g instanceof o.default.Element&&(g=g.elt),g instanceof HTMLElement&&this.elt.appendChild(g),this)},o.default.Element.prototype.center=function(g){var x=this.elt.style.display,j=this.elt.style.display==="none",E=this.parent().style.display==="none",M={x:this.elt.offsetLeft,y:this.elt.offsetTop},T=(j&&this.show(),E&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),O=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return g==="both"||g===void 0?this.position(T/2+this.parent().offsetLeft,O/2+this.parent().offsetTop):g==="horizontal"?this.position(T/2+this.parent().offsetLeft,M.y):g==="vertical"&&this.position(M.x,O/2+this.parent().offsetTop),this.style("display",x),j&&this.hide(),E&&this.parent().hide(),this},o.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},o.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},o.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var g="";return this.elt.style.transform&&(g=(g=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=g,this},o.default.Element.prototype._rotate=function(){var g="";return this.elt.style.transform&&(g=(g=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=g,this},o.default.Element.prototype.style=function(g,x){if((x=x instanceof o.default.Color?"rgba("+x.levels[0]+","+x.levels[1]+","+x.levels[2]+","+x.levels[3]/255+")":x)===void 0){if(g.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(g);for(var j=g.split(";"),E=0;E<j.length;E++){var M=j[E].split(":");M[0]&&M[1]&&(this.elt.style[M[0].trim()]=M[1].trim())}}else this.elt.style[g]=x,g!=="width"&&g!=="height"&&g!=="left"&&g!=="top"||(x=window.getComputedStyle(this.elt).getPropertyValue(g).replace(/[^\d.]/g,""),this[g]=Math.round(parseFloat(x,10)));return this},o.default.Element.prototype.attribute=function(g,x){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return x===void 0?this.elt.getAttribute(g):(this.elt.setAttribute(g,x),this);if(x===void 0)return this.elt.firstChild.getAttribute(g);for(var j=0;j<this.elt.childNodes.length;j++)this.elt.childNodes[j].setAttribute(g,x)},o.default.Element.prototype.removeAttribute=function(g){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var x=0;x<this.elt.childNodes.length;x++)this.elt.childNodes[x].removeAttribute(g);return this.elt.removeAttribute(g),this},o.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},o.default.Element.prototype.show=function(){return this.elt.style.display="block",this},o.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},o.default.Element.prototype.size=function(g,x){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var j=g,E=x,M=o.default.prototype.AUTO;if(j!==M||E!==M){if(j===M?j=x*this.width/this.height:E===M&&(E=g*this.height/this.width),this.elt instanceof HTMLCanvasElement){var T,O={},R=this.elt.getContext("2d");for(T in R)O[T]=R[T];for(T in this.elt.setAttribute("width",j*this._pInst._pixelDensity),this.elt.setAttribute("height",E*this._pInst._pixelDensity),this.elt.style.width=j+"px",this.elt.style.height=E+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),O)this.elt.getContext("2d")[T]=O[T]}else this.elt.style.width=j+"px",this.elt.style.height=E+"px",this.elt.width=j,this.elt.height=E;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},o.default.Element.prototype.remove=function(){this instanceof o.default.MediaElement&&(this.stop(),(x=this.elt.srcObject)!==null&&x.getTracks().forEach(function(j){j.stop()}));var g,x=this._pInst._elements.indexOf(this);for(g in x!==-1&&this._pInst._elements.splice(x,1),this._events)this.elt.removeEventListener(g,this._events[g]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},o.default.Element.prototype.drop=function(g,x){var j;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",j=function(E){E.preventDefault()}),this.elt.addEventListener("dragleave",j)),o.default.Element._attachListener("drop",function(M){M.preventDefault(),typeof x=="function"&&x.call(this,M);var M=M.dataTransfer.files,T=!0,O=!1,R=void 0;try{for(var k,D=M[Symbol.iterator]();!(T=(k=D.next()).done);T=!0){var L=k.value;o.default.File._load(L,g)}}catch(B){O=!0,R=B}finally{try{T||D.return==null||D.return()}finally{if(O)throw R}}},this)):console.log("The File APIs are not fully supported in this browser."),this},o.default.Element.prototype.draggable=function(g){var x,j="ontouchstart"in window,E=0,M=0,T=0,O=0,R=j?"touchend":"mouseup",k=j?"touchmove":"mousemove";function D(B){var F;B=B||window.event,O=j?(F=B.changedTouches,E=T-parseInt(F[0].clientX),M=O-parseInt(F[0].clientY),T=parseInt(F[0].clientX),parseInt(F[0].clientY)):(E=T-parseInt(B.clientX),M=O-parseInt(B.clientY),T=parseInt(B.clientX),parseInt(B.clientY)),g.style.left=g.offsetLeft-E+"px",g.style.top=g.offsetTop-M+"px"}function L(){document.removeEventListener(R,L,!1),document.removeEventListener(k,D,!1)}return g===void 0?x=g=this.elt:g!==this.elt&&g.elt!==this.elt&&(g=g.elt,x=this.elt),x.addEventListener(j?"touchstart":"mousedown",function(B){{var F;B=B||window.event,O=j?(F=B.changedTouches,T=parseInt(F[0].clientX),parseInt(F[0].clientY)):(T=parseInt(B.clientX),parseInt(B.clientY))}return document.addEventListener(R,L,!1),document.addEventListener(k,D,!1),!1},!1),x.style.cursor="move",this};function _(g,x,j,E){f(this,_),this.callback=g,this.time=x,this.id=j,this.val=E}t=function(g){var x=E;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),g&&b(x,g);var j=y(E);function E(M,T){f(this,E);var O=c(T=j.call(this,M,T));return T.elt.crossOrigin="anonymous",T._prevTime=0,T._cueIDCounter=0,T._cues=[],T.pixels=[],T._pixelsState=c(T),T._pixelDensity=1,T._modified=!1,T._frameOnCanvas=-1,Object.defineProperty(O,"src",{get:function(){var R=O.elt.children[0].src,k=O.elt.src===window.location.href?"":O.elt.src;return R===window.location.href?k:R},set:function(R){for(var k=0;k<O.elt.children.length;k++)O.elt.removeChild(O.elt.children[k]);var D=document.createElement("source");D.src=R,M.appendChild(D),O.elt.src=R,O.modified=!0}}),O._onended=function(){},O.elt.onended=function(){O._onended(O)},T}return u(E,[{key:"play",value:function(){var M;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(M=this.elt.play())&&M.catch&&M.catch(function(T){T.name==="NotAllowedError"?console.error(T):console.error("Media play method encountered an unexpected error",T)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var M=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(M)},{passive:!0,once:!0})}},{key:"autoplay",value:function(M){var T=this,O=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",M),M&&!O&&(M=function(){return T._setupAutoplayFailDetection()},this.elt.readyState===4?M():this.elt.addEventListener("canplay",M,{passive:!0,once:!0})),this}},{key:"volume",value:function(M){if(M===void 0)return this.elt.volume;this.elt.volume=M}},{key:"speed",value:function(M){if(M===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=M:this.presetPlaybackRate=M}},{key:"time",value:function(M){return M===void 0?this.elt.currentTime:(this.elt.currentTime=M,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var M=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&M&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];return o.default.Renderer2D.prototype.loadPixels.apply(this,T)}},{key:"updatePixels",value:function(M,T,O,R){return this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.updatePixels.call(this,M,T,O,R)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];return o.default.Renderer2D.prototype.get.apply(this,T)}},{key:"_getPixel",value:function(){this.loadPixels();for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];return o.default.Renderer2D.prototype._getPixel.apply(this,T)}},{key:"set",value:function(M,T,O){this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.set.call(this,M,T,O),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];o.default.prototype.copy.apply(this,T)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];o.default.Image.prototype.mask.apply(this,T)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(M){this._modified=M}},{key:"onended",value:function(M){return this._onended=M,this}},{key:"connect",value:function(M){var T,O;if(typeof o.default.prototype.getAudioContext=="function")T=o.default.prototype.getAudioContext(),O=o.default.soundOut.input;else try{O=(T=M.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=T.createMediaElementSource(this.elt),this.audioSourceNode.connect(O)),M?M.input?this.audioSourceNode.connect(M.input):this.audioSourceNode.connect(M):this.audioSourceNode.connect(O)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(M,k,O){var R=this._cueIDCounter++,k=new _(k,M,R,O);return this._cues.push(k),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),R}},{key:"removeCue",value:function(M){for(var T=0;T<this._cues.length;T++)this._cues[T].id===M&&(console.log(M),this._cues.splice(T,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var M=this.time(),T=0;T<this._cues.length;T++){var O=this._cues[T].time,R=this._cues[T].val;this._prevTime<O&&O<=M&&this._cues[T].callback(R)}this._prevTime=M}}]),E}(o.default.Element),o.default.MediaElement=t,t=function(){function g(x,j){f(this,g),this.file=x,this._pInst=j,j=x.type.split("/"),this.type=j[0],this.subtype=j[1],this.name=x.name,this.size=x.size,this.data=void 0}return u(g,null,[{key:"_createLoader",value:function(x,j){var E=new FileReader;return E.onload=function(M){var T,O=new o.default.File(x);O.file.type==="application/json"?O.data=JSON.parse(M.target.result):O.file.type==="text/xml"?(T=new DOMParser().parseFromString(M.target.result,"text/xml"),O.data=new o.default.XML(T.documentElement)):O.data=M.target.result,j(O)},E}},{key:"_load",value:function(x,j){var E;/^text\//.test(x.type)||x.type==="application/json"?o.default.File._createLoader(x,j).readAsText(x):/^(video|audio)\//.test(x.type)?((E=new o.default.File(x)).data=URL.createObjectURL(x),j(E)):o.default.File._createLoader(x,j).readAsDataURL(x)}}]),g}(),o.default.File=t,t=o.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240}],292:[function(t,d,a){function n(x){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(x)}function o(x){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(j){return n(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":n(j)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(g=t("../core/main"))&&g.__esModule?g:{default:g},u=function(x){if(x&&x.__esModule)return x;if(x===null||o(x)!=="object"&&typeof x!="function")return{default:x};var j=b();if(j&&j.has(x))return j.get(x);var E,M={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in x){var O;Object.prototype.hasOwnProperty.call(x,E)&&((O=T?Object.getOwnPropertyDescriptor(x,E):null)&&(O.get||O.set)?Object.defineProperty(M,E,O):M[E]=x[E])}return M.default=x,j&&j.set(x,M),M}(t("../core/constants"));function b(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,b=function(){return x},x)}s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var y=s.default.prototype.pRotationZ=0,c=0,h=0,f="clockwise",p="clockwise",m="clockwise",v=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),_=30,g=(s.default.prototype.setMoveThreshold=function(x){s.default._validateParameters("setMoveThreshold",arguments),v=x},s.default.prototype.setShakeThreshold=function(x){s.default._validateParameters("setShakeThreshold",arguments),_=x},s.default.prototype._ondeviceorientation=function(x){this._updatePRotations(),this._angleMode===u.radians&&(x.beta=x.beta*(_PI/180),x.gamma=x.gamma*(_PI/180),x.alpha=x.alpha*(_PI/180)),this._setProperty("rotationX",x.beta),this._setProperty("rotationY",x.gamma),this._setProperty("rotationZ",x.alpha),this._handleMotion()},s.default.prototype._ondevicemotion=function(x){this._updatePAccelerations(),this._setProperty("accelerationX",2*x.acceleration.x),this._setProperty("accelerationY",2*x.acceleration.y),this._setProperty("accelerationZ",2*x.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var x,j,E,M,T,O=this._isGlobal?window:this;typeof O.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>v||Math.abs(this.accelerationY-this.pAccelerationY)>v||Math.abs(this.accelerationZ-this.pAccelerationZ)>v)&&O.deviceMoved(),typeof O.deviceTurned=="function"&&(j=this.rotationX+180,x=this.pRotationX+180,E=y+180,0<j-x&&j-x<270||j-x<-270?f="clockwise":(j-x<0||270<j-x)&&(f="counter-clockwise"),f!==this.pRotateDirectionX&&(E=j),90<Math.abs(j-E)&&Math.abs(j-E)<270&&(E=j,this._setProperty("turnAxis","X"),O.deviceTurned()),this.pRotateDirectionX=f,y=E-180,x=this.rotationY+180,j=this.pRotationY+180,E=c+180,0<x-j&&x-j<270||x-j<-270?p="clockwise":(x-j<0||270<x-this.pRotationY)&&(p="counter-clockwise"),p!==this.pRotateDirectionY&&(E=x),90<Math.abs(x-E)&&Math.abs(x-E)<270&&(E=x,this._setProperty("turnAxis","Y"),O.deviceTurned()),this.pRotateDirectionY=p,c=E-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?m="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(m="counter-clockwise"),m!==this.pRotateDirectionZ&&(h=this.rotationZ),90<Math.abs(this.rotationZ-h)&&Math.abs(this.rotationZ-h)<270&&(h=this.rotationZ,this._setProperty("turnAxis","Z"),O.deviceTurned()),this.pRotateDirectionZ=m,this._setProperty("turnAxis",void 0)),typeof O.deviceShaken=="function"&&(this.pAccelerationX!==null&&(M=Math.abs(this.accelerationX-this.pAccelerationX),T=Math.abs(this.accelerationY-this.pAccelerationY)),_<M+T&&O.deviceShaken())},s.default);a.default=g},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],293:[function(t,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};n.default.prototype.isKeyPressed=!1,n.default.prototype.keyIsPressed=!1,n.default.prototype.key="",n.default.prototype.keyCode=0,n.default.prototype._onkeydown=function(o){var s;this._downKeys[o.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",o.which),this._downKeys[o.which]=!0,this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),typeof(s=this._isGlobal?window:this).keyPressed!="function"||o.charCode||s.keyPressed(o)===!1&&o.preventDefault())},n.default.prototype._onkeyup=function(o){this._downKeys[o.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),this._setProperty("keyCode",o.which);var s=this._isGlobal?window:this;typeof s.keyReleased=="function"&&s.keyReleased(o)===!1&&o.preventDefault()},n.default.prototype._onkeypress=function(o){var s;o.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",o.which),this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(o)===!1&&o.preventDefault())},n.default.prototype._onblur=function(o){this._downKeys={}},n.default.prototype.keyIsDown=function(o){return n.default._validateParameters("keyIsDown",arguments),this._downKeys[o]||!1},n.default.prototype._areDownKeys=function(){for(var o in this._downKeys)if(this._downKeys.hasOwnProperty(o)&&this._downKeys[o]===!0)return!0;return!1},t=n.default,a.default=t},{"../core/main":275}],294:[function(t,d,a){function n(y){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(y)}function o(y){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(c){return n(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":n(c)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},u=function(y){if(y&&y.__esModule)return y;if(y===null||o(y)!=="object"&&typeof y!="function")return{default:y};var c=b();if(c&&c.has(y))return c.get(y);var h,f={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in y){var m;Object.prototype.hasOwnProperty.call(y,h)&&((m=p?Object.getOwnPropertyDescriptor(y,h):null)&&(m.get||m.set)?Object.defineProperty(f,h,m):f[h]=y[h])}return f.default=y,c&&c.set(y,f),f}(t("../core/constants"));function b(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,b=function(){return y},y)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(y){var c,h,f,p,m;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(c=this._curElement.elt,h=this.width,f=this.height,(p=y)&&!p.clientX&&(p.touches?p=p.touches[0]:p.changedTouches&&(p=p.changedTouches[0])),m=c.getBoundingClientRect(),h=c.scrollWidth/h||1,c=c.scrollHeight/f||1,f={x:(p.clientX-m.left)/h,y:(p.clientY-m.top)/c,winX:p.clientX,winY:p.clientY,id:p.identifier},this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY),this._setProperty("mouseX",f.x),this._setProperty("mouseY",f.y),this._setProperty("winMouseX",f.winX),this._setProperty("winMouseY",f.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",u.CENTER):y.button===2?this._setProperty("mouseButton",u.RIGHT):this._setProperty("mouseButton",u.LEFT)},s.default.prototype._onmousemove=function(y){var c=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof c.mouseDragged=="function"?c.mouseDragged(y)===!1&&y.preventDefault():typeof c.touchMoved=="function"&&c.touchMoved(y)===!1&&y.preventDefault():typeof c.mouseMoved=="function"&&c.mouseMoved(y)===!1&&y.preventDefault()},s.default.prototype._onmousedown=function(y){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),typeof c.mousePressed=="function"?c.mousePressed(y)===!1&&y.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof c.touchStarted=="function"&&c.touchStarted(y)===!1&&y.preventDefault()},s.default.prototype._onmouseup=function(y){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof c.mouseReleased=="function"?c.mouseReleased(y)===!1&&y.preventDefault():typeof c.touchEnded=="function"&&c.touchEnded(y)===!1&&y.preventDefault()},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(y){var c=this._isGlobal?window:this;typeof c.mouseClicked=="function"&&c.mouseClicked(y)===!1&&y.preventDefault()},s.default.prototype._ondblclick=function(y){var c=this._isGlobal?window:this;typeof c.doubleClicked=="function"&&c.doubleClicked(y)===!1&&y.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(y){var c=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof c.mouseWheel=="function"&&(y.delta=y.deltaY,c.mouseWheel(y)===!1&&y.preventDefault())},s.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=s.default,a.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],295:[function(t,d,a){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(n){if(this._curElement!==null){for(var o=[],s=0;s<n.touches.length;s++)o[s]=function(m,p,v,c){var h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,f=m.getBoundingClientRect(),p=m.scrollWidth/p||1,m=m.scrollHeight/v||1,v=c.touches[h]||c.changedTouches[h];return{x:(v.clientX-f.left)/p,y:(v.clientY-f.top)/m,winX:v.clientX,winY:v.clientY,id:v.identifier}}(this._curElement.elt,this.width,this.height,n,s);this._setProperty("touches",o)}},t.default.prototype._ontouchstart=function(n){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(n),this._updateNextMouseCoords(n),this._updateMouseCoords(),typeof o.touchStarted=="function"?o.touchStarted(n)===!1&&n.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof o.mousePressed=="function"&&o.mousePressed(n)===!1&&n.preventDefault()},t.default.prototype._ontouchmove=function(n){var o=this._isGlobal?window:this;this._updateTouchCoords(n),this._updateNextMouseCoords(n),typeof o.touchMoved=="function"?o.touchMoved(n)===!1&&n.preventDefault():typeof o.mouseDragged=="function"&&o.mouseDragged(n)===!1&&n.preventDefault()},t.default.prototype._ontouchend=function(n){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(n),this._updateNextMouseCoords(n);var o=this._isGlobal?window:this;typeof o.touchEnded=="function"?o.touchEnded(n)===!1&&n.preventDefault():typeof o.mouseReleased=="function"&&o.mouseReleased(n)===!1&&n.preventDefault()},t=t.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.string.includes":191}],296:[function(t,d,a){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,o,s,u,b={_toPixels:function(y){var c,h;return y instanceof ImageData?y.data:y.getContext("2d")?y.getContext("2d").getImageData(0,0,y.width,y.height).data:y.getContext("webgl")?(h=(c=y.getContext("webgl")).drawingBufferWidth*c.drawingBufferHeight*4,h=new Uint8Array(h),c.readPixels(0,0,y.width,y.height,c.RGBA,c.UNSIGNED_BYTE,h),h):void 0},_getARGB:function(y,c){return c*=4,y[3+c]<<24&4278190080|y[c]<<16&16711680|y[1+c]<<8&65280|255&y[2+c]},_setPixels:function(y,c){for(var h,f=0,p=y.length;f<p;f++)y[0+(h=4*f)]=(16711680&c[f])>>>16,y[1+h]=(65280&c[f])>>>8,y[2+h]=255&c[f],y[3+h]=(4278190080&c[f])>>>24},_toImageData:function(y){return y instanceof ImageData?y:y.getContext("2d").getImageData(0,0,y.width,y.height)},_createImageData:function(y,c){return b._tmpCanvas=document.createElement("canvas"),b._tmpCtx=b._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(y,c)},apply:function(y,m,h){var f=y.getContext("2d"),p=f.getImageData(0,0,y.width,y.height),m=m(p,h);m instanceof ImageData?f.putImageData(m,0,0,0,0,y.width,y.height):f.putImageData(p,0,0,0,0,y.width,y.height)},threshold:function(y,c){for(var h=b._toPixels(y),f=(c===void 0&&(c=.5),Math.floor(255*c)),p=0;p<h.length;p+=4){var m=void 0,m=f<=.2126*h[p]+.7152*h[p+1]+.0722*h[p+2]?255:0;h[p]=h[p+1]=h[p+2]=m}},gray:function(y){for(var c=b._toPixels(y),h=0;h<c.length;h+=4){var f=c[h],p=c[h+1],m=c[h+2];c[h]=c[h+1]=c[h+2]=.2126*f+.7152*p+.0722*m}},opaque:function(y){for(var c=b._toPixels(y),h=0;h<c.length;h+=4)c[h+3]=255;return c},invert:function(y){for(var c=b._toPixels(y),h=0;h<c.length;h+=4)c[h]=255-c[h],c[h+1]=255-c[h+1],c[h+2]=255-c[h+2]},posterize:function(y,c){var h=b._toPixels(y);if((c=c===void 0?4:c)<2||255<c)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var f=c-1,p=0;p<h.length;p+=4){var m=h[p],v=h[p+1],_=h[p+2];h[p]=255*(m*c>>8)/f,h[p+1]=255*(v*c>>8)/f,h[p+2]=255*(_*c>>8)/f}},dilate:function(y){for(var c,h,f,p,m,v,_,g,x,j=b._toPixels(y),E=0,M=j.length?j.length/4:0,T=new Int32Array(M);E<M;)for(h=(c=E)+y.width;E<h;)p=f=b._getARGB(j,E),(x=E-1)<c&&(x=E),h<=(g=E+1)&&(g=E),(m=E-y.width)<0&&(m=0),M<=(v=E+y.width)&&(v=E),m=b._getARGB(j,m),x=b._getARGB(j,x),v=b._getARGB(j,v),(p=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<(_=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(f=x,p=_),p<(_=77*((x=b._getARGB(j,g))>>16&255)+151*(x>>8&255)+28*(255&x))&&(f=x,p=_),p<(g=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(f=m,p=g),p<(x=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(f=v,p=x),T[E++]=f;b._setPixels(j,T)},erode:function(y){for(var c,h,f,p,m,v,_,g,x,j=b._toPixels(y),E=0,M=j.length?j.length/4:0,T=new Int32Array(M);E<M;)for(h=(c=E)+y.width;E<h;)p=f=b._getARGB(j,E),(x=E-1)<c&&(x=E),h<=(g=E+1)&&(g=E),(m=E-y.width)<0&&(m=0),M<=(v=E+y.width)&&(v=E),m=b._getARGB(j,m),x=b._getARGB(j,x),v=b._getARGB(j,v),(_=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<(p=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(f=x,p=_),(_=77*((x=b._getARGB(j,g))>>16&255)+151*(x>>8&255)+28*(255&x))<p&&(f=x,p=_),(g=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<p&&(f=m,p=g),(x=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<p&&(f=v,p=x),T[E++]=f;b._setPixels(j,T)},blur:function(y,c){for(var h,f,p,m,v,_,g,x,j,E,M=b._toPixels(y),T=y.width,O=y.height,R=T*O,k=new Int32Array(R),D=0;D<R;D++)k[D]=b._getARGB(M,D);var L,B,F,V,q,G,W,$,K=new Int32Array(R),N=new Int32Array(R),A=new Int32Array(R),I=new Int32Array(R),z=0,Y=3.5*c|0;if(n!==(Y=Y<1?1:Y<248?Y:248)){o=1+(n=Y)<<1,s=new Int32Array(o),u=new Array(o);for(var J=0;J<o;J++)u[J]=new Int32Array(256);for(var ee=1,ce=Y-1;ee<Y;ee++){s[Y+ee]=s[ce]=G=ce*ce,W=u[Y+ee],$=u[ce--];for(var pe=0;pe<256;pe++)W[pe]=$[pe]=G*pe}q=s[Y]=Y*Y,W=u[Y];for(var ie=0;ie<256;ie++)W[ie]=q*ie}for(B=0;B<O;B++){for(L=0;L<T;L++){if(m=p=f=v=h=0,(_=L-n)<0)E=-_,_=0;else{if(T<=_)break;E=0}for(F=E;F<o&&!(T<=_);F++){var de=k[_+z];V=u[F],v+=V[(-16777216&de)>>>24],f+=V[(16711680&de)>>16],p+=V[(65280&de)>>8],m+=V[255&de],h+=s[F],_++}K[g=z+L]=v/h,N[g]=f/h,A[g]=p/h,I[g]=m/h}z+=T}for(j=(x=-n)*T,B=z=0;B<O;B++){for(L=0;L<T;L++){if(m=p=f=v=h=0,x<0)E=g=-x,_=L;else{if(O<=x)break;E=0,g=x,_=L+j}for(F=E;F<o&&!(O<=g);F++)V=u[F],v+=V[K[_]],f+=V[N[_]],p+=V[A[_]],m+=V[I[_]],h+=s[F],g++,_+=T;k[L+z]=v/h<<24|f/h<<16|p/h<<8|m/h}z+=T,j+=T,x++}b._setPixels(M,k)}};a.default=b},{"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int32-array":217,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234}],297:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=s(t("../core/main")),o=s(t("omggif"));function s(b){return b&&b.__esModule?b:{default:b}}function u(b){return function(y){if(Array.isArray(y)){for(var c=0,h=new Array(y.length);c<y.length;c++)h[c]=y[c];return h}}(b)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.createImage=function(b,y){return n.default._validateParameters("createImage",arguments),new n.default.Image(b,y)},n.default.prototype.saveCanvas=function(){n.default._validateParameters("saveCanvas",arguments);var b,y,c,h,f,p,m=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(b=arguments[0],m.shift()):arguments[0]instanceof n.default.Element?(b=arguments[0].elt,m.shift()):arguments[0]instanceof n.default.Framebuffer?((f=this.createGraphics((h=arguments[0]).width,h.height)).pixelDensity(pixelDensity()),h.loadPixels(),f.loadPixels(),f.pixels.set(h.pixels),f.updatePixels(),b=f.elt,m.shift()):b=this._curElement&&this._curElement.elt,1<=m.length&&(y=m[0]),c=(c=2<=m.length?m[1]:c)||n.default.prototype._checkFileExtension(y,c)[1]||"png"){default:p="image/png";break;case"jpeg":case"jpg":p="image/jpeg"}b.toBlob(function(v){n.default.prototype.downloadFile(v,y,c),f&&f.remove()},p)},n.default.prototype.encodeAndDownloadGif=function(b,y){for(var c=b.gifProperties,h=c.loopLimit,f=(h===1?h=null:h===null&&(h=0),new Uint8Array(b.width*b.height*c.numFrames)),p=[],m={},v=0;v<c.numFrames;v++){for(var _=new Set,g=c.frames[v].image.data,x=g.length,j=new Uint32Array(b.width*b.height),E=0,M=0;E<x;E+=4,M++){var T=g[E+0]<<16|g[E+1]<<8|g[E+2]<<0;_.add(T),j[M]=T}var O=u(_).sort().toString();m[O]===void 0?m[O]={freq:1,frames:[v]}:(m[O].freq+=1,m[O].frames.push(v)),p.push(j)}for(var D=[],R=Object.keys(m).sort(function(A,I){return m[I].freq-m[A].freq}),k=R[0].split(",").map(function(A){return parseInt(A)}),D=D.concat(m[k].frames),L=new Set(k),B=1;B<R.length;B++){var F=R[B].split(",").map(function(A){return parseInt(A)}).filter(function(A){return!L.has(A)});if(k.length+F.length<=256){for(var V=0;V<F.length;V++)k.push(F[V]),L.add(F[V]);D=D.concat(m[R[B]].frames)}}D=new Set(D);for(var q={},G=0;G<k.length;G++)q[k[G]]||(q[k[G]]=G);for(var W=1;W<k.length;)W<<=1;k.length=W;for(var h={loop:h,palette:new Uint32Array(k)},$=new o.default.GifWriter(f,b.width,b.height,h),K={},N=0;N<c.numFrames;N++)(function(I){var z=!D.has(I),Y=z?[]:k,J=new Uint8Array(b.width*b.height),ee={},ce=new Set,pe=(p[I].forEach(function(le,me){z?(ee[le]===void 0&&(ee[le]=Y.length,Y.push(le)),J[me]=ee[le]):J[me]=q[le],0<I&&p[I-1][me]!==le&&ce.add(le)}),{}),ie=Y.filter(function(le){return!ce.has(le)});if(0<ie.length){var ie=ie[0],de=(z?ee:q)[ie];if(0<I){for(var ue=0;ue<p[I].length;ue++)p[I-1][ue]===p[I][ue]&&(J[ue]=de);pe.transparent=de,K.frameOpts.disposal=1}}if(pe.delay=c.frames[I].delay/10,z){for(var re=1;re<Y.length;)re<<=1;Y.length=re,pe.palette=new Uint32Array(Y)}0<I&&$.addFrame(0,0,b.width,b.height,K.pixelPaletteIndex,K.frameOpts),K={pixelPaletteIndex:J,frameOpts:pe}})(N);K.frameOpts.disposal=1,$.addFrame(0,0,b.width,b.height,K.pixelPaletteIndex,K.frameOpts),h=new Blob([f.slice(0,$.end())],{type:"image/gif"}),n.default.prototype.downloadFile(h,y,"gif")},n.default.prototype.saveFrames=function(b,y,c,p,f){n.default._validateParameters("saveFrames",arguments),c=n.default.prototype.constrain(c=c||3,0,15),c*=1e3;var p=n.default.prototype.constrain(p||15,0,22),m=0,v=n.default.prototype._makeFrame,_=this._curElement.elt,g=[],x=setInterval(function(){g.push(v(b+m,y,_)),m++},1e3/p);setTimeout(function(){if(clearInterval(x),f)f(g);else for(var j=0,E=g;j<E.length;j++){var M=E[j];n.default.prototype.downloadFile(M.imageData,M.filename,M.ext)}g=[]},.01+c)},n.default.prototype._makeFrame=function(b,y,f){var h,f=this?this._curElement.elt:f;if(y)switch(y.toLowerCase()){case"png":h="image/png";break;case"jpeg":case"jpg":h="image/jpeg";break;default:h="image/png"}else y="png",h="image/png";var f=(f=f.toDataURL(h)).replace(h,"image/octet-stream"),p={};return p.imageData=f,p.filename=b,p.ext=y,p},t=n.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,omggif:248}],298:[function(t,d,a){function n(_){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(_)}function o(_){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(g){return n(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":n(g)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("regenerator-runtime/runtime");var s=f(t("../core/main")),u=f(t("../core/helpers")),b=function(_){if(_&&_.__esModule)return _;if(_===null||o(_)!=="object"&&typeof _!="function")return{default:_};var g=h();if(g&&g.has(_))return g.get(_);var x,j={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in _){var M;Object.prototype.hasOwnProperty.call(_,x)&&((M=E?Object.getOwnPropertyDescriptor(_,x):null)&&(M.get||M.set)?Object.defineProperty(j,x,M):j[x]=_[x])}return j.default=_,g&&g.set(_,j),j}(t("../core/constants")),y=f(t("omggif")),c=t("gifenc");function h(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,h=function(){return _},_)}function f(_){return _&&_.__esModule?_:{default:_}}function p(_,g,x,j,E,M,T){try{var O=_[M](T),R=O.value}catch(k){return void x(k)}O.done?g(R):Promise.resolve(R).then(j,E)}function m(_,g,x,j,E,M,T,O,R,k,D){var L,B,F,V,q,G,W,$,K;return _===b.COVER&&(L=g,F=x,W=M,$=T,G=O,K=R,B=k,V=D,q=Math.max(W/B,$/V),W/=q,$/=q,q=G,G=K,L===b.CENTER?q+=(B-W)/2:L===b.RIGHT&&(q+=B-W),F===b.CENTER?G+=(V-$)/2:F===b.BOTTOM&&(G+=V-$),O=(K={x:q,y:G,w:W,h:$}).x,R=K.y,k=K.w,D=K.h),_===b.CONTAIN&&(L=g,B=x,F=j,V=E,q=M,G=T,W=k,$=D,K=Math.max(W/q,$/G),W/=K,$/=K,K=F,F=V,L===b.CENTER?K+=(q-W)/2:L===b.RIGHT&&(K+=q-W),B===b.CENTER?F+=(G-$)/2:B===b.BOTTOM&&(F+=G-$),j=(_={x:K,y:F,w:W,h:$}).x,E=_.y,M=_.w,T=_.h),{sx:O,sy:R,sw:k,sh:D,dx:j,dy:E,dw:M,dh:T}}function v(_,g){return 0<_&&_<g?_:g}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(_,g,x){s.default._validateParameters("loadImage",arguments);var j=new s.default.Image(1,1,this),E=this,M=new Request(_,{method:"GET",mode:"cors"});return fetch(_,M).then(function(T){var O,R=T.headers.get("content-type");R===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),R&&R.includes("image/gif")?T.arrayBuffer().then(function(k){if(k){for(var k=new Uint8Array(k),D=j,L=g,B=x,F=function(z){E._decrementPreload()}.bind(E),V=new y.default.GifReader(k),q=(D.width=D.canvas.width=V.width,D.height=D.canvas.height=V.height,[]),G=V.numFrames(),W=new Uint8ClampedArray(D.width*D.height*4),$=0;$<G;$++){var K=V.frameInfo($),N=D.drawingContext.getImageData(0,0,D.width,D.height),A=(W=N.data.slice(),function(z,Y){try{Y.decodeAndBlitFrameRGBA(z,W)}catch(J){s.default._friendlyFileLoadError(8,D.src),typeof B=="function"?B(J):console.error(J)}}($,V),new ImageData(W,D.width,D.height)),A=(D.drawingContext.putImageData(A,0,0),K.delay);A===0&&(A=10),q.push({image:D.drawingContext.getImageData(0,0,D.width,D.height),delay:10*A}),K.disposal===2?D.drawingContext.clearRect(K.x,K.y,K.width,K.height):K.disposal===3&&D.drawingContext.putImageData(N,0,0,K.x,K.y,K.width,K.height)}(k=V.loopCount())===null?k=1:k===0&&(k=null),D.drawingContext.putImageData(q[0].image,0,0),1<q.length&&(D.gifProperties={displayIndex:0,loopLimit:k,loopCount:0,frames:q,numFrames:G,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof L=="function"&&L(D),F()}},function(k){typeof x=="function"?(x(k),E._decrementPreload()):console.error(k)}):((O=new Image).onload=function(){j.width=j.canvas.width=O.width,j.height=j.canvas.height=O.height,j.drawingContext.drawImage(O,0,0),j.modified=!0,typeof g=="function"&&g(j),E._decrementPreload()},O.onerror=function(k){s.default._friendlyFileLoadError(0,O.src),typeof x=="function"?(x(k),E._decrementPreload()):console.error(k)},_.indexOf("data:image/")!==0&&(O.crossOrigin="Anonymous"),O.src=_),j.modified=!0}).catch(function(T){s.default._friendlyFileLoadError(0,_),typeof x=="function"?(x(T),E._decrementPreload()):console.error(T)}),j},s.default.prototype.saveGif=function(){_=regeneratorRuntime.mark(function x(j,E){var M,T,O,R,k,D,L,B,F,V,q,G,W,$,K,N,A,I,z,Y,J,ee,ce,pe,ie,de,ue=arguments;return regeneratorRuntime.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(M=2<ue.length&&ue[2]!==void 0?ue[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof j!="string")throw TypeError("fileName parameter must be a string");re.next=3;break;case 3:if(typeof E!="number")throw TypeError("Duration parameter must be a number");re.next=5;break;case 5:if(T=M&&M.delay||0,O=M&&M.units||"seconds",R=M&&M.silent||!1,k=M&&M.notificationDuration||0,D=M&&M.notificationID||"progressBar",typeof T!="number")throw TypeError("Delay parameter must be a number");re.next=12;break;case 12:if(O!=="seconds"&&O!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');re.next=14;break;case 14:if(typeof R!="boolean")throw TypeError("Silent parameter must be a boolean");re.next=16;break;case 16:if(typeof k!="number")throw TypeError("Notification duration parameter must be a number");re.next=18;break;case 18:if(typeof D!="string")throw TypeError("Notification ID parameter must be a string");re.next=20;break;case 20:return this._recording=!0,V=this._targetFrameRate,L=(L=1/(V=V!==1/0&&V!==void 0&&V!==0?V:60)*1e3)<20?20:L,F=(B=O==="seconds"?E*V:E)+(V=O==="seconds"?T*V:T),V=V,this.frameCount=V,q=this._pixelDensity,this.pixelDensity(1),G=[],document.getElementById(D)!==null&&document.getElementById(D).remove(),R||((W=this.createP("")).id(D),W.style("font-size","16px"),W.style("font-family","Montserrat"),W.style("background-color","#ffffffa0"),W.style("padding","8px"),W.style("border-radius","10px"),W.position(0,0)),this._renderer instanceof s.default.RendererGL&&(K=this.drawingContext,$=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4)),this.noLoop(),re.next=39,Promise.resolve();case 39:if(V<F)return this.redraw(),pe=void 0,pe=this._renderer instanceof s.default.RendererGL?($=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4),K.readPixels(0,0,K.drawingBufferWidth,K.drawingBufferHeight,K.RGBA,K.UNSIGNED_BYTE,$),function(le){for(var me=parseInt(height/2),je=4*width,ye=new Uint8Array(4*width),ve=0;ve<me;++ve){var Me=ve*je,Fe=(height-ve-1)*je;ye.set(le.subarray(Me,Me+je)),le.copyWithin(Me,Fe,Fe+je),le.set(ye,Fe)}return le}($)):this.drawingContext.getImageData(0,0,this.width,this.height).data,G.push(pe),V++,R||W.html("Saved frame <b>"+G.length.toString()+"</b> out of "+B.toString()),re.next=48,new Promise(function(le){return setTimeout(le,0)});re.next=50;break;case 48:re.next=39;break;case 50:R||W.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(q),N=(0,c.GIFEncoder)(),A=function(le){for(var me=new Uint8Array(le.length*le[0].length),je=0;je<le.length;je++)me.set(le[je],je*le[0].length);var ye=(0,c.quantize)(me,256,{format:"rgba4444",oneBitAlpha:!0});return ye.length===256?ye[ye.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ye.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ye}(G),I={},z=function(le){for(var me=le.length/4,je=new Uint8Array(me),ye=0;ye<me;ye++){var ve=le[4*ye]<<24|le[4*ye+1]<<16|le[4*ye+2]<<8|le[4*ye+3];I[ve]===void 0&&(I[ve]=(0,c.nearestColorIndex)(A,le.slice(4*ye,4*(ye+1)))),je[ye]=I[ve]}return je},Y=A.length-1,J=[],ee=0;case 60:if(!(ee<G.length)){re.next=71;break}if(ce=z(G[ee]),pe=ce.slice(),ee===0)N.writeFrame(ce,this.width,this.height,{palette:A,delay:L,dispose:1});else{for(ie=0;ie<ce.length;ie++)ce[ie]===J[ie]&&(ce[ie]=Y);N.writeFrame(ce,this.width,this.height,{delay:L,transparent:!0,transparentIndex:Y,dispose:1})}return J=pe,R||W.html("Rendered frame <b>"+ee.toString()+"</b> out of "+B.toString()),re.next=68,new Promise(function(le){return setTimeout(le,0)});case 68:ee++,re.next=60;break;case 71:N.finish(),de=N.bytesView(),de=new Blob([de],{type:"image/gif"}),G=[],this._recording=!1,this.loop(),R||(W.html("Done. Downloading your gif!"),0<k&&setTimeout(function(){return W.remove()},1e3*k)),s.default.prototype.downloadFile(de,j,"gif");case 80:case"end":return re.stop()}},x,this)});var _,g=function(){var x=this,j=arguments;return new Promise(function(E,M){var T=_.apply(x,j);function O(k){p(T,E,M,O,R,"next",k)}function R(k){p(T,E,M,O,R,"throw",k)}O(void 0)})};return function(x,j){return g.apply(this,arguments)}}(),s.default.prototype.image=function(_,g,x,j,V,q,G,W,K,k,D,L){s.default._validateParameters("image",arguments);var $=_.width,B=_.height,F=(L=L||b.CENTER,D=D||b.CENTER,_.elt&&($=$!==void 0?$:_.elt.width,B=B!==void 0?B:_.elt.height),_.elt&&_.elt.videoWidth&&!_.canvas&&($=$!==void 0?$:_.elt.videoWidth,B=B!==void 0?B:_.elt.videoHeight),j||$),V=V||B,q=q||0,G=G||0,W=v(W!==void 0?W:$,$),$=v(K!==void 0?K:B,B),K=1;_.elt&&!_.canvas&&_.elt.style.width&&(K=_.elt.videoWidth&&!j?_.elt.videoWidth:_.elt.width,K/=parseInt(_.elt.style.width,10)),q*=K,G*=K,$*=K,W*=K,B=m(k,D,L,(B=u.default.modeAdjust(g,x,F,V,this._renderer._imageMode)).x,B.y,B.w,B.h,q,G,W,$),this._renderer.image(_,B.sx,B.sy,B.sw,B.sh,B.dx,B.dy,B.dw,B.dh)},s.default.prototype.tint=function(){for(var _=arguments.length,g=new Array(_),x=0;x<_;x++)g[x]=arguments[x];s.default._validateParameters("tint",g);var j=this.color.apply(this,g);this._renderer._tint=j.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(_){s.default._validateParameters("imageMode",arguments),_!==b.CORNER&&_!==b.CORNERS&&_!==b.CENTER||(this._renderer._imageMode=_)},t=s.default,a.default=t},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/helpers":271,"../core/main":275,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,gifenc:245,omggif:248,"regenerator-runtime/runtime":252}],299:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=s(t("../core/main")),o=s(t("./filters"));function s(b){return b&&b.__esModule?b:{default:b}}function u(b,y){for(var c=0;c<y.length;c++){var h=y[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(b,h.key,h)}}n.default.Image=function(){function b(h,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.width=h,this.height=f,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var y,c;return y=b,(c=[{key:"pixelDensity",value:function(h){return h!==void 0?(h<=0&&(n.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),h=1),this._pixelDensity=h,this.width/=h,this.height/=h,this):this._pixelDensity}},{key:"_animateGif",value:function(m){var f,p=this.gifProperties,m=m._lastRealFrameTime;p.lastChangeTime===0&&(p.lastChangeTime=m),p.playing&&(p.timeDisplayed=m-p.lastChangeTime,f=p.frames[p.displayIndex].delay,p.timeDisplayed>=f&&(f=Math.floor(p.timeDisplayed/f),p.timeDisplayed=0,p.lastChangeTime=m,p.displayIndex+=f,p.loopCount=Math.floor(p.displayIndex/p.numFrames),p.loopLimit!==null&&p.loopCount>=p.loopLimit?p.playing=!1:(m=p.displayIndex%p.numFrames,this.drawingContext.putImageData(p.frames[m].image,0,0),p.displayIndex=m,this.setModified(!0))))}},{key:"_setProperty",value:function(h,f){this[h]=f,this.setModified(!0)}},{key:"loadPixels",value:function(){n.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(h,f,p,m){n.default.Renderer2D.prototype.updatePixels.call(this,h,f,p,m),this.setModified(!0)}},{key:"get",value:function(h,f,p,m){return n.default._validateParameters("p5.Image.get",arguments),n.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];return n.default.Renderer2D.prototype._getPixel.apply(this,f)}},{key:"set",value:function(h,f,p){n.default.Renderer2D.prototype.set.call(this,h,f,p),this.setModified(!0)}},{key:"resize",value:function(h,f){h===0&&f===0?(h=this.canvas.width,f=this.canvas.height):h===0?h=this.canvas.width*f/this.canvas.height:f===0&&(f=this.canvas.height*h/this.canvas.width),h=Math.floor(h),f=Math.floor(f);var p=document.createElement("canvas");if(p.width=h,p.height=f,this.gifProperties)for(var m=this.gifProperties,v=0;v<m.numFrames;v++){for(var _=this.drawingContext.createImageData(h,f),g=(T=T=M=E=j=void 0,m.frames[v].image),x=_,j=0,E=0;E<x.height;E++)for(var M=0;M<x.width;M++){var T=Math.floor(M*g.width/x.width),T=4*(Math.floor(E*g.height/x.height)*g.width+T);x.data[j++]=g.data[T++],x.data[j++]=g.data[T++],x.data[j++]=g.data[T++],x.data[j++]=g.data[+T]}m.frames[v].image=_}p.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,p.width,p.height),this.canvas.width=this.width=h,this.canvas.height=this.height=f,this.drawingContext.drawImage(p,0,0,h,f,0,0,h,f),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];n.default.prototype.copy.apply(this,f)}},{key:"mask",value:function(h){var f=this.drawingContext.globalCompositeOperation,p=1,m=[h=h===void 0?this:h,0,0,(p=h instanceof n.default.Renderer?h._pInst._pixelDensity:p)*h.width,p*h.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var v=0;v<this.gifProperties.frames.length;v++)this.drawingContext.putImageData(this.gifProperties.frames[v].image,0,0),this.copy.apply(this,m),this.gifProperties.frames[v].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,m);this.drawingContext.globalCompositeOperation=f,this.setModified(!0)}},{key:"filter",value:function(h,f){o.default.apply(this.canvas,o.default[h],f),this.setModified(!0)}},{key:"blend",value:function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];n.default._validateParameters("p5.Image.blend",arguments),n.default.prototype.blend.apply(this,f),this.setModified(!0)}},{key:"setModified",value:function(h){this._modified=h}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(h,f){this.gifProperties?n.default.prototype.encodeAndDownloadGif(this,h):n.default.prototype.saveCanvas(this.canvas,h,f)}},{key:"reset",value:function(){var h;this.gifProperties&&((h=this.gifProperties).playing=!0,h.timeSinceStart=0,h.timeDisplayed=0,h.lastChangeTime=0,h.loopCount=0,h.displayIndex=0,this.drawingContext.putImageData(h.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var h;if(this.gifProperties)return(h=this.gifProperties).displayIndex%h.numFrames}},{key:"setFrame",value:function(h){var f;this.gifProperties&&(h<(f=this.gifProperties).numFrames&&0<=h?(f.timeDisplayed=0,f.lastChangeTime=0,f.displayIndex=h,this.drawingContext.putImageData(f.frames[h].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(h,f){if(this.gifProperties){var p=this.gifProperties;if(f<p.numFrames&&0<=f)p.frames[f].delay=h;else{var m=!0,f=!1,v=void 0;try{for(var _,g=p.frames[Symbol.iterator]();!(m=(_=g.next()).done);m=!0)_.value.delay=h}catch(j){f=!0,v=j}finally{try{m||g.return==null||g.return()}finally{if(f)throw v}}}}}}])&&u(y.prototype,c),b}(),t=n.default.Image,a.default=t},{"../core/main":275,"./filters":296,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],300:[function(t,d,a){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=s(t("../core/main")),o=s(t("./filters"));function s(u){return u&&u.__esModule?u:{default:u}}t("../color/p5.Color"),n.default.prototype.pixels=[],n.default.prototype.blend=function(){for(var u,b=arguments.length,y=new Array(b),c=0;c<b;c++)y[c]=arguments[c];n.default._validateParameters("blend",y),this._renderer?(u=this._renderer).blend.apply(u,y):n.default.Renderer2D.prototype.blend.apply(this,y)},n.default.prototype.copy=function(){for(var u,b,y,c,h,f,p,m,v,_=arguments.length,g=new Array(_),x=0;x<_;x++)g[x]=arguments[x];if(n.default._validateParameters("copy",g),g.length===9)u=g[0],b=g[1],y=g[2],c=g[3],h=g[4],f=g[5],p=g[6],m=g[7],v=g[8];else{if(g.length!==8)throw new Error("Signature not supported");u=this,b=g[0],y=g[1],c=g[2],h=g[3],f=g[4],p=g[5],m=g[6],v=g[7]}n.default.prototype._copyHelper(this,u,b,y,c,h,f,p,m,v)},n.default.prototype._copyHelper=function(u,b,y,c,h,f,p,m,v,_){var g=b.canvas.width/b.width,x=0,j=0;b._renderer&&b._renderer.isP3D&&(x=b.width/2,j=b.height/2),u._renderer&&u._renderer.isP3D?n.default.RendererGL.prototype.image.call(u._renderer,b,y+x,c+j,h,f,p,m,v,_):u.drawingContext.drawImage(b.canvas,g*(y+x),g*(c+j),g*h,g*f,p,m,v,_)},n.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},n.default.prototype.filter=function(){for(var u=arguments.length,b=new Array(u),y=0;y<u;y++)b[y]=arguments[y];n.default._validateParameters("filter",arguments);var p=function(){var m,v={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof n.default.Shader?v.shader=arguments.length<=0?void 0:arguments[0]:(v.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(v.value=arguments.length<=1?void 0:arguments[1]),((m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m])===!1&&(v.useWebGL=!1)),v}.apply(void 0,b),c=p.shader,h=p.operation,f=p.value,p=p.useWebGL;this._renderer.isP3D&&c?n.default.RendererGL.prototype.filter.call(this._renderer,c):p||this._renderer.isP3D?(!p&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?n.default.RendererGL.prototype.filter.call(this._renderer,h,f):((c=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),c.filter.apply(c,b),this._renderer._pInst.image(c,0,0),c.clear())):this.canvas!==void 0?o.default.apply(this.canvas,o.default[h],f):o.default.apply(this.elt,o.default[h],f)},n.default.prototype.get=function(u,b,y,c){var h;return n.default._validateParameters("get",arguments),(h=this._renderer).get.apply(h,arguments)},n.default.prototype.loadPixels=function(){for(var u=arguments.length,b=new Array(u),y=0;y<u;y++)b[y]=arguments[y];n.default._validateParameters("loadPixels",b),this._renderer.loadPixels()},n.default.prototype.set=function(u,b,y){this._renderer.set(u,b,y)},n.default.prototype.updatePixels=function(u,b,y,c){n.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(u,b,y,c)},t=n.default,a.default=t},{"../color/p5.Color":262,"../core/main":275,"./filters":296,"core-js/modules/es.array.filter":155}],301:[function(t,d,a){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=b(t("../core/main")),s=(t("whatwg-fetch"),t("es6-promise/auto"),b(t("fetch-jsonp"))),u=b(t("file-saver"));function b(f){return f&&f.__esModule?f:{default:f}}function y(f){return(y=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(f)}function c(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function h(f,p){p&&p!==!0&&p!=="true"||(p="");var m="";return(f=f||"untitled")&&f.includes(".")&&(m=f.split(".").pop()),p&&m!==p&&(m=p,f="".concat(f,".").concat(m)),[f,m]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),o.default.prototype.loadJSON=function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];o.default._validateParameters("loadJSON",p);for(var v,_,g,x=p[0],j={},E="json",M=1;M<p.length;M++){var T=p[M];typeof T=="string"?T!=="jsonp"&&T!=="json"||(E=T):typeof T=="function"?v?_=T:v=T:y(T)==="object"&&(T.hasOwnProperty("jsonpCallback")||T.hasOwnProperty("jsonpCallbackFunction"))&&(E="jsonp",g=T)}var O=this;return this.httpDo(x,"GET",g,E,function(R){for(var k in R)j[k]=R[k];v!==void 0&&v(R),O._decrementPreload()},function(R){if(o.default._friendlyFileLoadError(5,x),!_)throw R;_(R)}),j},o.default.prototype.loadStrings=function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];o.default._validateParameters("loadStrings",p);for(var v,_,g=[],x=1;x<p.length;x++){var j=p[x];typeof j=="function"&&(v===void 0?v=j:_===void 0&&(_=j))}var E=this;return o.default.prototype.httpDo.call(this,p[0],"GET","text",function(M){for(var T=M.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),O=0,R=T.length;O<R;O+=32768)Array.prototype.push.apply(g,T.slice(O,Math.min(O+32768,R)));v!==void 0&&v(g),E._decrementPreload()},function(M){if(o.default._friendlyFileLoadError(3,M),!_)throw M;_(M)}),g},o.default.prototype.loadTable=function(f){var p,m,v,_=!1,g=f.substring(f.lastIndexOf(".")+1,f.length);g==="csv"?v=",":g==="ssv"?v=";":g==="tsv"&&(v="	");for(var x=1;x<arguments.length;x++)typeof arguments[x]=="function"?p===void 0?p=arguments[x]:m===void 0&&(m=arguments[x]):typeof arguments[x]=="string"&&(arguments[x]==="header"&&(_=!0),arguments[x]==="csv"?v=",":arguments[x]==="ssv"?v=";":arguments[x]==="tsv"&&(v="	"));var j=new o.default.Table,E=this;return this.httpDo(f,"GET","table",function(M){for(var T,O,R={},k=0,D=[],L=0,B=null,F=function(){R.currentState=k,R.token=""},V=function(){B.push(R.token),F()},q=function(){R.currentState=4,D.push(B),B=null};;){if((T=M[L++])==null){if(R.escaped)throw new Error("Unclosed quote in file.");if(B){V(),q();break}}if(B===null&&(R.escaped=!1,B=[],F()),R.currentState===k){if(T==='"'){R.escaped=!0,R.currentState=1;continue}R.currentState=1}if(R.currentState===1&&R.escaped)if(T==='"')M[L]==='"'?(R.token+='"',L++):(R.escaped=!1,R.currentState=2);else{if(T==="\r")continue;R.token+=T}else T==="\r"?(M[L]===`
`&&L++,V(),q()):T===`
`?(V(),q()):T===v?V():R.currentState===1&&(R.token+=T)}if(_)j.columns=D.shift();else for(var G=0;G<D[0].length;G++)j.columns[G]="null";for(var W=0;W<D.length;W++)(D[W].length!==1||D[W][0]!=="undefined"&&D[W][0]!=="")&&((O=new o.default.TableRow).arr=D[W],O.obj=function($,K){if((K=K||[])===void 0)for(var N=0;N<$.length;N++)K[N.toString()]=N;return Object.fromEntries(K.map(function(A,I){return[A,$[I]]}))}(D[W],j.columns),j.addRow(O));typeof p=="function"&&p(j),E._decrementPreload()},function(M){o.default._friendlyFileLoadError(2,f),m?m(M):console.error(M)}),j},o.default.prototype.loadXML=function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];for(var v,_,g=new o.default.XML,x=1;x<p.length;x++){var j=p[x];typeof j=="function"&&(v===void 0?v=j:_===void 0&&(_=j))}var E=this;return this.httpDo(p[0],"GET","xml",function(M){for(var T in M)g[T]=M[T];v!==void 0&&v(g),E._decrementPreload()},function(M){if(o.default._friendlyFileLoadError(1,M),!_)throw M;_(M)}),g},o.default.prototype.loadBytes=function(f,p,m){var v={},_=this;return this.httpDo(f,"GET","arrayBuffer",function(g){v.bytes=new Uint8Array(g),typeof p=="function"&&p(v),_._decrementPreload()},function(g){if(o.default._friendlyFileLoadError(6,f),!m)throw g;m(g)}),v},o.default.prototype.httpGet=function(){o.default._validateParameters("httpGet",arguments);var f=Array.prototype.slice.call(arguments);return f.splice(1,0,"GET"),o.default.prototype.httpDo.apply(this,f)},o.default.prototype.httpPost=function(){o.default._validateParameters("httpPost",arguments);var f=Array.prototype.slice.call(arguments);return f.splice(1,0,"POST"),o.default.prototype.httpDo.apply(this,f)},o.default.prototype.httpDo=function(){for(var f,p,m,v={},_=0,g="text/plain",x=arguments.length-1;0<x&&typeof(x<0||arguments.length<=x?void 0:arguments[x])=="function";x--)_++;var j=arguments.length-_,E=arguments.length<=0?void 0:arguments[0];if(j==2&&typeof E=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")D=new Request(E,arguments.length<=1?void 0:arguments[1]),p=arguments.length<=2?void 0:arguments[2],m=arguments.length<=3?void 0:arguments[3];else{for(var M,T="GET",O=1;O<arguments.length;O++){var R=O<0||arguments.length<=O?void 0:arguments[O];if(typeof R=="string")R==="GET"||R==="POST"||R==="PUT"||R==="DELETE"?T=R:R==="json"||R==="jsonp"||R==="binary"||R==="arrayBuffer"||R==="xml"||R==="text"||R==="table"?f=R:M=R;else if(typeof R=="number")M=R.toString();else if(y(R)==="object")if(R.hasOwnProperty("jsonpCallback")||R.hasOwnProperty("jsonpCallbackFunction"))for(var k in R)v[k]=R[k];else g=R instanceof o.default.XML?(M=R.serialize(),"application/xml"):(M=JSON.stringify(R),"application/json");else typeof R=="function"&&(p?m=R:p=R)}var j=T==="GET"?new Headers:new Headers({"Content-Type":g}),D=new Request(E,{method:T,mode:"cors",body:M,headers:j})}return(j=(j=(f=f||(E.includes("json")?"json":E.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(E,v):fetch(D)).then(function(L){if(!L.ok)throw(B=new Error(L.body)).status=L.status,B.ok=!1,B;var B=0;switch((B=f!=="jsonp"?L.headers.get("content-length"):B)&&64e6<B&&o.default._friendlyFileLoadError(7,E),f){case"json":case"jsonp":return L.json();case"binary":return L.blob();case"arrayBuffer":return L.arrayBuffer();case"xml":return L.text().then(function(F){return F=new DOMParser().parseFromString(F,"text/xml"),new o.default.XML(F.documentElement)});default:return L.text()}})).then(p||function(){}),j.catch(m||console.error),j},window.URL=window.URL||window.webkitURL,o.default.prototype._pWriters=[],o.default.prototype.createWriter=function(f,p){var m,v;for(v in o.default.prototype._pWriters)if(o.default.prototype._pWriters[v].name===f)return m=new o.default.PrintWriter(f+this.millis(),p),o.default.prototype._pWriters.push(m),m;return m=new o.default.PrintWriter(f,p),o.default.prototype._pWriters.push(m),m},o.default.PrintWriter=function(f,p){var m=this;this.name=f,this.content="",this.write=function(v){this.content+=v},this.print=function(v){this.content+="".concat(v,`
`)},this.clear=function(){this.content=""},this.close=function(){var v,_=[];for(v in _.push(this.content),o.default.prototype.writeFile(_,f,p),o.default.prototype._pWriters)o.default.prototype._pWriters[v].name===this.name&&o.default.prototype._pWriters.splice(v,1);m.clear(),m={}}},o.default.prototype.save=function(f,p,m){var v=arguments,_=(this._curElement||this).elt;if(v.length===0)o.default.prototype.saveCanvas(_);else if(v[0]instanceof o.default.Renderer||v[0]instanceof o.default.Graphics)o.default.prototype.saveCanvas(v[0].elt,v[1],v[2]);else if(v.length===1&&typeof v[0]=="string")o.default.prototype.saveCanvas(_,v[0]);else switch(h(v[1],v[2])[1]){case"json":return void o.default.prototype.saveJSON(v[0],v[1],v[2]);case"txt":return void o.default.prototype.saveStrings(v[0],v[1],v[2]);default:v[0]instanceof Array?o.default.prototype.saveStrings(v[0],v[1],v[2]):v[0]instanceof o.default.Table?o.default.prototype.saveTable(v[0],v[1],v[2]):v[0]instanceof o.default.Image?o.default.prototype.saveCanvas(v[0].canvas,v[1]):v[0]instanceof o.default.SoundFile&&o.default.prototype.saveSound(v[0],v[1],v[2],v[3])}},o.default.prototype.saveJSON=function(f,p,m){o.default._validateParameters("saveJSON",arguments),m=m?JSON.stringify(f):JSON.stringify(f,void 0,2),this.saveStrings(m.split(`
`),p,"json")},o.default.prototype.saveJSONObject=o.default.prototype.saveJSON,o.default.prototype.saveJSONArray=o.default.prototype.saveJSON,o.default.prototype.saveStrings=function(f,p,m,v){o.default._validateParameters("saveStrings",arguments);for(var _=this.createWriter(p,m||"txt"),g=0;g<f.length;g++)v?_.write(f[g]+`\r
`):_.write(f[g]+`
`);_.close(),_.clear()},o.default.prototype.saveTable=function(f,p,m){o.default._validateParameters("saveTable",arguments),v=m===void 0?p.substring(p.lastIndexOf(".")+1,p.length):m;var v,_=this.createWriter(p,v),g=f.columns,x=v==="tsv"?"	":",";if(v!=="html"){if(g[0]!=="0"){for(var j=0;j<g.length;j++)j<g.length-1?_.write(g[j]+x):_.write(g[j]);_.write(`
`)}for(var E=0;E<f.rows.length;E++){for(var M=void 0,M=0;M<f.rows[E].arr.length;M++)M<f.rows[E].arr.length-1?v==="csv"&&String(f.rows[E].arr[M]).includes(",")?_.write('"'+f.rows[E].arr[M]+'"'+x):_.write(f.rows[E].arr[M]+x):v==="csv"&&String(f.rows[E].arr[M]).includes(",")?_.write('"'+f.rows[E].arr[M]+'"'):_.write(f.rows[E].arr[M]);_.write(`
`)}}else{if(_.print("<html>"),_.print("<head>"),_.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),_.print("</head>"),_.print("<body>"),_.print("  <table>"),g[0]!=="0"){_.print("    <tr>");for(var T=0;T<g.length;T++){var O=c(g[T]);_.print("      <td>".concat(O)),_.print("      </td>")}_.print("    </tr>")}for(var R=0;R<f.rows.length;R++){_.print("    <tr>");for(var k=0;k<f.columns.length;k++){var D=c(f.rows[R].getString(k));_.print("      <td>".concat(D)),_.print("      </td>")}_.print("    </tr>")}_.print("  </table>"),_.print("</body>"),_.print("</html>")}_.close(),_.clear()},o.default.prototype.writeFile=function(_,p,m){var v="application/octet-stream",_=(o.default.prototype._isSafari()&&(v="text/plain"),new Blob(_,{type:v}));o.default.prototype.downloadFile(_,p,m)},o.default.prototype.downloadFile=function(f,_,g){var v,_=h(_,g),g=_[0];f instanceof Blob?u.default.saveAs(f,g):((v=document.createElement("a")).href=f,v.download=g,v.onclick=function(x){document.body.removeChild(x.target),x.stopPropagation()},v.style.display="none",document.body.appendChild(v),o.default.prototype._isSafari()&&(f=(f=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(_[1],'"'),alert(f)),v.click())},o.default.prototype._checkFileExtension=h,o.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=o.default,a.default=t},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240,"es6-promise/auto":241,"fetch-jsonp":243,"file-saver":244,"whatwg-fetch":253}],302:[function(t,d,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(s,u){for(var b=0;b<u.length;b++){var y=u[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(s,y.key,y)}}n.default.Table=function(){function s(y){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var u,b;return u=s,(b=[{key:"addRow",value:function(y){if(y=y||new n.default.TableRow,y.arr===void 0||y.obj===void 0)throw new Error("invalid TableRow: ".concat(y));return(y.table=this).rows.push(y),y}},{key:"removeRow",value:function(y){this.rows[y].table=null,y=this.rows.splice(y+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(y)}},{key:"getRow",value:function(y){return this.rows[y]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(y,c){if(typeof c=="string"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].obj[c]===y)return this.rows[h]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[c]===y)return this.rows[f];return null}},{key:"findRows",value:function(y,c){var h=[];if(typeof c=="string")for(var f=0;f<this.rows.length;f++)this.rows[f].obj[c]===y&&h.push(this.rows[f]);else for(var p=0;p<this.rows.length;p++)this.rows[p].arr[c]===y&&h.push(this.rows[p]);return h}},{key:"matchRow",value:function(y,c){if(typeof c=="number"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].arr[c].match(y))return this.rows[h]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[c].match(y))return this.rows[f];return null}},{key:"matchRows",value:function(y,c){var h=[];if(typeof c=="number")for(var f=0;f<this.rows.length;f++)this.rows[f].arr[c].match(y)&&h.push(this.rows[f]);else for(var p=0;p<this.rows.length;p++)this.rows[p].obj[c].match(y)&&h.push(this.rows[p]);return h}},{key:"getColumn",value:function(y){var c=[];if(typeof y=="string")for(var h=0;h<this.rows.length;h++)c.push(this.rows[h].obj[y]);else for(var f=0;f<this.rows.length;f++)c.push(this.rows[f].arr[y]);return c}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(y){this.columns.push(y||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(y,c){for(var h=[],f=0;f<y.length;f++)h.push(y.charAt(f).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var p=new RegExp(h.join("|"),"g");if(c===void 0)for(var m=0;m<this.columns.length;m++)for(var v=0;v<this.rows.length;v++){var _=(_=this.rows[v].arr[m]).replace(p,"");this.rows[v].arr[m]=_,this.rows[v].obj[this.columns[m]]=_}else if(typeof c=="string")for(var g=0;g<this.rows.length;g++){var x=(x=this.rows[g].obj[c]).replace(p,""),j=(this.rows[g].obj[c]=x,this.columns.indexOf(c));this.rows[g].arr[j]=x}else for(var E=0;E<this.rows.length;E++){var M=(M=this.rows[E].arr[c]).replace(p,"");this.rows[E].arr[c]=M,this.rows[E].obj[this.columns[c]]=M}}},{key:"trim",value:function(y){var c=new RegExp(" ","g");if(y===void 0)for(var h=0;h<this.columns.length;h++)for(var f=0;f<this.rows.length;f++){var p=(p=this.rows[f].arr[h]).replace(c,"");this.rows[f].arr[h]=p,this.rows[f].obj[this.columns[h]]=p}else if(typeof y=="string")for(var m=0;m<this.rows.length;m++){var v=(v=this.rows[m].obj[y]).replace(c,""),_=(this.rows[m].obj[y]=v,this.columns.indexOf(y));this.rows[m].arr[_]=v}else for(var g=0;g<this.rows.length;g++){var x=(x=this.rows[g].arr[y]).replace(c,"");this.rows[g].arr[y]=x,this.rows[g].obj[this.columns[y]]=x}}},{key:"removeColumn",value:function(f){typeof f=="string"?h=this.columns.indexOf(c=f):c=this.columns[h=f];var c,h,f=this.columns.splice(h+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(f);for(var p=0;p<this.rows.length;p++){var m=this.rows[p].arr,v=m.splice(h+1,m.length);m.pop(),this.rows[p].arr=m.concat(v),delete this.rows[p].obj[c]}}},{key:"set",value:function(y,c,h){this.rows[y].set(c,h)}},{key:"setNum",value:function(y,c,h){this.rows[y].setNum(c,h)}},{key:"setString",value:function(y,c,h){this.rows[y].setString(c,h)}},{key:"get",value:function(y,c){return this.rows[y].get(c)}},{key:"getNum",value:function(y,c){return this.rows[y].getNum(c)}},{key:"getString",value:function(y,c){return this.rows[y].getString(c)}},{key:"getObject",value:function(y){for(var c,h={},f=0;f<this.rows.length;f++)if(c=this.rows[f].obj,typeof y=="string"){if(!(0<=this.columns.indexOf(y)))throw new Error('This table has no column named "'.concat(y,'"'));h[c[y]]=c}else h[f]=this.rows[f].obj;return h}},{key:"getArray",value:function(){for(var y=[],c=0;c<this.rows.length;c++)y.push(this.rows[c].arr);return y}}])&&o(u.prototype,b),s}(),t=n.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.splice":167,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196}],303:[function(t,d,a){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(o,s){for(var u=0;u<s.length;u++){var b=s[u];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}t.default.TableRow=function(){function o(b,y){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");var c=[];b&&(c=b.split(y=y||",")),this.arr=c,this.obj=Object.fromEntries(c.entries()),this.table=null}var s,u;return s=o,(u=[{key:"set",value:function(b,y){if(typeof b=="string"){var c=this.table.columns.indexOf(b);if(!(0<=c))throw new Error('This table has no column named "'.concat(b,'"'));this.obj[b]=y,this.arr[c]=y}else{if(!(b<this.table.columns.length))throw new Error("Column #".concat(b," is out of the range of this table"));this.arr[b]=y,c=this.table.columns[b],this.obj[c]=y}}},{key:"setNum",value:function(b,y){y=parseFloat(y),this.set(b,y)}},{key:"setString",value:function(b,y){y=y.toString(),this.set(b,y)}},{key:"get",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b]}},{key:"getNum",value:function(b){var y=parseFloat(typeof b=="string"?this.obj[b]:this.arr[b]);if(y.toString()==="NaN")throw"Error: ".concat(this.obj[b]," is NaN (Not a Number)");return y}},{key:"getString",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b].toString()}}])&&n(s.prototype,u),o}(),t=t.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238}],304:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(u,b){for(var y=0;y<b.length;y++){var c=b[y];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}function s(u){for(var b=[],y=0;y<u.length;y++)b.push(new n.default.XML(u[y]));return b}n.default.XML=function(){function u(c){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");c?this.DOM=c:(c=document.implementation.createDocument(null,"doc"),this.DOM=c.createElement("root"))}var b,y;return b=u,(y=[{key:"getParent",value:function(){return new n.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(c){var h=this.DOM.innerHTML,f=this.DOM.attributes,p=document.implementation.createDocument(null,"default").createElement(c);p.innerHTML=h;for(var m=0;m<f.length;m++)p.setAttribute(f[m].nodeName,f.nodeValue);this.DOM=p}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var c=[],h=0;h<this.DOM.childNodes.length;h++)c.push(this.DOM.childNodes[h].nodeName);return c}},{key:"getChildren",value:function(c){return s(c?this.DOM.getElementsByTagName(c):this.DOM.children)}},{key:"getChild",value:function(c){if(typeof c!="string")return new n.default.XML(this.DOM.children[c]);var h=!0,f=!1,p=void 0;try{for(var m,v=this.DOM.children[Symbol.iterator]();!(h=(m=v.next()).done);h=!0){var _=m.value;if(_.tagName===c)return new n.default.XML(_)}}catch(g){f=!0,p=g}finally{try{h||v.return==null||v.return()}finally{if(f)throw p}}}},{key:"addChild",value:function(c){c instanceof n.default.XML&&this.DOM.appendChild(c.DOM)}},{key:"removeChild",value:function(c){var h=-1;if(typeof c=="string"){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===c){h=f;break}}else h=c;h!==-1&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var c=[],h=!0,f=!1,p=void 0;try{for(var m,v=this.DOM.attributes[Symbol.iterator]();!(h=(m=v.next()).done);h=!0){var _=m.value;c.push(_.nodeName)}}catch(g){f=!0,p=g}finally{try{h||v.return==null||v.return()}finally{if(f)throw p}}return c}},{key:"hasAttribute",value:function(c){var h={},f=!0,p=!1,m=void 0;try{for(var v,_=this.DOM.attributes[Symbol.iterator]();!(f=(v=_.next()).done);f=!0){var g=v.value;h[g.nodeName]=g.nodeValue}}catch(x){p=!0,m=x}finally{try{f||_.return==null||_.return()}finally{if(p)throw m}}return!!h[c]}},{key:"getNum",value:function(c,h){var f={},p=!0,m=!1,v=void 0;try{for(var _,g=this.DOM.attributes[Symbol.iterator]();!(p=(_=g.next()).done);p=!0){var x=_.value;f[x.nodeName]=x.nodeValue}}catch(j){m=!0,v=j}finally{try{p||g.return==null||g.return()}finally{if(m)throw v}}return Number(f[c])||h||0}},{key:"getString",value:function(c,h){var f={},p=!0,m=!1,v=void 0;try{for(var _,g=this.DOM.attributes[Symbol.iterator]();!(p=(_=g.next()).done);p=!0){var x=_.value;f[x.nodeName]=x.nodeValue}}catch(j){m=!0,v=j}finally{try{p||g.return==null||g.return()}finally{if(m)throw v}}return f[c]?String(f[c]):h||null}},{key:"setAttribute",value:function(c,h){this.DOM.setAttribute(c,h)}},{key:"getContent",value:function(c){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||c||null}},{key:"setContent",value:function(c){this.DOM.children.length||(this.DOM.textContent=c)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&o(b.prototype,y),u}(),t=n.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],305:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};n.default.prototype.abs=Math.abs,n.default.prototype.ceil=Math.ceil,n.default.prototype.constrain=function(o,s,u){return n.default._validateParameters("constrain",arguments),Math.max(Math.min(o,u),s)},n.default.prototype.dist=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return n.default._validateParameters("dist",s),s.length===4?Math.hypot(s[2]-s[0],s[3]-s[1]):s.length===6?Math.hypot(s[3]-s[0],s[4]-s[1],s[5]-s[2]):void 0},n.default.prototype.exp=Math.exp,n.default.prototype.floor=Math.floor,n.default.prototype.lerp=function(o,s,u){return n.default._validateParameters("lerp",arguments),u*(s-o)+o},n.default.prototype.log=Math.log,n.default.prototype.mag=function(o,s){return n.default._validateParameters("mag",arguments),Math.hypot(o,s)},n.default.prototype.map=function(o,s,u,b,y,c){return n.default._validateParameters("map",arguments),o=(o-s)/(u-s)*(y-b)+b,c?b<y?this.constrain(o,b,y):this.constrain(o,y,b):o},n.default.prototype.max=function(){for(var o=function(y){var c=-1/0,h=!0,f=!1,p=void 0;try{for(var m,v=y[Symbol.iterator]();!(h=(m=v.next()).done);h=!0)var _=m.value,c=c<_?_:c}catch(g){f=!0,p=g}finally{try{h||v.return==null||v.return()}finally{if(f)throw p}}return c},s=arguments.length,u=new Array(s),b=0;b<s;b++)u[b]=arguments[b];return u[0]instanceof Array?o(u[0]):o(u)},n.default.prototype.min=function(){for(var o=function(y){var c=1/0,h=!0,f=!1,p=void 0;try{for(var m,v=y[Symbol.iterator]();!(h=(m=v.next()).done);h=!0)var _=m.value,c=_<c?_:c}catch(g){f=!0,p=g}finally{try{h||v.return==null||v.return()}finally{if(f)throw p}}return c},s=arguments.length,u=new Array(s),b=0;b<s;b++)u[b]=arguments[b];return u[0]instanceof Array?o(u[0]):o(u)},n.default.prototype.norm=function(o,s,u){return n.default._validateParameters("norm",arguments),this.map(o,s,u,0,1)},n.default.prototype.pow=Math.pow,n.default.prototype.round=function(o,s){return s?(s=Math.pow(10,s),Math.round(o*s)/s):Math.round(o)},n.default.prototype.sq=function(o){return o*o},n.default.prototype.sqrt=Math.sqrt,n.default.prototype.fract=function(b){n.default._validateParameters("fract",arguments);var s,u=0,b=Number(b);return isNaN(b)||Math.abs(b)===1/0?b:(b<0&&(b=-b,u=1),String(b).includes(".")&&!String(b).includes("e")?(s=String(b),s=+("0"+s.slice(s.indexOf("."))),Math.abs(u-s)):b<1?Math.abs(u-b):0)},t=n.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],306:[function(t,d,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(u,b,y){return(o=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(c,h,f){var p=[null];return p.push.apply(p,h),h=new(Function.bind.apply(c,p)),f&&s(h,f.prototype),h}).apply(null,arguments)}function s(u,b){return(s=Object.setPrototypeOf||function(y,c){return y.__proto__=c,y})(u,b)}n.default.prototype.createVector=function(u,b,y){return this instanceof n.default?o(n.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new n.default.Vector(u,b,y)},t=n.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188}],307:[function(y,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function n(c){return .5*(1-Math.cos(c*Math.PI))}var o,s=4095,u=4,b=.5,y=(y.default.prototype.noise=function(c){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(o==null){o=new Array(4096);for(var p=0;p<4096;p++)o[p]=Math.random()}c<0&&(c=-c),h<0&&(h=-h),f<0&&(f=-f);for(var m,v,_=Math.floor(c),g=Math.floor(h),x=Math.floor(f),j=c-_,E=h-g,M=f-x,T=0,O=.5,R=0;R<u;R++){var k=_+(g<<4)+(x<<8),D=n(j),L=n(E),B=o[k&s];B+=D*(o[k+1&s]-B),m=o[k+16&s],B+=L*((m+=D*(o[k+16+1&s]-m))-B),m=o[(k+=256)&s],m+=D*(o[k+1&s]-m),v=o[k+16&s],m+=L*((v+=D*(o[k+16+1&s]-v))-m),T+=(B+=n(M)*(m-B))*O,O*=b,_<<=1,g<<=1,x<<=1,1<=(j*=2)&&(_++,j--),1<=(E*=2)&&(g++,E--),1<=(M*=2)&&(x++,M--)}return T},y.default.prototype.noiseDetail=function(c,h){0<c&&(u=c),0<h&&(b=h)},y.default.prototype.noiseSeed=function(c){p=4294967296;var h,f,p,m={setSeed:function(_){f=h=(_??Math.random()*p)>>>0},getSeed:function(){return h},rand:function(){return(f=(1664525*f+1013904223)%p)/p}};m.setSeed(c),o=new Array(4096);for(var v=0;v<4096;v++)o[v]=m.rand()},y.default);a.default=y},{"../core/main":275}],308:[function(t,d,a){function n(p){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function o(p){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(m){return n(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":n(m)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(f=t("../core/main"))&&f.__esModule?f:{default:f},u=function(p){if(p&&p.__esModule)return p;if(p===null||o(p)!=="object"&&typeof p!="function")return{default:p};var m=b();if(m&&m.has(p))return m.get(p);var v,_={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var x;Object.prototype.hasOwnProperty.call(p,v)&&((x=g?Object.getOwnPropertyDescriptor(p,v):null)&&(x.get||x.set)?Object.defineProperty(_,v,x):_[v]=p[v])}return _.default=p,m&&m.set(p,_),_}(t("../core/constants"));function b(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,b=function(){return p},p)}function y(p,m){for(var v=0;v<m.length;v++){var _=m[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function c(p,m){return p!==0&&(this.x=this.x%p),m!==0&&(this.y=this.y%m),this}function h(p,m,v){return p!==0&&(this.x=this.x%p),m!==0&&(this.y=this.y%m),v!==0&&(this.z=this.z%v),this}s.default.Vector=function(){function p(){var E=this,g=p;if(!(E instanceof g))throw new TypeError("Cannot call a class as a function");var x,j,E=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],x=(arguments.length<=2?void 0:arguments[2])||0,j=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(x=(arguments.length<=0?void 0:arguments[0])||0,j=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=x,this.y=j,this.z=E}var m,v,_;return m=p,_=[{key:"fromAngle",value:function(g,x){return new s.default.Vector((x=x===void 0?1:x)*Math.cos(g),x*Math.sin(g),0)}},{key:"fromAngles",value:function(O,M,j){j===void 0&&(j=1);var E=Math.cos(M),M=Math.sin(M),T=Math.cos(O),O=Math.sin(O);return new s.default.Vector(j*O*M,-j*T,j*O*E)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*u.TWO_PI)}},{key:"random3D",value:function(){var g=Math.random()*u.TWO_PI,x=2*Math.random()-1,E=Math.sqrt(1-x*x),j=E*Math.cos(g),E=E*Math.sin(g);return new s.default.Vector(j,E,x)}},{key:"copy",value:function(g){return g.copy(g)}},{key:"add",value:function(g,x,j){return j?j.set(g):(j=g.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),j.add(x),j}},{key:"rem",value:function(g,x){if(g instanceof s.default.Vector&&x instanceof s.default.Vector)return(g=g.copy()).rem(x),g}},{key:"sub",value:function(g,x,j){return j?j.set(g):(j=g.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),j.sub(x),j}},{key:"mult",value:function(g,x,j){return j?j.set(g):(j=g.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),j.mult(x),j}},{key:"rotate",value:function(g,x,j){return arguments.length===2?j=g.copy():(j instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),j.set(g)),j.rotate(x),j}},{key:"div",value:function(g,x,j){return j?j.set(g):(j=g.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),j.div(x),j}},{key:"dot",value:function(g,x){return g.dot(x)}},{key:"cross",value:function(g,x){return g.cross(x)}},{key:"dist",value:function(g,x){return g.dist(x)}},{key:"lerp",value:function(g,x,j,E){return E?E.set(g):(E=g.copy(),arguments.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),E.lerp(x,j),E}},{key:"slerp",value:function(g,x,j,E){return E?E.set(g):(E=g.copy(),arguments.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),E.slerp(x,j),E}},{key:"mag",value:function(g){return g.mag()}},{key:"magSq",value:function(g){return g.magSq()}},{key:"normalize",value:function(g,x){return arguments.length<2?x=g.copy():(x instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),x.set(g)),x.normalize()}},{key:"limit",value:function(g,x,j){return arguments.length<3?j=g.copy():(j instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),j.set(g)),j.limit(x)}},{key:"setMag",value:function(g,x,j){return arguments.length<3?j=g.copy():(j instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),j.set(g)),j.setMag(x)}},{key:"heading",value:function(g){return g.heading()}},{key:"angleBetween",value:function(g,x){return g.angleBetween(x)}},{key:"reflect",value:function(g,x,j){return arguments.length<3?j=g.copy():(j instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),j.set(g)),j.reflect(x)}},{key:"array",value:function(g){return g.array()}},{key:"equals",value:function(g,x){var j;return g instanceof s.default.Vector?j=g:g instanceof Array?j=new s.default.Vector().set(g):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),j.equals(x)}}],(v=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(g,x,j){return g instanceof s.default.Vector?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):Array.isArray(g)?(this.x=g[0]||0,this.y=g[1]||0,this.z=g[2]||0):(this.x=g||0,this.y=x||0,this.z=j||0),this}},{key:"copy",value:function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(g,x,j){return g instanceof s.default.Vector?(this.x+=g.x||0,this.y+=g.y||0,this.z+=g.z||0):Array.isArray(g)?(this.x+=g[0]||0,this.y+=g[1]||0,this.z+=g[2]||0):(this.x+=g||0,this.y+=x||0,this.z+=j||0),this}},{key:"rem",value:function(g,x,j){var E;if(g instanceof s.default.Vector){if([g.x,g.y,g.z].every(Number.isFinite))return M=parseFloat(g.x),T=parseFloat(g.y),E=parseFloat(g.z),h.call(this,M,T,E)}else if(Array.isArray(g)){if(g.every(function(O){return Number.isFinite(O)}))return g.length===2?c.call(this,g[0],g[1]):g.length===3?h.call(this,g[0],g[1],g[2]):void 0}else if(arguments.length===1){if(Number.isFinite(g)&&g!==0)return this.x=this.x%g,this.y=this.y%g,this.z=this.z%g,this}else if(arguments.length===2){var M=Array.prototype.slice.call(arguments);if(M.every(function(O){return Number.isFinite(O)})&&M.length===2)return c.call(this,M[0],M[1])}else if(arguments.length===3){var T=Array.prototype.slice.call(arguments);if(T.every(function(O){return Number.isFinite(O)})&&T.length===3)return h.call(this,T[0],T[1],T[2])}}},{key:"sub",value:function(g,x,j){return g instanceof s.default.Vector?(this.x-=g.x||0,this.y-=g.y||0,this.z-=g.z||0):Array.isArray(g)?(this.x-=g[0]||0,this.y-=g[1]||0,this.z-=g[2]||0):(this.x-=g||0,this.y-=x||0,this.z-=j||0),this}},{key:"mult",value:function(g,x,j){var E;return g instanceof s.default.Vector?Number.isFinite(g.x)&&Number.isFinite(g.y)&&Number.isFinite(g.z)&&typeof g.x=="number"&&typeof g.y=="number"&&typeof g.z=="number"?(this.x*=g.x,this.y*=g.y,this.z*=g.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(g)?g.every(function(M){return Number.isFinite(M)})&&g.every(function(M){return typeof M=="number"})?g.length===1?(this.x*=g[0],this.y*=g[0],this.z*=g[0]):g.length===2?(this.x*=g[0],this.y*=g[1]):g.length===3&&(this.x*=g[0],this.y*=g[1],this.z*=g[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(E=Array.prototype.slice.call(arguments)).every(function(M){return Number.isFinite(M)})&&E.every(function(M){return typeof M=="number"})?(arguments.length===1&&(this.x*=g,this.y*=g,this.z*=g),arguments.length===2&&(this.x*=g,this.y*=x),arguments.length===3&&(this.x*=g,this.y*=x,this.z*=j)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(g,x,j){if(g instanceof s.default.Vector)if(Number.isFinite(g.x)&&Number.isFinite(g.y)&&Number.isFinite(g.z)&&typeof g.x=="number"&&typeof g.y=="number"&&typeof g.z=="number"){var E=g.z===0&&this.z===0;if(g.x===0||g.y===0||!E&&g.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=g.x,this.y/=g.y,E||(this.z/=g.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(g))if(g.every(function(M){return Number.isFinite(M)})&&g.every(function(M){return typeof M=="number"})){if(g.some(function(M){return M===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;g.length===1?(this.x/=g[0],this.y/=g[0],this.z/=g[0]):g.length===2?(this.x/=g[0],this.y/=g[1]):g.length===3&&(this.x/=g[0],this.y/=g[1],this.z/=g[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(E=Array.prototype.slice.call(arguments),E.every(function(M){return Number.isFinite(M)})&&E.every(function(M){return typeof M=="number"})){if(E.some(function(M){return M===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=g,this.y/=g,this.z/=g),arguments.length===2&&(this.x/=g,this.y/=x),arguments.length===3&&(this.x/=g,this.y/=x,this.z/=j)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var g=this.x,x=this.y,j=this.z;return g*g+x*x+j*j}},{key:"dot",value:function(g,x,j){return g instanceof s.default.Vector?this.dot(g.x,g.y,g.z):this.x*(g||0)+this.y*(x||0)+this.z*(j||0)}},{key:"cross",value:function(E){var x=this.y*E.z-this.z*E.y,j=this.z*E.x-this.x*E.z,E=this.x*E.y-this.y*E.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,x,j,E):new s.default.Vector(x,j,E)}},{key:"dist",value:function(g){return g.copy().sub(this).mag()}},{key:"normalize",value:function(){var g=this.mag();return g!==0&&this.mult(1/g),this}},{key:"limit",value:function(g){var x=this.magSq();return g*g<x&&this.div(Math.sqrt(x)).mult(g),this}},{key:"setMag",value:function(g){return this.normalize().mult(g)}},{key:"heading",value:function(){var g=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(g):g}},{key:"setHeading",value:function(g){this.isPInst&&(g=this._toRadians(g));var x=this.mag();return this.x=x*Math.cos(g),this.y=x*Math.sin(g),this}},{key:"rotate",value:function(x){var x=this.heading()+x,j=(this.isPInst&&(x=this._toRadians(x)),this.mag());return this.x=Math.cos(x)*j,this.y=Math.sin(x)*j,this}},{key:"angleBetween",value:function(g){var x;return this.magSq()*g.magSq()==0?NaN:(x=this.cross(g),g=Math.atan2(x.mag(),this.dot(g))*Math.sign(x.z||1),this.isPInst?this._fromRadians(g):g)}},{key:"lerp",value:function(g,x,j,E){return g instanceof s.default.Vector?this.lerp(g.x,g.y,g.z,x):(this.x+=(g-this.x)*E||0,this.y+=(x-this.y)*E||0,this.z+=(j-this.z)*E||0,this)}},{key:"slerp",value:function(g,x){if(x!==0){if(x===1)return this.set(g);var j=this.mag(),E=g.mag();if(j*E==0)this.mult(1-x).add(g.x*x,g.y*x,g.z*x);else{var M=this.cross(g),T=M.mag(),O=Math.atan2(T,this.dot(g));if(0<T)M.x/=T,M.y/=T,M.z/=T;else{if(O<.5*Math.PI)return this.mult(1-x).add(g.x*x,g.y*x,g.z*x),this;this.z===0&&g.z===0?M.set(0,0,1):this.x!==0?M.set(this.y,-this.x,0).normalize():M.set(1,0,0)}T=M.cross(this),g=1-x+x*E/j,M=g*Math.cos(x*O),E=g*Math.sin(x*O),this.x=this.x*M+T.x*E,this.y=this.y*M+T.y*E,this.z=this.z*M+T.z*E}}return this}},{key:"reflect",value:function(g){return g.normalize(),this.sub(g.mult(2*this.dot(g)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(T,x,j){var E,M,T=T instanceof s.default.Vector?(E=T.x||0,M=T.y||0,T.z||0):Array.isArray(T)?(E=T[0]||0,M=T[1]||0,T[2]||0):(E=T||0,M=x||0,j||0);return this.x===E&&this.y===M&&this.z===T}}])&&y(m.prototype,v),_&&y(m,_),p}();var f=s.default.Vector;a.default=f},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.constructor":173,"core-js/modules/es.number.is-finite":174,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],309:[function(b,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(b=b("../core/main"))&&b.__esModule?b:{default:b},o="_lcg_random_state",s=4294967296,u=0,b=(n.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%s,this[y]/s},n.default.prototype._lcgSetSeed=function(y,c){this[y]=(c??Math.random()*s)>>>0},n.default.prototype.randomSeed=function(y){this._lcgSetSeed(o,y),this._gaussian_previous=!1},n.default.prototype.random=function(y,c){var h,f;return n.default._validateParameters("random",arguments),h=this[o]!=null?this._lcg(o):Math.random(),y===void 0?h:c===void 0?y instanceof Array?y[Math.floor(h*y.length)]:h*y:(c<y&&(f=y,y=c,c=f),h*(c-y)+y)},n.default.prototype.randomGaussian=function(y){var c,h,f,p,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)c=u,this._gaussian_previous=!1;else{for(;1<=(p=(h=this.random(2)-1)*h+(f=this.random(2)-1)*f););c=h*(p=Math.sqrt(-2*Math.log(p)/p)),u=f*p,this._gaussian_previous=!0}return c*m+(y||0)},n.default);a.default=b},{"../core/main":275}],310:[function(t,d,a){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function o(c){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(h){return n(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":n(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},u=function(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var h=b();if(h&&h.has(c))return h.get(c);var f,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var v;Object.prototype.hasOwnProperty.call(c,f)&&((v=m?Object.getOwnPropertyDescriptor(c,f):null)&&(v.get||v.set)?Object.defineProperty(p,f,v):p[f]=c[f])}return p.default=c,h&&h.set(c,p),p}(t("../core/constants"));function b(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,b=function(){return c},c)}s.default.prototype._angleMode=u.RADIANS,s.default.prototype.acos=function(c){return this._fromRadians(Math.acos(c))},s.default.prototype.asin=function(c){return this._fromRadians(Math.asin(c))},s.default.prototype.atan=function(c){return this._fromRadians(Math.atan(c))},s.default.prototype.atan2=function(c,h){return this._fromRadians(Math.atan2(c,h))},s.default.prototype.cos=function(c){return Math.cos(this._toRadians(c))},s.default.prototype.sin=function(c){return Math.sin(this._toRadians(c))},s.default.prototype.tan=function(c){return Math.tan(this._toRadians(c))},s.default.prototype.degrees=function(c){return c*u.RAD_TO_DEG},s.default.prototype.radians=function(c){return c*u.DEG_TO_RAD},s.default.prototype.angleMode=function(c){if(s.default._validateParameters("angleMode",arguments),c===void 0)return this._angleMode;c!==u.DEGREES&&c!==u.RADIANS||(this._angleMode=c)},s.default.prototype._toRadians=function(c){return this._angleMode===u.DEGREES?c*u.DEG_TO_RAD:c},s.default.prototype._toDegrees=function(c){return this._angleMode===u.RADIANS?c*u.RAD_TO_DEG:c},s.default.prototype._fromRadians=function(c){return this._angleMode===u.DEGREES?c*u.RAD_TO_DEG:c};var y=s.default;a.default=y},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],311:[function(t,d,a){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};n.default.prototype.textAlign=function(o,s){var u;return n.default._validateParameters("textAlign",arguments),(u=this._renderer).textAlign.apply(u,arguments)},n.default.prototype.textLeading=function(o){var s;return n.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},n.default.prototype.textSize=function(o){var s;return n.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},n.default.prototype.textStyle=function(o){var s;return n.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},n.default.prototype.textWidth=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];if(s[0]+="",n.default._validateParameters("textWidth",s),s[0].length===0)return 0;for(var b=s[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),y=[],c=0;c<b.length;c++)y.push(this._renderer.textWidth(b[c]));return Math.max.apply(Math,y)},n.default.prototype.textAscent=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return n.default._validateParameters("textAscent",s),this._renderer.textAscent()},n.default.prototype.textDescent=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return n.default._validateParameters("textDescent",s),this._renderer.textDescent()},n.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},n.default.prototype.textWrap=function(o){if(o!=="WORD"&&o!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(o)},t=n.default,a.default=t},{"../core/main":275,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],312:[function(t,d,a){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function o(f){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},u=c(t("../core/constants")),b=c(t("opentype.js"));function y(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,y=function(){return f},f)}function c(f){if(f&&f.__esModule)return f;if(f===null||o(f)!=="object"&&typeof f!="function")return{default:f};var p=y();if(p&&p.has(f))return p.get(f);var m,v,_={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&((v=g?Object.getOwnPropertyDescriptor(f,m):null)&&(v.get||v.set)?Object.defineProperty(_,m,v):_[m]=f[m]);return _.default=f,p&&p.set(f,_),_}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(f,p,m){s.default._validateParameters("loadFont",arguments);var v=new s.default.Font(this),_=this;return b.load(f,function(j,E){if(j)return s.default._friendlyFileLoadError(4,f),m!==void 0?m(j):void console.error(j,f);v.font=E,p!==void 0&&p(v),_._decrementPreload();var j=f.split("\\").pop().split("/").pop(),E=j.lastIndexOf("."),M=E<1?null:j.slice(E+1);["ttf","otf","woff","woff2"].includes(M)&&(M=j.slice(0,E!==-1?E:0),(j=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(M,`;
src: url(`).concat(f,`);
}
`))),document.head.appendChild(j))}),v},s.default.prototype.text=function(f,p,m,v,_){var g;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(g=this._renderer).text.apply(g,arguments):this},s.default.prototype.textFont=function(f,p){if(s.default._validateParameters("textFont",arguments),arguments.length){if(f)return this._renderer._setProperty("_textFont",f),p&&(this._renderer._setProperty("_textSize",p),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",p*u._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var h=s.default;a.default=h},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,"opentype.js":249}],313:[function(t,d,a){function n(T){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(T)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=(o=t("../core/main"))&&o.__esModule?o:{default:o},s=function(T){if(T&&T.__esModule)return T;if(T===null||b(T)!=="object"&&typeof T!="function")return{default:T};var O=u();if(O&&O.has(T))return O.get(T);var R,k={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in T){var L;Object.prototype.hasOwnProperty.call(T,R)&&((L=D?Object.getOwnPropertyDescriptor(T,R):null)&&(L.get||L.set)?Object.defineProperty(k,R,L):k[R]=T[R])}return k.default=T,O&&O.set(T,k),k}(t("../core/constants"));function u(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,u=function(){return T},T)}function b(T){return(b=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(O){return n(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":n(O)})(T)}function y(T,O){for(var R=0;R<O.length;R++){var k=O[R];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(T,k.key,k)}}function c(T,O){var R=T.length;return T[O<0?O%R+R:O%R]}function h(T,O,R,k){var D,L,B;return k?(h.tmpPoint1===void 0&&(h.tmpPoint1=[],h.tmpPoint2=[]),L=h.tmpPoint1,B=h.tmpPoint2,L.x=O.x-T.x,L.y=O.y-T.y,B.x=R.x-O.x,B.y=R.y-O.y,D=L.x*B.x+L.y*B.y,L=Math.sqrt(L.x*L.x+L.y*L.y),B=Math.sqrt(B.x*B.x+B.y*B.y),Math.acos(D/(L*B))<k):(O[0]-T[0])*(R[1]-T[1])-(R[0]-T[0])*(O[1]-T[1])==0}function f(I,Y,z,J,ee,L,B,F,V){var q=1-V,W=Math.pow(q,3),$=Math.pow(q,2),A=V*V,K=A*V,G=W*I+3*$*V*z+3*q*V*V*ee+K*B,W=W*Y+3*$*V*J+3*q*V*V*L+K*F,$=I+2*V*(z-I)+A*(ee-2*z+I),K=Y+2*V*(J-Y)+A*(L-2*J+Y),N=z+2*V*(ee-z)+A*(B-2*ee+z),A=J+2*V*(L-J)+A*(F-2*L+J),I=q*I+V*z,z=q*Y+V*J,Y=q*ee+V*B,J=q*L+V*F,ee=90-180*Math.atan2($-N,K-A)/Math.PI;return(N<$||K<A)&&(ee+=180),{x:G,y:W,m:{x:$,y:K},n:{x:N,y:A},start:{x:I,y:z},end:{x:Y,y:J},alpha:ee}}function p(T,O,R,k,D,L,B,F,V){return V==null?E(T,O,R,k,D,L,B,F):f(T,O,R,k,D,L,B,F,function(q,G,W,$,K,N,A,I,z){if(!(z<0||E(q,G,W,$,K,N,A,I)<z)){var Y,J=.5,ee=1-J;for(Y=E(q,G,W,$,K,N,A,I,ee);.01<Math.abs(Y-z);)Y=E(q,G,W,$,K,N,A,I,ee+=(Y<z?1:-1)*(J/=2));return ee}}(T,O,R,k,D,L,B,F,V))}function m(T,O,R){for(var k,D,L,B,F,V=0,q=0,G=(T=function(W,$){function K(ye,ve,Me){var Fe,Ce;if(!ye)return["C",ve.x,ve.y,ve.x,ve.y,ve.x,ve.y];switch(ye[0]in{T:1,Q:1}||(ve.qx=ve.qy=null),ye[0]){case"M":ve.X=ye[1],ve.Y=ye[2];break;case"A":ye=["C"].concat(_.apply(0,[ve.x,ve.y].concat(ye.slice(1))));break;case"S":Ce=Me==="C"||Me==="S"?(Fe=2*ve.x-ve.bx,2*ve.y-ve.by):(Fe=ve.x,ve.y),ye=["C",Fe,Ce].concat(ye.slice(1));break;case"T":Me==="Q"||Me==="T"?(ve.qx=2*ve.x-ve.qx,ve.qy=2*ve.y-ve.qy):(ve.qx=ve.x,ve.qy=ve.y),ye=["C"].concat(j(ve.x,ve.y,ve.qx,ve.qy,ye[1],ye[2]));break;case"Q":ve.qx=ye[1],ve.qy=ye[2],ye=["C"].concat(j(ve.x,ve.y,ye[1],ye[2],ye[3],ye[4]));break;case"L":ye=["C"].concat(x(ve.x,ve.y,ye[1],ye[2]));break;case"H":ye=["C"].concat(x(ve.x,ve.y,ye[1],ve.y));break;case"V":ye=["C"].concat(x(ve.x,ve.y,ve.x,ye[1]));break;case"Z":ye=["C"].concat(x(ve.x,ve.y,ve.X,ve.Y))}return ye}function N(ye,ve){if(7<ye[ve].length){ye[ve].shift();for(var Me=ye[ve];Me.length;)ce[ve]="A",Y&&(pe[ve]="A"),ye.splice(ve++,0,["C"].concat(Me.splice(0,6)));ye.splice(ve,1),I=Math.max(z.length,Y&&Y.length||0)}}function A(ye,ve,Me,Fe,Ce){ye&&ve&&ye[Ce][0]==="M"&&ve[Ce][0]!=="M"&&(ve.splice(Ce,0,["M",Fe.x,Fe.y]),Me.bx=0,Me.by=0,Me.x=ye[Ce][1],Me.y=ye[Ce][2],I=Math.max(z.length,Y&&Y.length||0))}var I,z=v(W),Y=$&&v($),J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ce=[],pe=[],ie="",de="";I=Math.max(z.length,Y&&Y.length||0);for(var ue=0;ue<I;ue++){(ie=z[ue]?z[ue][0]:ie)!=="C"&&(ce[ue]=ie,ue&&(de=ce[ue-1])),z[ue]=K(z[ue],J,de),ce[ue]!=="A"&&ie==="C"&&(ce[ue]="C"),N(z,ue),Y&&((ie=Y[ue]?Y[ue][0]:ie)!=="C"&&(pe[ue]=ie,ue&&(de=pe[ue-1])),Y[ue]=K(Y[ue],ee,de),pe[ue]!=="A"&&ie==="C"&&(pe[ue]="C"),N(Y,ue)),A(z,Y,J,ee,ue),A(Y,z,ee,J,ue);var re=z[ue],le=Y&&Y[ue],me=re.length,je=Y&&le.length;J.x=re[me-2],J.y=re[me-1],J.bx=parseFloat(re[me-4])||J.x,J.by=parseFloat(re[me-3])||J.y,ee.bx=Y&&(parseFloat(le[je-4])||ee.x),ee.by=Y&&(parseFloat(le[je-3])||ee.y),ee.x=Y&&le[je-2],ee.y=Y&&le[je-1]}return Y?[z,Y]:z}(T)).length;q<G;q++){if((L=T[q])[0]==="M")k=+L[1],D=+L[2];else{if(O<V+(B=p(k,D,L[1],L[2],L[3],L[4],L[5],L[6]))&&!R)return{x:(F=p(k,D,L[1],L[2],L[3],L[4],L[5],L[6],O-V)).x,y:F.y,alpha:F.alpha};V+=B,k=+L[5],D=+L[6]}L.shift()}return F=(F=R?V:f(k,D,L[0],L[1],L[2],L[3],L[4],L[5],1)).alpha?{x:F.x,y:F.y,alpha:F.alpha}:F}function v(T){var O=[],R=0,k=0,D=0,L=0,B=0;if(T){T[0][0]==="M"&&(D=R=+T[0][1],L=k=+T[0][2],B++,O[0]=["M",R,k]);for(var F,V,q=T.length===3&&T[0][0]==="M"&&T[1][0].toUpperCase()==="R"&&T[2][0].toUpperCase()==="Z",G=B,W=T.length;G<W;G++){if(O.push(F=[]),(V=T[G])[0]!==String.prototype.toUpperCase.call(V[0]))switch(F[0]=String.prototype.toUpperCase.call(V[0]),F[0]){case"A":F[1]=V[1],F[2]=V[2],F[3]=V[3],F[4]=V[4],F[5]=V[5],F[6]=+(V[6]+R),F[7]=+(V[7]+k);break;case"V":F[1]=+V[1]+k;break;case"H":F[1]=+V[1]+R;break;case"R":for(var $,K=2,N=($=[R,k].concat(V.slice(1))).length;K<N;K++)$[K]=+$[K]+R,$[++K]=+$[K]+k;O.pop(),O=O.concat(g($,q));break;case"M":D=+V[1]+R,L=+V[2]+k;break;default:for(var A=1,I=V.length;A<I;A++)F[A]=+V[A]+(A%2?R:k)}else if(V[0]==="R")$=[R,k].concat(V.slice(1)),O.pop(),O=O.concat(g($,q)),F=["R"].concat(V.slice(-2));else for(var z=0,Y=V.length;z<Y;z++)F[z]=V[z];switch(F[0]){case"Z":R=D,k=L;break;case"H":R=F[1];break;case"V":k=F[1];break;case"M":D=F[F.length-2],L=F[F.length-1];break;default:R=F[F.length-2],k=F[F.length-1]}}}return O}function _(T,O,R,k,Y,ce,J,F,V,q){function G(je,ye,ve){return{x:je*Math.cos(ve)-ye*Math.sin(ve),y:je*Math.sin(ve)+ye*Math.cos(ve)}}var W,I=Math.PI,z=120*I/180,$=I/180*(+Y||0),K=[],N=(q?(ue=q[0],W=q[1],ie=q[2],de=q[3]):(T=(ee=G(T,O,-$)).x,O=ee.y,1<(N=(A=(T-(F=(ee=G(F,V,-$)).x))/2)*A/(R*R)+(ee=(O-(V=ee.y))/2)*ee/(k*k))&&(R*=N=Math.sqrt(N),k*=N),N=R*R,pe=k*k,ie=(ce=(ce===J?-1:1)*Math.sqrt(Math.abs((N*pe-N*ee*ee-pe*A*A)/(N*ee*ee+pe*A*A))))*R*ee/k+(T+F)/2,de=ce*-k*A/R+(O+V)/2,ue=Math.asin(((O-de)/k).toFixed(9)),W=Math.asin(((V-de)/k).toFixed(9)),(ue=T<ie?I-ue:ue)<0&&(ue=2*I+ue),(W=F<ie?I-W:W)<0&&(W=2*I+W),J&&W<ue&&(ue-=2*I),!J&&ue<W&&(W-=2*I)),W-ue),A=(Math.abs(N)>z&&(pe=W,ee=F,ce=V,W=ue+z*(J&&ue<W?1:-1),K=_(F=ie+R*Math.cos(W),V=de+k*Math.sin(W),R,k,Y,0,J,ee,ce,[W,pe,ie,de])),N=W-ue,Math.cos(ue)),I=Math.sin(ue),z=Math.cos(W),Y=Math.sin(W),J=Math.tan(N/4),ee=4/3*R*J,ce=4/3*k*J,pe=[T,O],ie=[T+ee*I,O-ce*A],de=[F+ee*Y,V-ce*z],ue=[F,V];if(ie[0]=2*pe[0]-ie[0],ie[1]=2*pe[1]-ie[1],q)return[ie,de,ue].concat(K);for(var re=[],le=0,me=(K=[ie,de,ue].concat(K).join().split(",")).length;le<me;le++)re[le]=le%2?G(K[le-1],K[le],$).y:G(K[le],K[le+1],$).x;return re}function g(T,O){for(var R=[],k=0,D=T.length;k<D-2*!O;k+=2){var L=[{x:+T[k-2],y:+T[k-1]},{x:+T[k],y:+T[k+1]},{x:+T[k+2],y:+T[k+3]},{x:+T[k+4],y:+T[k+5]}];O?k?D-4===k?L[3]={x:+T[0],y:+T[1]}:D-2===k&&(L[2]={x:+T[0],y:+T[1]},L[3]={x:+T[2],y:+T[3]}):L[0]={x:+T[D-2],y:+T[D-1]}:D-4===k?L[3]=L[2]:k||(L[0]={x:+T[k],y:+T[k+1]}),R.push(["C",(-L[0].x+6*L[1].x+L[2].x)/6,(-L[0].y+6*L[1].y+L[2].y)/6,(L[1].x+6*L[2].x-L[3].x)/6,(L[1].y+6*L[2].y-L[3].y)/6,L[2].x,L[2].y])}return R}function x(T,O,R,k){return[T,O,R,k,R,k]}function j(T,O,R,k,D,L){return[1/3*T+2/3*R,1/3*O+2/3*k,1/3*D+2/3*R,1/3*L+2/3*k,D,L]}function E(T,O,R,k,D,L,B,F,V){for(var q=(V=1<(V=V??1)?1:V<0?0:V)/2,G=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],W=0,$=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0;K<12;K++){var A=q*G[K]+q,N=M(A,T,R,D,B),A=M(A,O,k,L,F);W+=$[K]*Math.sqrt(N*N+A*A)}return q*W}function M(T,O,R,k,D){return T*(T*(-3*O+9*R-9*k+3*D)+6*O-12*R+6*k)-3*O+3*R}o.default.Font=function(){function T(k){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");this.parent=k,this.cache={},this.font=void 0}var O,R;return O=T,(R=[{key:"textBounds",value:function(k){var D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,q=3<arguments.length?arguments[3]:void 0,B=4<arguments.length?arguments[4]:void 0,F=B&&B.renderer&&B.renderer._pInst||this.parent,V=F._renderer.drawingContext,q=(V.textAlign||s.LEFT,V.textBaseline||s.BASELINE,q||F._renderer._textSize);if(!ee){for(var G=[],W=[],$=[],K=($[0]=[],[]),N=this._scale(q),A=F._renderer.textLeading(),I=0,z=(this.font.forEachGlyph(k,D,L,q,B,function(ie,de,ue,re){var le=ie.getMetrics();ie.index===0||ie.index===10?$[I+=1]=[]:($[I].push(de+le.xMin*N),$[I].push(de+le.xMax*N),K.push(ue+I*A+-le.yMin*N),K.push(ue+I*A+-le.yMax*N))}),0<$[I].length&&(G[I]=Math.min.apply(null,$[I]),W[I]=Math.max.apply(null,$[I])),0),Y=0;Y<=I;Y++){G[Y]=Math.min.apply(null,$[Y]),W[Y]=Math.max.apply(null,$[Y]);var J=W[Y]-G[Y];z<J&&(z=J)}var V=Math.min.apply(null,G),ee={x:V,y:L=Math.min.apply(null,K),h:Math.max.apply(null,K)-L,w:z,advance:V-D},q=this._handleAlignment(F._renderer,k,ee.x,ee.y,ee.w+ee.advance);ee.x=q.x,ee.y=q.y}return ee}},{key:"textToPoints",value:function(k,D,L,B,F){var V=D,q=[],G=k.split(/\r?\n|\r|\n/g);B=B||this.parent._renderer._textSize;for(var W,$,K,N=0;N<G.length;N++){var A=0;D=V;for(var I=(I=G[N]).replace("	","  "),z=this._getGlyphs(I),Y=0;Y<z.length;Y++){if($=I,!((K=z)[W=Y].name&&K[W].name==="space"||$.length===K.length&&$[W]===" "))for(var J=function(ie){for(var de,ue=[],re=0;re<ie.length;re++)ie[re].type==="M"&&(de&&ue.push(de),de=[]),de.push(function(le){var me=[le.type];return le.type==="M"||le.type==="L"?me.push(le.x,le.y):le.type==="C"?me.push(le.x1,le.y1,le.x2,le.y2,le.x,le.y):le.type==="Q"&&me.push(le.x1,le.y1,le.x,le.y),me}(ie[re]));return ue.push(de),ue}(z[Y].getPath(D,L,B).commands),ee=0;ee<J.length;ee++)for(var ce=function(ie,de){for(var de=function(ye,ve){if(b(ye)!=="object")ye=ve;else for(var Me in ve)ye[Me]===void 0&&(ye[Me]=ve[Me]);return ye}(de,{sampleFactor:.1,simplifyThreshold:0}),ue=m(ie,0,1),re=ue/(ue*de.sampleFactor),le=[],me=0;me<ue;me+=re)le.push(m(ie,me));return de.simplifyThreshold&&function(je){for(var ye=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ve=0,Me=je.length-1;3<je.length&&0<=Me;--Me)h(c(je,Me-1),c(je,Me),c(je,Me+1),ye)&&(je.splice(Me%je.length,1),ve++)}(le,de.simplifyThreshold),le}(J[ee],F),pe=0;pe<ce.length;pe++)ce[pe].x+=A,q.push(ce[pe]);A+=z[Y].advanceWidth*this._scale(B)}L+=this.parent._renderer._textLeading}return q}},{key:"_getGlyphs",value:function(k){return this.font.stringToGlyphs(k)}},{key:"_getPath",value:function(k,V,L,B){var F=(B&&B.renderer&&B.renderer._pInst||this.parent)._renderer,V=this._handleAlignment(F,k,V,L);return this.font.getPath(k,V.x,V.y,F._textSize,B)}},{key:"_getPathData",value:function(k,D,L,B){var F=3;return typeof k=="string"&&2<arguments.length?k=this._getPath(k,D,L,B):b(D)==="object"&&(B=D),B&&typeof B.decimals=="number"&&(F=B.decimals),k.toPathData(F)}},{key:"_getSVG",value:function(k,D,L,B){var F=3;return typeof k=="string"&&2<arguments.length?k=this._getPath(k,D,L,B):b(D)==="object"&&(B=D),B&&(typeof B.decimals=="number"&&(F=B.decimals),typeof B.strokeWidth=="number"&&(k.strokeWidth=B.strokeWidth),B.fill!==void 0&&(k.fill=B.fill),B.stroke!==void 0&&(k.stroke=B.stroke)),k.toSVG(F)}},{key:"_renderPath",value:function(q,W,$,B){var F=B&&B.renderer||this.parent._renderer,V=F.drawingContext,q=(b(q)==="object"&&q.commands?q:this._getPath(q,W,$,B)).commands,G=(V.beginPath(),!0),W=!1,$=void 0;try{for(var K,N=q[Symbol.iterator]();!(G=(K=N.next()).done);G=!0){var A=K.value;A.type==="M"?V.moveTo(A.x,A.y):A.type==="L"?V.lineTo(A.x,A.y):A.type==="C"?V.bezierCurveTo(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"?V.quadraticCurveTo(A.x1,A.y1,A.x,A.y):A.type==="Z"&&V.closePath()}}catch(I){W=!0,$=I}finally{try{G||N.return==null||N.return()}finally{if(W)throw $}}return F._doStroke&&F._strokeSet&&!F._clipping&&V.stroke(),F._doFill&&!F._clipping&&(F._fillSet||F._setFill(s._DEFAULT_TEXT_FILL),V.fill()),this}},{key:"_textWidth",value:function(k,D){return this.font.getAdvanceWidth(k,D)}},{key:"_textAscent",value:function(k){return this.font.ascender*this._scale(k)}},{key:"_textDescent",value:function(k){return-this.font.descender*this._scale(k)}},{key:"_scale",value:function(k){return 1/this.font.unitsPerEm*(k||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(k,D,L,B,F){var V=k._textSize;switch(F===void 0&&(F=this._textWidth(D,V)),k._textAlign){case s.CENTER:L-=F/2;break;case s.RIGHT:L-=F}switch(k._textBaseline){case s.TOP:B+=this._textAscent(V);break;case s.CENTER:B+=this._textAscent(V)/2;break;case s.BOTTOM:B-=this._textDescent(V)}return{x:L,y:B}}}])&&y(O.prototype,R),T}(),t=o.default,a.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],314:[function(t,d,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(n,o){return n.push(o),n},t.default.prototype.arrayCopy=function(n,o,s,u,b){var y,c;n=b!==void 0?(c=Math.min(b,n.length),y=u,n.slice(o,c+o)):(c=s!==void 0?(c=s,Math.min(c,n.length)):n.length,s=o,n.slice(y=0,c)),Array.prototype.splice.apply(s,[y,c].concat(n))},t.default.prototype.concat=function(n,o){return n.concat(o)},t.default.prototype.reverse=function(n){return n.reverse()},t.default.prototype.shorten=function(n){return n.pop(),n},t.default.prototype.shuffle=function(n,o){for(var s,u,b=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(n),y=(n=o||b?n:n.slice()).length;1<y;)s=this.random(0,1)*y|0,u=n[--y],n[y]=n[s],n[s]=u;return n},t.default.prototype.sort=function(n,u){var s=u?n.slice(0,Math.min(u,n.length)):n,u=u?n.slice(Math.min(u,n.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(b,y){return b-y})).concat(u)},t.default.prototype.splice=function(n,o,s){return Array.prototype.splice.apply(n,[s,0].concat(o)),n},t.default.prototype.subset=function(n,o,s){return s!==void 0?n.slice(o,o+s):n.slice(o,n.length)},t=t.default,a.default=t},{"../core/main":275,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182}],315:[function(t,d,a){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};n.default.prototype.float=function(o){return o instanceof Array?o.map(parseFloat):parseFloat(o)},n.default.prototype.int=function(o){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return o===1/0||o==="Infinity"?1/0:o===-1/0||o==="-Infinity"?-1/0:typeof o=="string"?parseInt(o,s):typeof o=="number"?0|o:typeof o=="boolean"?o?1:0:o instanceof Array?o.map(function(u){return n.default.prototype.int(u,s)}):void 0},n.default.prototype.str=function(o){return o instanceof Array?o.map(n.default.prototype.str):String(o)},n.default.prototype.boolean=function(o){return typeof o=="number"?o!==0:typeof o=="string"?o.toLowerCase()==="true":typeof o=="boolean"?o:o instanceof Array?o.map(n.default.prototype.boolean):void 0},n.default.prototype.byte=function(o){return o=n.default.prototype.int(o,10),typeof o=="number"?(o+128)%256-128:o instanceof Array?o.map(n.default.prototype.byte):void 0},n.default.prototype.char=function(o){return typeof o!="number"||isNaN(o)?o instanceof Array?o.map(n.default.prototype.char):typeof o=="string"?n.default.prototype.char(parseInt(o,10)):void 0:String.fromCharCode(o)},n.default.prototype.unchar=function(o){return typeof o=="string"&&o.length===1?o.charCodeAt(0):o instanceof Array?o.map(n.default.prototype.unchar):void 0},n.default.prototype.hex=function(o,s){if(s=s??8,o instanceof Array)return o.map(function(b){return n.default.prototype.hex(b,s)});if(o===1/0||o===-1/0)return(o===1/0?"F":"0").repeat(s);if(typeof o=="number"){o<0&&(o=4294967295+o+1);for(var u=Number(o).toString(16).toUpperCase();u.length<s;)u="0".concat(u);return u=u.length>=s?u.substring(u.length-s,u.length):u}},n.default.prototype.unhex=function(o){return o instanceof Array?o.map(n.default.prototype.unhex):parseInt("0x".concat(o),16)},t=n.default,a.default=t},{"../core/main":275,"core-js/modules/es.array.map":164,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.repeat":195}],316:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(c=t("../core/main"))&&c.__esModule?c:{default:c};function o(h,f){return function(p){if(Array.isArray(p))return p}(h)||function(p,m){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]"){var v=[],_=!0,g=!1,x=void 0;try{for(var j,E=p[Symbol.iterator]();!(_=(j=E.next()).done)&&(v.push(j.value),!m||v.length!==m);_=!0);}catch(M){g=!0,x=M}finally{try{_||E.return==null||E.return()}finally{if(g)throw x}}return v}}(h,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(h,f,p){var v=o(h.toString().split("."),2),m=v[0],v=v[1];return p===void 0?(m=m.padStart(f,"0"),v?m+"."+v:m):(m=(h=o(h.toFixed(p).toString().split("."),2))[0],v=h[1],m=m.padStart(f,"0"),v===void 0?m:m+"."+v)}function u(v,f){var p=(v=v.toString()).indexOf("."),m=p!==-1?v.substring(p):"",v=(v=p!==-1?v.substring(0,p):v).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(f===0)m="";else if(f!==void 0)if(f>m.length)for(var _=f-(m+=p===-1?".":"").length+1,g=0;g<_;g++)m+="0";else m=m.substring(0,f+1);return v+m}function b(h){return 0<parseFloat(h)?"+".concat(h.toString()):h.toString()}function y(h){return 0<=parseFloat(h)?" ".concat(h.toString()):h.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),n.default.prototype.join=function(h,f){return n.default._validateParameters("join",arguments),h.join(f)},n.default.prototype.match=function(h,f){return n.default._validateParameters("match",arguments),h.match(f)},n.default.prototype.matchAll=function(h,f){n.default._validateParameters("matchAll",arguments);for(var p=new RegExp(f,"g"),m=p.exec(h),v=[];m!==null;)v.push(m),m=p.exec(h);return v},n.default.prototype.nf=function(h,f,p){return n.default._validateParameters("nf",arguments),h instanceof Array?h.map(function(m){return s(m,f,p)}):Object.prototype.toString.call(h)==="[object Arguments]"?h.length===3?this.nf(h[0],h[1],h[2]):h.length===2?this.nf(h[0],h[1]):this.nf(h[0]):s(h,f,p)},n.default.prototype.nfc=function(h,f){return n.default._validateParameters("nfc",arguments),h instanceof Array?h.map(function(p){return u(p,f)}):u(h,f)},n.default.prototype.nfp=function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];n.default._validateParameters("nfp",f);var m=n.default.prototype.nf.apply(this,f);return m instanceof Array?m.map(b):b(m)},n.default.prototype.nfs=function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];n.default._validateParameters("nfs",f);var m=n.default.prototype.nf.apply(this,f);return m instanceof Array?m.map(y):y(m)},n.default.prototype.split=function(h,f){return n.default._validateParameters("split",arguments),h.split(f)},n.default.prototype.splitTokens=function(h,f){var p,m;return n.default._validateParameters("splitTokens",arguments),m=f!==void 0?(m=/\]/g.exec(f=f),(p=/\[/g.exec(f))&&m?(f=f.slice(0,m.index)+f.slice(m.index+1),p=/\[/g.exec(f),f=f.slice(0,p.index)+f.slice(p.index+1),new RegExp("[\\[".concat(f,"\\]]"),"g")):m?(f=f.slice(0,m.index)+f.slice(m.index+1),new RegExp("[".concat(f,"\\]]"),"g")):p?(f=f.slice(0,p.index)+f.slice(p.index+1),new RegExp("[".concat(f,"\\[]"),"g")):new RegExp("[".concat(f,"]"),"g")):/\s/g,h.split(m).filter(function(v){return v})},n.default.prototype.trim=function(h){return n.default._validateParameters("trim",arguments),h instanceof Array?h.map(this.trim):h.trim()};var c=n.default;a.default=c},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.pad-start":194,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],317:[function(t,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,a.default=t},{"../core/main":275}],318:[function(t,d,a){function n(h){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function o(h){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(f){return n(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":n(f)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(c=t("../core/main"))&&c.__esModule?c:{default:c},u=(t("./p5.Geometry"),function(h){if(h&&h.__esModule)return h;if(h===null||o(h)!=="object"&&typeof h!="function")return{default:h};var f=b();if(f&&f.has(h))return f.get(h);var p,m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in h){var _;Object.prototype.hasOwnProperty.call(h,p)&&((_=v?Object.getOwnPropertyDescriptor(h,p):null)&&(_.get||_.set)?Object.defineProperty(m,p,_):m[p]=h[p])}return m.default=h,f&&f.set(h,m),m}(t("../core/constants")));function b(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,b=function(){return h},h)}s.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},s.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},s.default.prototype.buildGeometry=function(h){return this._renderer.buildGeometry(h)},s.default.prototype.freeGeometry=function(h){this._renderer._freeBuffers(h.gid)},s.default.prototype.plane=function(h,f,p,m){this._assert3d("plane"),s.default._validateParameters("plane",arguments),h===void 0&&(h=50),f===void 0&&(f=h),m===void 0&&(m=1);var v,_="plane|".concat(p=p===void 0?1:p,"|").concat(m);return this._renderer.geometryInHash(_)||((v=new s.default.Geometry(p,m,function(){for(var g,x,j=0;j<=this.detailY;j++)for(var E=j/this.detailY,M=0;M<=this.detailX;M++)g=M/this.detailX,x=new s.default.Vector(g-.5,E-.5,0),this.vertices.push(x),this.uvs.push(g,E)})).computeFaces().computeNormals(),p<=1&&m<=1?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(_,v)),this._renderer.drawBuffersScaled(_,h,f,1),this},s.default.prototype.box=function(h,f,p,m,v){this._assert3d("box"),s.default._validateParameters("box",arguments),h===void 0&&(h=50),f===void 0&&(f=h),p===void 0&&(p=f);var _,g=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,g=(v===void 0&&(v=g?1:4),"box|".concat(m=m===void 0?g?1:4:m,"|").concat(v));return this._renderer.geometryInHash(g)||((_=new s.default.Geometry(m,v,function(){var x=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(j,E){for(var E=4*E,M=0;M<4;M++){var T=j[M],T=new s.default.Vector((2*(1&T)-1)/2,((2&T)-1)/2,((4&T)/2-1)/2);x.vertices.push(T),x.uvs.push(1&M,(2&M)/2)}x.faces.push([E,1+E,2+E]),x.faces.push([2+E,1+E,3+E])})})).computeNormals(),m<=4&&v<=4?_._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(g,_)),this._renderer.drawBuffersScaled(g,h,f,p),this},s.default.prototype.sphere=function(h,f,p){return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(h=h===void 0?50:h,h,h,f=f===void 0?24:f,p=p===void 0?16:p),this};function y(h,f,p,m,v,_,g){h=h<=0?1:h,f=f<0?0:f,p=p<=0?h:p,m=m<3?3:m;for(var x,j,E=(_=_===void 0||_)?-2:0,M=(v=v<1?1:v)+((g=g===void 0?f!==0:g)?2:0),T=Math.atan2(h-f,p),O=Math.sin(T),R=Math.cos(T),k=E;k<=M;++k){var D=k/v,L=p*D,B=void 0,B=k<0?(D=L=0,h):v<k?(L=p,D=1,f):h+(f-h)*D;for(k!==-2&&k!==v+2||(B=0),L-=p/2,x=0;x<m;++x){var F=x/(m-1),q=2*Math.PI*F,V=Math.sin(q),q=Math.cos(q),G=(this.vertices.push(new s.default.Vector(V*B,L,q*B)),void 0),G=k<0?new s.default.Vector(0,-1,0):v<k&&f?new s.default.Vector(0,1,0):new s.default.Vector(V*R,O,q*R);this.vertexNormals.push(G),this.uvs.push(F,D)}}var W=0;if(_){for(j=0;j<m;++j)this.faces.push([W+j,W+m+(j+1)%m,W+m+j]);W+=2*m}for(k=0;k<v;++k){for(x=0;x<m;++x){var $=(x+1)%m;this.faces.push([W+x,W+$,W+m+$]),this.faces.push([W+x,W+m+$,W+m+x])}W+=m}if(g)for(W+=m,x=0;x<m;++x)this.faces.push([W+x,W+(x+1)%m,W+m])}s.default.prototype.cylinder=function(h,f,p,m,v,_){this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),h===void 0&&(h=50),f===void 0&&(f=h),m===void 0&&(m=1),_===void 0&&(_=!0),v===void 0&&(v=!0);var g,x="cylinder|".concat(p=p===void 0?24:p,"|").concat(m,"|").concat(v,"|").concat(_);return this._renderer.geometryInHash(x)||(g=new s.default.Geometry(p,m),y.call(g,1,1,1,p,m,v,_),p<=24&&m<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,g)),this._renderer.drawBuffersScaled(x,h,f,h),this},s.default.prototype.cone=function(h,f,p,m,v){this._assert3d("cone"),s.default._validateParameters("cone",arguments),h===void 0&&(h=50),f===void 0&&(f=h),m===void 0&&(m=1),v===void 0&&(v=!0);var _,g="cone|".concat(p=p===void 0?24:p,"|").concat(m,"|").concat(v);return this._renderer.geometryInHash(g)||(_=new s.default.Geometry(p,m),y.call(_,1,0,1,p,m,v,!1),p<=24&&m<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,_)),this._renderer.drawBuffersScaled(g,h,f,h),this},s.default.prototype.ellipsoid=function(h,f,p,m,v){this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),h===void 0&&(h=50),f===void 0&&(f=h),p===void 0&&(p=h),v===void 0&&(v=16);var _,g="ellipsoid|".concat(m=m===void 0?24:m,"|").concat(v);return this._renderer.geometryInHash(g)||((_=new s.default.Geometry(m,v,function(){for(var x=0;x<=this.detailY;x++)for(var j=x/this.detailY,E=Math.PI*j-Math.PI/2,M=Math.cos(E),T=Math.sin(E),O=0;O<=this.detailX;O++){var R=O/this.detailX,D=2*Math.PI*R,k=Math.cos(D),D=Math.sin(D),D=new s.default.Vector(M*D,T,M*k);this.vertices.push(D),this.vertexNormals.push(D),this.uvs.push(R,j)}})).computeFaces(),m<=24&&v<=24?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(g,_)),this._renderer.drawBuffersScaled(g,h,f,p),this},s.default.prototype.torus=function(h,g,p,m){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),h===void 0)h=50;else if(!h)return;if(g===void 0)g=10;else if(!g)return;p===void 0&&(p=24),m===void 0&&(m=16);var v,_=(g/h).toPrecision(4),g="torus|".concat(_,"|").concat(p,"|").concat(m);return this._renderer.geometryInHash(g)||((v=new s.default.Geometry(p,m,function(){for(var x=0;x<=this.detailY;x++)for(var j=x/this.detailY,E=2*Math.PI*j,M=Math.cos(E),T=Math.sin(E),O=1+_*M,R=0;R<=this.detailX;R++){var k=R/this.detailX,D=2*Math.PI*k,B=Math.cos(D),D=Math.sin(D),L=new s.default.Vector(O*B,O*D,_*T),B=new s.default.Vector(M*B,M*D,T);this.vertices.push(L),this.vertexNormals.push(B),this.uvs.push(k,j)}})).computeFaces(),p<=24&&m<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,v)),this._renderer.drawBuffersScaled(g,h,h,h),this},s.default.RendererGL.prototype.point=function(h,f,p){var m=[];return m.push(new s.default.Vector(h,f,p=p===void 0?0:p)),this._drawPoints(m,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(g){var f=g[0],p=g[1],m=g[2],v=g[3],_=g[4],g=g[5],x=(this.geometryInHash("tri")||((x=new s.default.Geometry(1,1,function(){var M=[];M.push(new s.default.Vector(0,0,0)),M.push(new s.default.Vector(1,0,0)),M.push(new s.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=M,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),x.computeNormals(),this.createBuffers("tri",x)),this.uMVMatrix.copy());try{var j=Math.sign(f*v-m*p+m*g-_*v+_*p-f*g),E=new s.default.Matrix([m-f,v-p,0,0,_-f,g-p,0,0,0,0,j,0,f,p,0,1]).mult(this.uMVMatrix);this.uMVMatrix=E,this.drawBuffers("tri")}finally{this.uMVMatrix=x}return this},s.default.RendererGL.prototype.ellipse=function(h){this.arc(h[0],h[1],h[2],h[3],0,u.TWO_PI,u.OPEN,h[4])},s.default.RendererGL.prototype.arc=function(h){var f,p=arguments[1],m=arguments[2],v=arguments[3],_=arguments[4],g=arguments[5],x=arguments[6],j=arguments[7]||25,E=(Math.abs(g-_)>=u.TWO_PI?"".concat(M="ellipse","|"):"".concat(M="arc","|").concat(_,"|").concat(g,"|").concat(x,"|")).concat(j,"|"),M=(this.geometryInHash(E)||((f=new s.default.Geometry(j,1,function(){if(_.toFixed(10)!==g.toFixed(10)){x!==u.PIE&&x!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var T=0;T<=j;T++){var R=(g-_)*(T/j)+_,O=.5+Math.cos(R)/2,R=.5+Math.sin(R)/2;this.vertices.push(new s.default.Vector(O,R,0)),this.uvs.push([O,R]),T<j-1&&(this.faces.push([0,T+1,T+2]),this.edges.push([T+1,T+2]))}switch(x){case u.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case u.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case u.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),j<=50?f._edgesToVertices(f):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(M," with more than 50 detail")),this.createBuffers(E,f)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([h,p,0]),this.uMVMatrix.scale(m,v,1),this.drawBuffers(E)}finally{this.uMVMatrix=M}return this},s.default.RendererGL.prototype.rect=function(h){var f=h[0],p=h[1],m=h[2],v=h[3];if(h[4]===void 0){var x=this._pInst._glAttributes.perPixelLighting,_=h[4]||(x?1:24),g=h[5]||(x?1:16),x="rect|".concat(_,"|").concat(g),j=(this.geometryInHash(x)||((j=new s.default.Geometry(_,g,function(){for(var G=0;G<=this.detailY;G++)for(var W=G/this.detailY,$=0;$<=this.detailX;$++){var K=$/this.detailX,N=new s.default.Vector(K,W,0);this.vertices.push(N),this.uvs.push(K,W)}0<_&&0<g&&(this.edges=[[0,_],[_,(_+1)*(g+1)-1],[(_+1)*(g+1)-1,(_+1)*g],[(_+1)*g,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(x,j)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([f,p,0]),this.uMVMatrix.scale(m,v,1),this.drawBuffers(x)}finally{this.uMVMatrix=j}}else{var x=h[4],j=h[5]===void 0?x:h[5],E=h[6]===void 0?j:h[6],h=h[7]===void 0?E:h[7],D=m,M=v,R=((D+=f)<f&&(R=f,f=D,D=R),(M+=p)<p&&(R=p,p=M,M=R),Math.min((D-f)/2,(M-p)/2)),T=(R<x&&(x=R),R<j&&(j=R),R<E&&(E=R),R<h&&(h=R),f),O=p,R=D,f=M,k=(this.beginShape(),j!==0?(this.vertex(R-j,O),this.quadraticVertex(R,O,R,O+j)):this.vertex(R,O),E!==0?(this.vertex(R,f-E),this.quadraticVertex(R,f,R-E,f)):this.vertex(R,f),h!==0?(this.vertex(T+h,f),this.quadraticVertex(T,f,T,f-h)):this.vertex(T,f),x!==0?(this.vertex(T,O+x),this.quadraticVertex(T,O,T+x,O)):this.vertex(T,O),!(this.immediateMode.geometry.uvs.length=0)),p=!1,D=void 0;try{for(var L,B=this.immediateMode.geometry.vertices[Symbol.iterator]();!(k=(L=B.next()).done);k=!0){var F=L.value,V=(F.x-T)/m,q=(F.y-O)/v;this.immediateMode.geometry.uvs.push(V,q)}}catch(A){p=!0,D=A}finally{try{k||B.return==null||B.return()}finally{if(p)throw D}}this.endShape(u.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(h,f,p,m,v,_,g,x,j,E,M,T,O,R){O===void 0&&(O=2),R===void 0&&(R=2);var k="quad|".concat(h,"|").concat(f,"|").concat(p,"|").concat(m,"|").concat(v,"|").concat(_,"|").concat(g,"|").concat(x,"|").concat(j,"|").concat(E,"|").concat(M,"|").concat(T,"|").concat(O,"|").concat(R);if(!this.geometryInHash(k)){var D=new s.default.Geometry(O,R,function(){for(var $=1/(this.detailX-1),K=1/(this.detailY-1),N=0;N<this.detailY;N++)for(var A=0;A<this.detailX;A++){var I=A*$,z=N*K;this.vertices.push(new s.default.Vector((1-I)*((1-z)*h+z*E)+I*((1-z)*m+z*g),(1-I)*((1-z)*f+z*M)+I*((1-z)*v+z*x),(1-I)*((1-z)*p+z*T)+I*((1-z)*_+z*j))),this.uvs.push([I,z])}});D.faces=[];for(var L=0;L<R-1;L++)for(var B=0;B<O-1;B++){var F=B+L*O,V=B+1+(L+1)*O,q=B+(L+1)*O;D.faces.push([F,B+1+L*O,V]),D.faces.push([F,V,q])}D.computeNormals();for(var G=[D.edges.length=0,2,3,1],W=0;W<G.length;W++)D.edges.push([G[W],G[(W+1)%G.length]]);D._edgesToVertices(),this.createBuffers(k,D)}return this.drawBuffers(k),this},s.default.RendererGL.prototype.bezier=function(h,f,p,m,v,_,g,x,j,E,M,T){arguments.length===8&&(M=x,E=g,x=_,g=v,v=m,m=p,p=_=j=T=0);var O=this._pInst._bezierDetail||20;this.beginShape();for(var R=0;R<=O;R++){var k=Math.pow(1-R/O,3),D=R/O*3*Math.pow(1-R/O,2),L=3*Math.pow(R/O,2)*(1-R/O),B=Math.pow(R/O,3);this.vertex(h*k+m*D+g*L+E*B,f*k+v*D+x*L+M*B,p*k+_*D+j*L+T*B)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(h,f,p,m,v,_,g,x,j,E,M,T){arguments.length===8&&(E=g,M=x,g=v,x=m,v=m=p,p=_=j=T=0);var O=this._pInst._curveDetail;this.beginShape();for(var R=0;R<=O;R++){var k=.5*Math.pow(R/O,3),D=.5*Math.pow(R/O,2),L=R/O*.5;this.vertex(k*(3*m-h-3*g+E)+D*(2*h-5*m+4*g-E)+L*(-h+g)+2*m*.5,k*(3*v-f-3*x+M)+D*(2*f-5*v+4*x-M)+L*(-f+x)+2*v*.5,k*(3*_-p-3*j+T)+D*(2*p-5*_+4*j-T)+L*(-p+j)+2*_*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var h,f,p,m,v,_,g=[],x=[],j=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,M=0,T=1,O=0;M<1;){if(_=parseFloat(M.toFixed(6)),this._lookUpTableBezier[O]=this._bezierCoefficients(_),T.toFixed(6)===E.toFixed(6)){_=parseFloat(T.toFixed(6))+parseFloat(M.toFixed(6)),++O,this._lookUpTableBezier[O]=this._bezierCoefficients(_);break}M+=E,T-=E,++O}}for(var R=this._lookUpTableBezier.length,k=[],D=0;D<4;D++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[3]=this.curFillColor.slice();var L=[];for(D=0;D<4;D++)L.push([]);if(L[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),L[3]=this.curStrokeColor.slice(),j===6){this.isBezier=!0;var g=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(g[0]-g[1],x[0]-x[1]),V=Math.hypot(g[1]-g[2],x[1]-x[2]),F=Math.hypot(g[2]-g[3],x[2]-x[3]),V=B+V+F;for(B/=V,F/=V,v=0;v<4;v++)k[1].push(k[0][v]*(1-B)+k[3][v]*B),k[2].push(k[0][v]*F+k[3][v]*(1-F)),L[1].push(L[0][v]*(1-B)+L[3][v]*B),L[2].push(L[0][v]*F+L[3][v]*(1-F));for(m=0;m<R;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],D=h=f=0;D<4;D++){for(v=0;v<4;v++)this.curFillColor[v]+=this._lookUpTableBezier[m][D]*k[D][v],this.curStrokeColor[v]+=this._lookUpTableBezier[m][D]*L[D][v];h+=g[D]*this._lookUpTableBezier[m][D],f+=x[D]*this._lookUpTableBezier[m][D]}this.vertex(h,f)}this.curFillColor=k[3],this.curStrokeColor=L[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(j===9){this.isBezier=!0,g=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var q=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],G=Math.hypot(g[0]-g[1],x[0]-x[1],q[0]-q[1]),V=Math.hypot(g[1]-g[2],x[1]-x[2],q[1]-q[2]),W=Math.hypot(g[2]-g[3],x[2]-x[3],q[2]-q[3]),j=G+V+W;for(G/=j,W/=j,v=0;v<4;v++)k[1].push(k[0][v]*(1-G)+k[3][v]*G),k[2].push(k[0][v]*W+k[3][v]*(1-W)),L[1].push(L[0][v]*(1-G)+L[3][v]*G),L[2].push(L[0][v]*W+L[3][v]*(1-W));for(m=0;m<R;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],D=h=f=p=0;D<4;D++){for(v=0;v<4;v++)this.curFillColor[v]+=this._lookUpTableBezier[m][D]*k[D][v],this.curStrokeColor[v]+=this._lookUpTableBezier[m][D]*L[D][v];h+=g[D]*this._lookUpTableBezier[m][D],f+=x[D]*this._lookUpTableBezier[m][D],p+=q[D]*this._lookUpTableBezier[m][D]}this.vertex(h,f,p)}this.curFillColor=k[3],this.curStrokeColor=L[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var h,f,p,m,v,_,g=[],x=[],j=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var E=1/this._lutQuadraticDetail,M=0,T=1,O=0;M<1;){if(_=parseFloat(M.toFixed(6)),this._lookUpTableQuadratic[O]=this._quadraticCoefficients(_),T.toFixed(6)===E.toFixed(6)){_=parseFloat(T.toFixed(6))+parseFloat(M.toFixed(6)),++O,this._lookUpTableQuadratic[O]=this._quadraticCoefficients(_);break}M+=E,T-=E,++O}}for(var R=this._lookUpTableQuadratic.length,k=[],D=0;D<3;D++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[2]=this.curFillColor.slice();var L=[];for(D=0;D<3;D++)L.push([]);if(L[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),L[2]=this.curStrokeColor.slice(),j===4){this.isQuadratic=!0;var g=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],B=Math.hypot(g[0]-g[1],x[0]-x[1]);for(B/=B+Math.hypot(g[1]-g[2],x[1]-x[2]),v=0;v<4;v++)k[1].push(k[0][v]*(1-B)+k[2][v]*B),L[1].push(L[0][v]*(1-B)+L[2][v]*B);for(m=0;m<R;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],D=h=f=0;D<3;D++){for(v=0;v<4;v++)this.curFillColor[v]+=this._lookUpTableQuadratic[m][D]*k[D][v],this.curStrokeColor[v]+=this._lookUpTableQuadratic[m][D]*L[D][v];h+=g[D]*this._lookUpTableQuadratic[m][D],f+=x[D]*this._lookUpTableQuadratic[m][D]}this.vertex(h,f)}this.curFillColor=k[2],this.curStrokeColor=L[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(j===6){this.isQuadratic=!0,g=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var F=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],V=Math.hypot(g[0]-g[1],x[0]-x[1],F[0]-F[1]);for(V/=V+Math.hypot(g[1]-g[2],x[1]-x[2],F[1]-F[2]),v=0;v<4;v++)k[1].push(k[0][v]*(1-V)+k[2][v]*V),L[1].push(L[0][v]*(1-V)+L[2][v]*V);for(m=0;m<R;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],D=h=f=p=0;D<3;D++){for(v=0;v<4;v++)this.curFillColor[v]+=this._lookUpTableQuadratic[m][D]*k[D][v],this.curStrokeColor[v]+=this._lookUpTableQuadratic[m][D]*L[D][v];h+=g[D]*this._lookUpTableQuadratic[m][D],f+=x[D]*this._lookUpTableQuadratic[m][D],p+=F[D]*this._lookUpTableQuadratic[m][D]}this.vertex(h,f,p)}this.curFillColor=k[2],this.curStrokeColor=L[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var h,f,p,m,v,_,g=[],x=[],j=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,M=0,T=1,O=0;M<1;){if(_=parseFloat(M.toFixed(6)),this._lookUpTableBezier[O]=this._bezierCoefficients(_),T.toFixed(6)===E.toFixed(6)){_=parseFloat(T.toFixed(6))+parseFloat(M.toFixed(6)),++O,this._lookUpTableBezier[O]=this._bezierCoefficients(_);break}M+=E,T-=E,++O}}var R=this._lookUpTableBezier.length;if(j===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,g=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),v=0;v<R;v++)f=g[0]*this._lookUpTableBezier[v][0]+g[1]*this._lookUpTableBezier[v][1]+g[2]*this._lookUpTableBezier[v][2]+g[3]*this._lookUpTableBezier[v][3],p=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],this.vertex(f,p);for(v=0;v<j;v++)this.immediateMode._curveVertex.shift()}}else if(j===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,g=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),v=0;v<R;v++)f=g[0]*this._lookUpTableBezier[v][0]+g[1]*this._lookUpTableBezier[v][1]+g[2]*this._lookUpTableBezier[v][2]+g[3]*this._lookUpTableBezier[v][3],p=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],m=h[0]*this._lookUpTableBezier[v][0]+h[1]*this._lookUpTableBezier[v][1]+h[2]*this._lookUpTableBezier[v][2]+h[3]*this._lookUpTableBezier[v][3],this.vertex(f,p,m);for(v=0;v<j;v++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(h,T,p,O,v,_,g,x,j){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(h),this._pInst.textureMode(u.NORMAL);var E=0,M=(T<=h.width&&(E=T/h.width),1),T=(T+O<=h.width&&(M=(T+O)/h.width),0),O=(p<=h.height&&(T=p/h.height),1);p+v<=h.height&&(O=(p+v)/h.height),this.beginShape(),this.vertex(_,g,0,E,T),this.vertex(_+x,g,0,M,T),this.vertex(_+x,g+j,0,M,O),this.vertex(_,g+j,0,E,O),this.endShape(u.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(u.REMOVE)};var c=s.default;a.default=c},{"../core/constants":264,"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],319:[function(t,d,a){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function o(f){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},u=function(f){if(f&&f.__esModule)return f;if(f===null||o(f)!=="object"&&typeof f!="function")return{default:f};var p=b();if(p&&p.has(f))return p.get(f);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var g;Object.prototype.hasOwnProperty.call(f,m)&&((g=_?Object.getOwnPropertyDescriptor(f,m):null)&&(g.get||g.set)?Object.defineProperty(v,m,g):v[m]=f[m])}return v.default=f,p&&p.set(f,v),v}(t("../core/constants"));function b(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,b=function(){return f},f)}function y(f){return function(p){if(Array.isArray(p)){for(var m=0,v=new Array(p.length);m<p.length;m++)v[m]=p[m];return v}}(f)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(f,p){for(var m=0;m<p.length;m++){var v=p[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}var h=function(){function f(v){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");(this.renderer=v)._pInst.push(),this.identityMatrix=new s.default.Matrix,v.uMVMatrix=new s.default.Matrix,this.geometry=new s.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(f.nextGeometryId),f.nextGeometryId++,this.hasTransform=!1}var p,m;return p=f,(m=[{key:"transformVertices",value:function(v){var _=this;return this.hasTransform?v.map(function(g){return _.renderer.uMVMatrix.multiplyPoint(g)}):v}},{key:"transformNormals",value:function(v){var _=this;return this.hasTransform?v.map(function(g){return _.renderer.uNMatrix.multiplyVec3(g)}):v}},{key:"addGeometry",value:function(v){for(var _,g=this,x=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(E,M){return E===g.identityMatrix.mat4[M]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),j=((_=this.geometry.vertices).push.apply(_,y(this.transformVertices(v.vertices))),(_=this.geometry.vertexNormals).push.apply(_,y(this.transformNormals(v.vertexNormals))),(_=this.geometry.uvs).push.apply(_,y(v.uvs)),this.renderer._doFill&&(_=this.geometry.faces).push.apply(_,y(v.faces.map(function(E){return E.map(function(M){return M+x})}))),this.renderer._doStroke&&(_=this.geometry.edges).push.apply(_,y(v.edges.map(function(E){return E.map(function(M){return M+x})}))),y(v.vertexColors));j.length<4*v.vertices.length;)j.push.apply(j,y(this.renderer.curFillColor));(_=this.geometry.vertexColors).push.apply(_,y(j))}},{key:"addImmediate",value:function(){var v=this.renderer.immediateMode.geometry,_=this.renderer.immediateMode.shapeMode,g=[];if(this.renderer._doFill)if(_===u.TRIANGLE_STRIP||_===u.QUAD_STRIP)for(var x=2;x<v.vertices.length;x++)x%2==0?g.push([x,x-1,x-2]):g.push([x,x-2,x-1]);else if(_===u.TRIANGLE_FAN)for(var j=2;j<v.vertices.length;j++)g.push([0,j-1,j]);else for(var E=0;E<v.vertices.length;E+=3)g.push([E,E+1,E+2]);this.addGeometry(Object.assign({},v,{faces:g}))}},{key:"addRetained",value:function(v){this.addGeometry(v.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&c(p.prototype,m),f}();h.nextGeometryId=0,a.default=h},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],320:[function(t,d,a){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=(y=t("../core/main"))&&y.__esModule?y:{default:y},s=function(c){if(c&&c.__esModule)return c;if(c===null||b(c)!=="object"&&typeof c!="function")return{default:c};var h=u();if(h&&h.has(c))return h.get(c);var f,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var v;Object.prototype.hasOwnProperty.call(c,f)&&((v=m?Object.getOwnPropertyDescriptor(c,f):null)&&(v.get||v.set)?Object.defineProperty(p,f,v):p[f]=c[f])}return p.default=c,h&&h.set(c,p),p}(t("../core/constants"));function u(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,u=function(){return c},c)}function b(c){return(b=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(h){return n(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":n(h)})(c)}o.default.prototype.orbitControl=function(c,h,f,j){var m=this,v=(this._assert3d("orbitControl"),o.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);c===void 0&&(c=1),h===void 0&&(h=c),f===void 0&&(f=1),b(j)!=="object"&&(j={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var M=j.disableTouchActions;this.touchActionsDisabled===!0||M!==void 0&&!M||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var _,g,x,M=j.freeRotation,j=M!==void 0&&M,E=[],M=(this.touches.forEach(function(B){m._renderer.prevTouches.forEach(function(F){B.id===F.id&&(F={x:B.x,y:B.y,px:F.x,py:F.y},E.push(F))})}),this._renderer.prevTouches=this.touches,0),T=0,O=0,R=0,k=0,D=this.height<this.width?this.height:this.width,L=!1;return 0<E.length?(L=0<E[0].x&&E[0].x<this.width&&0<E[0].y&&E[0].y<this.height,E.length===1?(T=-c*((_=E[0]).x-_.px)/D,O=h*(_.y-_.py)/D):(_=E[0],g=E[1],M=-(Math.hypot(_.x-g.x,_.y-g.y)-Math.hypot(_.px-g.px,_.py-g.py))*f*4e-4,R=.5*(_.x+g.x)-.5*(_.px+g.px),k=.5*(_.y+g.y)-.5*(_.py+g.py)),0<this.touches.length?L&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(L=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(M=Math.sign(this._mouseWheelDeltaY)*f,M*=.01,this._mouseWheelDeltaY=0,L&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(T=-c*this.movedX/D,O=h*this.movedY/D):this.mouseButton===this.RIGHT&&(R=this.movedX,k=this.movedY*v.yScale),L&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),M!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=M),.001<Math.abs(this._renderer.zoomVelocity)?(j?v._orbitFree(0,0,this._renderer.zoomVelocity):v._orbit(0,0,this._renderer.zoomVelocity),v.projMatrix.mat4[15]!==0&&(v.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),v.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=v.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=v.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,T===0&&O===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*T,.6*O),1e-6<this._renderer.rotateVelocity.magSq()?(j?v._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):v._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),R===0&&k===0||!this._renderer.executeRotateAndMove||(_=2*R/this.width,g=2*-k/this.height,this._renderer.moveVelocity.add(.15*_,.15*g)),1e-6<this._renderer.moveVelocity.magSq()?(f=v._getLocalAxes(),c=v.eyeX-v.centerX,h=v.eyeY-v.centerY,D=v.eyeZ-v.centerZ,L=Math.sqrt(c*c+h*h+D*D),M=new o.default.Vector(v.centerX,v.centerY,v.centerZ),M=v.cameraMatrix.multiplyPoint(M),(M=this._renderer.uPMatrix.multiplyAndNormalizePoint(M)).x-=this._renderer.moveVelocity.x,M.y-=this._renderer.moveVelocity.y,O=(T=this._renderer.uPMatrix.mat4)[15]===0?(x=(T[8]+M.x)/T[0]*L,(T[9]+M.y)/T[5]*L):(x=(M.x-T[12])/T[0],(M.y-T[13])/T[5]),v.setPosition(v.eyeX+x*f.x[0]+O*f.y[0],v.eyeY+x*f.x[1]+O*f.y[1],v.eyeZ+x*f.x[2]+O*f.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},o.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];o.default._validateParameters("debugMode",h);for(var p=this._registeredMethods.post.length-1;0<=p;p--)this._registeredMethods.post[p].toString()!==this._grid().toString()&&this._registeredMethods.post[p].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(p,1);h[0]===s.GRID?this.registerMethod("post",this._grid.call(this,h[1],h[2],h[3],h[4],h[5])):h[0]===s.AXES?this.registerMethod("post",this._axesIcon.call(this,h[1],h[2],h[3],h[4])):(this.registerMethod("post",this._grid.call(this,h[0],h[1],h[2],h[3],h[4])),this.registerMethod("post",this._axesIcon.call(this,h[5],h[6],h[7],h[8])))},o.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1)},o.default.prototype._grid=function(c,h,f,p,m){c===void 0&&(c=this.width/2),h===void 0&&(h=Math.round(c/30)<4?4:Math.round(c/30)),f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=0);var v=c/h,_=c/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var g=0;g<=h;g++)this.beginShape(this.LINES),this.vertex(-_+f,p,g*v-_+m),this.vertex(_+f,p,g*v-_+m),this.endShape();for(var x=0;x<=h;x++)this.beginShape(this.LINES),this.vertex(x*v-_+f,p,-_+m),this.vertex(x*v-_+f,p,_+m),this.endShape();this.pop()}},o.default.prototype._axesIcon=function(c,h,f,p){return c===void 0&&(c=40<this.width/20?this.width/20:40),h===void 0&&(h=-this.width/4),f===void 0&&(f=h),p===void 0&&(p=h),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(h,f,p),this.vertex(h+c,f,p),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(h,f,p),this.vertex(h,f+c,p),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(h,f,p),this.vertex(h,f,p+c),this.endShape(),this.pop()}};var y=o.default;a.default=y},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],321:[function(t,d,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};n.default.prototype.ambientLight=function(o,s,u,b){this._assert3d("ambientLight"),n.default._validateParameters("ambientLight",arguments);var y=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(y._array[0],y._array[1],y._array[2]),this._renderer._enableLighting=!0,this},n.default.prototype.specularColor=function(o,s,u){this._assert3d("specularColor"),n.default._validateParameters("specularColor",arguments);var b=this.color.apply(this,arguments);return this._renderer.specularColors=[b._array[0],b._array[1],b._array[2]],this},n.default.prototype.directionalLight=function(o,m,p,b,y,c){this._assert3d("directionalLight"),n.default._validateParameters("directionalLight",arguments),o=o instanceof n.default.Color?o:this.color(o,m,p);var h,f,m=arguments[arguments.length-1],p=typeof m=="number"?(h=arguments[arguments.length-3],f=arguments[arguments.length-2],arguments[arguments.length-1]):(h=m.x,f=m.y,m.z),m=Math.sqrt(h*h+f*f+p*p);return this._renderer.directionalLightDirections.push(h/m,f/m,p/m),this._renderer.directionalLightDiffuseColors.push(o._array[0],o._array[1],o._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},n.default.prototype.pointLight=function(o,p,m,b,y,c){this._assert3d("pointLight"),n.default._validateParameters("pointLight",arguments),o=o instanceof n.default.Color?o:this.color(o,p,m);var h,f,p=arguments[arguments.length-1],m=typeof p=="number"?(h=arguments[arguments.length-3],f=arguments[arguments.length-2],arguments[arguments.length-1]):(h=p.x,f=p.y,p.z);return this._renderer.pointLightPositions.push(h,f,m),this._renderer.pointLightDiffuseColors.push(o._array[0],o._array[1],o._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},n.default.prototype.imageLight=function(o){this._renderer.activeImageLight=o,this._renderer._enableLighting=!0},n.default.prototype.lights=function(){this._assert3d("lights");var o=this.color("rgb(128,128,128)");return this.ambientLight(o),this.directionalLight(o,0,0,-1),this},n.default.prototype.lightFalloff=function(o,s,u){return this._assert3d("lightFalloff"),n.default._validateParameters("lightFalloff",arguments),o<0&&(o=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),o===0&&s===0&&u===0&&(o=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=o,this._renderer.linearAttenuation=s,this._renderer.quadraticAttenuation=u,this},n.default.prototype.spotLight=function(o,s,u,b,y,c,h,f,p,m,v){this._assert3d("spotLight"),n.default._validateParameters("spotLight",arguments);var _,g,x,j=arguments.length;switch(j){case 11:case 10:_=this.color(o,s,u),g=new n.default.Vector(b,y,c),x=new n.default.Vector(h,f,p);break;case 9:o instanceof n.default.Color?(_=o,g=new n.default.Vector(s,u,b),x=new n.default.Vector(y,c,h),m=f,v=p):b instanceof n.default.Vector?(_=this.color(o,s,u),g=b,x=new n.default.Vector(y,c,h),m=f,v=p):h instanceof n.default.Vector?(_=this.color(o,s,u),g=new n.default.Vector(b,y,c),x=h,m=f,v=p):(_=this.color(o,s,u),g=new n.default.Vector(b,y,c),x=new n.default.Vector(h,f,p));break;case 8:m=(x=o instanceof n.default.Color?(_=o,g=new n.default.Vector(s,u,b),new n.default.Vector(y,c,h)):b instanceof n.default.Vector?(_=this.color(o,s,u),g=b,new n.default.Vector(y,c,h)):(_=this.color(o,s,u),g=new n.default.Vector(b,y,c),h),f);break;case 7:o instanceof n.default.Color&&s instanceof n.default.Vector?(_=o,g=s,x=new n.default.Vector(u,b,y),m=c,v=h):o instanceof n.default.Color&&y instanceof n.default.Vector?(_=o,g=new n.default.Vector(s,u,b),x=y,m=c,v=h):b instanceof n.default.Vector&&y instanceof n.default.Vector?(_=this.color(o,s,u),g=b,x=y,m=c,v=h):x=o instanceof n.default.Color?(_=o,g=new n.default.Vector(s,u,b),new n.default.Vector(y,c,h)):b instanceof n.default.Vector?(_=this.color(o,s,u),g=b,new n.default.Vector(y,c,h)):(_=this.color(o,s,u),g=new n.default.Vector(b,y,c),h);break;case 6:b instanceof n.default.Vector&&y instanceof n.default.Vector?(_=this.color(o,s,u),g=b,x=y,m=c):o instanceof n.default.Color&&y instanceof n.default.Vector?(_=o,g=new n.default.Vector(s,u,b),x=y,m=c):o instanceof n.default.Color&&s instanceof n.default.Vector&&(_=o,g=s,x=new n.default.Vector(u,b,y),m=c);break;case 5:o instanceof n.default.Color&&s instanceof n.default.Vector&&u instanceof n.default.Vector?(_=o,g=s,x=u,m=b,v=y):b instanceof n.default.Vector&&y instanceof n.default.Vector?(_=this.color(o,s,u),g=b,x=y):o instanceof n.default.Color&&y instanceof n.default.Vector?(_=o,g=new n.default.Vector(s,u,b),x=y):o instanceof n.default.Color&&s instanceof n.default.Vector&&(_=o,g=s,x=new n.default.Vector(u,b,y));break;case 4:_=o,g=s,x=u,m=b;break;case 3:_=o,g=s,x=u;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(j<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(g.x,g.y,g.z),x.normalize(),this._renderer.spotLightDirections.push(x.x,x.y,x.z),m===void 0&&(m=Math.PI/3),v!==void 0&&v<1?(v=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):v===void 0&&(v=100),m=this._renderer._pInst._toRadians(m),this._renderer.spotLightAngle.push(Math.cos(m)),this._renderer.spotLightConc.push(v),this._renderer._enableLighting=!0,this},n.default.prototype.noLights=function(){this._assert3d("noLights");for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return n.default._validateParameters("noLights",s),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},t=n.default,a.default=t},{"../core/main":275}],322:[function(t,d,a){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(o=t("../core/main"))&&o.__esModule?o:{default:o};t("./p5.Geometry"),n.default.prototype.loadModel=function(s){n.default._validateParameters("loadModel",arguments);var u,b,y,c=s.slice(-4),h=(typeof arguments[1]=="boolean"?(u=arguments[1],b=arguments[2],y=arguments[3],arguments[4]!==void 0&&(c=arguments[4])):(u=!1,b=arguments[1],y=arguments[2],arguments[3]!==void 0&&(c=arguments[3])),new n.default.Geometry),f=(h.gid="".concat(s,"|").concat(u),this);return c.match(/\.stl$/i)?this.httpDo(s,"GET","arrayBuffer",function(p){(function(m,v){if(function(_){for(var g=new DataView(_),x=[115,111,108,105,100],j=0;j<5;j++)if(function(E,M,T){for(var O=0,R=E.length;O<R;O++)if(E[O]!==M.getUint8(T+O,!1))return;return 1}(x,g,j))return;return 1}(v))(function(_,g){for(var x,j,E,M,T,O,R,k=new DataView(g),D=k.getUint32(80,!0),L=!1,B=0;B<70;B++)k.getUint32(B,!1)===1129270351&&k.getUint8(B+4)===82&&k.getUint8(B+5)===61&&(L=!0,M=[],T=k.getUint8(B+6)/255,O=k.getUint8(B+7)/255,R=k.getUint8(B+8)/255);for(var F=0;F<D;F++){for(var V,q=84+50*F,G=k.getFloat32(q,!0),W=k.getFloat32(4+q,!0),$=k.getFloat32(8+q,!0),K=(L&&(V=k.getUint16(48+q,!0),E=32768&V?(x=T,j=O,R):(x=(31&V)/31,j=(V>>5&31)/31,(V>>10&31)/31)),new n.default.Vector(G,W,$)),N=1;N<=3;N++){var A=q+12*N,A=new n.default.Vector(k.getFloat32(A,!0),k.getFloat32(4+A,!0),k.getFloat32(8+A,!0));_.vertices.push(A),_.vertexNormals.push(K),L&&M.push(x,j,E)}_.faces.push([3*F,3*F+1,3*F+2]),_.uvs.push([0,0],[0,0],[0,0])}})(m,v);else{if(v=new DataView(v),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");v=new TextDecoder("utf-8").decode(v).split(`
`),function(_,g){for(var x,j,E="",M=[],T=0;T<g.length;++T){for(var O=g[T].trim(),R=O.split(" "),k=0;k<R.length;++k)R[k]===""&&R.splice(k,1);if(R.length!==0)switch(E){case"":if(R[0]!=="solid")return console.error(O),console.error('Invalid state "'.concat(R[0],'", should be "solid"'));E="solid";break;case"solid":if(R[0]!=="facet"||R[1]!=="normal")return console.error(O),console.error('Invalid state "'.concat(R[0],'", should be "facet normal"'));x=new n.default.Vector(parseFloat(R[2]),parseFloat(R[3]),parseFloat(R[4])),_.vertexNormals.push(x,x,x),E="facet normal";break;case"facet normal":if(R[0]!=="outer"||R[1]!=="loop")return console.error(O),console.error('Invalid state "'.concat(R[0],'", should be "outer loop"'));E="vertex";break;case"vertex":if(R[0]==="vertex")j=new n.default.Vector(parseFloat(R[1]),parseFloat(R[2]),parseFloat(R[3])),_.vertices.push(j),_.uvs.push([0,0]),M.push(_.vertices.indexOf(j));else{if(R[0]!=="endloop")return console.error(O),console.error('Invalid state "'.concat(R[0],'", should be "vertex" or "endloop"'));_.faces.push(M),M=[],E="endloop"}break;case"endloop":if(R[0]!=="endfacet")return console.error(O),console.error('Invalid state "'.concat(R[0],'", should be "endfacet"'));E="endfacet";break;case"endfacet":if(R[0]!=="endsolid"){if(R[0]!=="facet"||R[1]!=="normal")return console.error(O),console.error('Invalid state "'.concat(R[0],'", should be "endsolid" or "facet normal"'));x=new n.default.Vector(parseFloat(R[2]),parseFloat(R[3]),parseFloat(R[4])),_.vertexNormals.push(x,x,x),E="facet normal"}break;default:console.error('Invalid state "'.concat(E,'"'))}}}(m,v)}})(h,p),u&&h.normalize(),f._decrementPreload(),typeof b=="function"&&b(h)},y):c.match(/\.obj$/i)?this.loadStrings(s,function(p){for(var m=h,v=p,_={v:[],vt:[],vn:[]},g={},x=0;x<v.length;++x){var j=v[x].trim().split(/\b\s+/);if(0<j.length){if(j[0]==="v"||j[0]==="vn"){var E=new n.default.Vector(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3]));_[j[0]].push(E)}else if(j[0]==="vt")E=[parseFloat(j[1]),1-parseFloat(j[2])],_[j[0]].push(E);else if(j[0]==="f")for(var M=3;M<j.length;++M){for(var T=[],O=[1,M-1,M],R=0;R<O.length;++R){var k=j[O[R]],D=0;if(g[k]!==void 0)D=g[k];else{for(var L=k.split("/"),B=0;B<L.length;B++)L[B]=parseInt(L[B])-1;D=g[k]=m.vertices.length,m.vertices.push(_.v[L[0]].copy()),_.vt[L[1]]?m.uvs.push(_.vt[L[1]].slice()):m.uvs.push([0,0]),_.vn[L[2]]&&m.vertexNormals.push(_.vn[L[2]].copy())}T.push(D)}T[0]!==T[1]&&T[0]!==T[2]&&T[1]!==T[2]&&m.faces.push(T)}}}m.vertexNormals.length===0&&m.computeNormals(),u&&h.normalize(),f._decrementPreload(),typeof b=="function"&&b(h)},y):(n.default._friendlyFileLoadError(3,s),y?y():n.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),h},n.default.prototype.model=function(s){this._assert3d("model"),n.default._validateParameters("model",arguments),0<s.vertices.length&&(this._renderer.geometryInHash(s.gid)||(s.edges.length===0&&s._makeTriangleEdges(),s._edgesToVertices(),this._renderer.createBuffers(s.gid,s)),this._renderer.drawBuffers(s.gid))};var o=n.default;a.default=o},{"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201}],323:[function(t,d,a){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function o(c){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(h){return n(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":n(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},u=function(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var h=b();if(h&&h.has(c))return h.get(c);var f,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var v;Object.prototype.hasOwnProperty.call(c,f)&&((v=m?Object.getOwnPropertyDescriptor(c,f):null)&&(v.get||v.set)?Object.defineProperty(p,f,v):p[f]=c[f])}return p.default=c,h&&h.set(c,p),p}(t("../core/constants"));function b(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,b=function(){return c},c)}t("./p5.Texture"),s.default.prototype.loadShader=function(c,h,f,p){s.default._validateParameters("loadShader",arguments),p=p||console.error;function m(){_._decrementPreload(),f&&f(v)}var v=new s.default.Shader,_=this,g=!1,x=!1;return this.loadStrings(c,function(j){v._vertSrc=j.join(`
`),x=!0,g&&m()},p),this.loadStrings(h,function(j){v._fragSrc=j.join(`
`),g=!0,x&&m()},p),v},s.default.prototype.createShader=function(c,h){return s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,c,h)},s.default.prototype.createFilterShader=function(c){s.default._validateParameters("createFilterShader",arguments);var h=c.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,h=new s.default.Shader(this._renderer,h,c);return this._renderer.GL?h.ensureCompiledOnContext(this):h.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),h},s.default.prototype.shader=function(c){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),c.ensureCompiledOnContext(this),c.isStrokeShader()?this._renderer.userStrokeShader=c:(this._renderer.userFillShader=c,this._renderer._useNormalMaterial=!1),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(c){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),c.gifProperties&&c._animateGif(this),this._renderer.drawMode=u.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=c,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(c){c!==u.IMAGE&&c!==u.NORMAL?console.warn("You tried to set ".concat(c," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=c},s.default.prototype.textureWrap=function(c){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,f=(this._renderer.textureWrapX=c,this._renderer.textureWrapY=h,!0),p=!1,m=void 0;try{for(var v,_=this._renderer.textures.values()[Symbol.iterator]();!(f=(v=_.next()).done);f=!0)v.value.setWrapMode(c,h)}catch(g){p=!0,m=g}finally{try{f||_.return==null||_.return()}finally{if(p)throw m}}},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return s.default._validateParameters("normalMaterial",h),this._renderer.drawMode=u.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(c,h,f){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var p=s.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=p._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(c,h,f,p){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var m=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=m._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.specularMaterial=function(c,h,f,p){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var m=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=m._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.shininess=function(c){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=c=c<1?1:c,this},s.default.RendererGL.prototype._applyColorBlend=function(c){var h=this.GL,f=this.drawMode===u.TEXTURE,f=this.userFillShader||this.userStrokeShader||this.userPointShader||f||this.curBlendMode!==u.BLEND||c[c.length-1]<1||this._isErasing;return f!==this._isBlending&&(f||this.curBlendMode!==u.BLEND&&this.curBlendMode!==u.ADD?h.enable(h.BLEND):h.disable(h.BLEND),h.depthMask(!0),this._isBlending=f),this._applyBlendMode(),c},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var c=this.GL;switch(this.curBlendMode){case u.BLEND:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case u.ADD:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE);break;case u.REMOVE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_ALPHA);break;case u.MULTIPLY:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA);break;case u.SCREEN:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_COLOR);break;case u.EXCLUSION:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE);break;case u.REPLACE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO);break;case u.SUBTRACT:c.blendEquationSeparate(c.FUNC_REVERSE_SUBTRACT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case u.DARKEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case u.LIGHTEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=s.default;a.default=y},{"../core/constants":264,"../core/main":275,"./p5.Texture":334,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],324:[function(t,d,a){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(s,u){for(var b=0;b<u.length;b++){var y=u[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(s,y.key,y)}}n.default.prototype.camera=function(){var s;this._assert3d("camera");for(var u=arguments.length,b=new Array(u),y=0;y<u;y++)b[y]=arguments[y];return n.default._validateParameters("camera",b),(s=this._renderer._curCamera).camera.apply(s,b),this},n.default.prototype.perspective=function(){var s;this._assert3d("perspective");for(var u=arguments.length,b=new Array(u),y=0;y<u;y++)b[y]=arguments[y];return n.default._validateParameters("perspective",b),(s=this._renderer._curCamera).perspective.apply(s,b),this},n.default.prototype.ortho=function(){var s;this._assert3d("ortho");for(var u=arguments.length,b=new Array(u),y=0;y<u;y++)b[y]=arguments[y];return n.default._validateParameters("ortho",b),(s=this._renderer._curCamera).ortho.apply(s,b),this},n.default.prototype.frustum=function(){var s;this._assert3d("frustum");for(var u=arguments.length,b=new Array(u),y=0;y<u;y++)b[y]=arguments[y];return n.default._validateParameters("frustum",b),(s=this._renderer._curCamera).frustum.apply(s,b),this},n.default.prototype.createCamera=function(){this._assert3d("createCamera");var s=new n.default.Camera(this._renderer);return s._computeCameraDefaultSettings(),s._setDefaultCamera(),this._renderer._curCamera=s},n.default.Camera=function(){function s(y){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=y,this.cameraType="default",this.cameraMatrix=new n.default.Matrix,this.projMatrix=new n.default.Matrix,this.yScale=1}var u,b;return u=s,(b=[{key:"perspective",value:function(p,c,h,f){this.cameraType=0<arguments.length?"custom":"default",p===void 0?(p=this.defaultCameraFOV,this.cameraFOV=p):this.cameraFOV=this._renderer._pInst._toRadians(p),c===void 0&&(c=this.defaultAspectRatio),h===void 0&&(h=this.defaultCameraNear),f===void 0&&(f=this.defaultCameraFar),h<=1e-4&&(h=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),f<h&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=c,this.cameraNear=h,this.cameraFar=f,this.projMatrix=n.default.Matrix.identity();var p=1/Math.tan(this.cameraFOV/2),m=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(p/c,0,0,0,0,-p*this.yScale,0,0,0,0,(f+h)*m,-1,0,0,2*f*h*m,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(M,E,h,f,p,m){M===void 0&&(M=-this._renderer.width/2),E===void 0&&(E=+this._renderer.width/2),h===void 0&&(h=-this._renderer.height/2),f===void 0&&(f=+this._renderer.height/2),p===void 0&&(p=0),m===void 0&&(m=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=p;var T=E-M,v=f-h,_=(this.cameraFar=m)-p,g=2/T,x=2/v*this.yScale,j=-2/_,E=-(E+M)/T,M=-(f+h)/v,T=-(m+p)/_;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(g,0,0,0,0,-x,0,0,0,0,j,0,E,M,T,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(M,E,h,f,p,m){M===void 0&&(M=.05*-this._renderer.width),E===void 0&&(E=.05*+this._renderer.width),h===void 0&&(h=.05*+this._renderer.height),f===void 0&&(f=.05*-this._renderer.height),p===void 0&&(p=this.defaultCameraNear),m===void 0&&(m=this.defaultCameraFar),this.cameraNear=p;var T=E-M,v=f-h,_=(this.cameraFar=m)-p,g=2*p/T,x=2*p/v*this.yScale,j=-2*m*p/_,E=(E+M)/T,M=(f+h)/v,T=-(m+p)/_;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(g,0,0,0,0,-x,0,0,E,M,T,-1,0,0,j,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(g,c,h,f){var p=this.centerX,m=this.centerY,v=this.centerZ,_=(p-=this.eyeX,m-=this.eyeY,v-=this.eyeZ,n.default.Matrix.identity(this._renderer._pInst)),g=(_.rotate(this._renderer._pInst._toRadians(g),c,h,f),[p*_.mat4[0]+m*_.mat4[4]+v*_.mat4[8],p*_.mat4[1]+m*_.mat4[5]+v*_.mat4[9],p*_.mat4[2]+m*_.mat4[6]+v*_.mat4[10]]);g[0]+=this.eyeX,g[1]+=this.eyeY,g[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,g[0],g[1],g[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(y){var c=this._getLocalAxes();this._rotateView(y,c.y[0],c.y[1],c.y[2])}},{key:"tilt",value:function(y){var c=this._getLocalAxes();this._rotateView(y,c.x[0],c.x[1],c.x[2])}},{key:"lookAt",value:function(y,c,h){this.camera(this.eyeX,this.eyeY,this.eyeZ,y,c,h,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(y,c,h,f,p,m,v,_,g){return y===void 0&&(y=this.defaultEyeX,c=this.defaultEyeY,h=this.defaultEyeZ,f=y,p=c,_=1,g=v=m=0),this.eyeX=y,this.eyeY=c,this.eyeZ=h,f!==void 0&&(this.centerX=f,this.centerY=p,this.centerZ=m),v!==void 0&&(this.upX=v,this.upY=_,this.upZ=g),f=this._getLocalAxes(),this.cameraMatrix.set(f.x[0],f.y[0],f.z[0],0,f.x[1],f.y[1],f.z[1],0,f.x[2],f.y[2],f.z[2],0,0,0,0,1),p=-y,this.cameraMatrix.translate([p,-c,-h]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(f,p,h){var m=this._getLocalAxes(),f=[m.x[0]*f,m.x[1]*f,m.x[2]*f],p=[m.y[0]*p,m.y[1]*p,m.y[2]*p],m=[m.z[0]*h,m.z[1]*h,m.z[2]*h];this.camera(this.eyeX+f[0]+p[0]+m[0],this.eyeY+f[1]+p[1]+m[1],this.eyeZ+f[2]+p[2]+m[2],this.centerX+f[0]+p[0]+m[0],this.centerY+f[1]+p[1]+m[1],this.centerZ+f[2]+p[2]+m[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(y,c,h){var f=y-this.eyeX,p=c-this.eyeY,m=h-this.eyeZ;this.camera(y,c,h,this.centerX+f,this.centerY+p,this.centerZ+m,this.upX,this.upY,this.upZ)}},{key:"set",value:function(y){for(var c=0,h=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];c<h.length;c++){var f=h[c];this[f]=y[f]}this.cameraMatrix=y.cameraMatrix.copy(),this.projMatrix=y.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(y,c,h){var f,p,m,v,_,g,x,j,E,M,T,O,R,k,D,L,B,F;h===0?this.set(y):h===1?this.set(c):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=y.projMatrix.mat4[0]*Math.pow(c.projMatrix.mat4[0]/y.projMatrix.mat4[0],h),this.projMatrix.mat4[5]=y.projMatrix.mat4[5]*Math.pow(c.projMatrix.mat4[5]/y.projMatrix.mat4[5],h),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),v=new n.default.Vector(y.eyeX,y.eyeY,y.eyeZ),_=new n.default.Vector(c.eyeX,c.eyeY,c.eyeZ),L=new n.default.Vector(y.centerX,y.centerY,y.centerZ),F=new n.default.Vector(c.centerX,c.centerY,c.centerZ),m=n.default.Vector.dist(v,L),f=n.default.Vector.dist(_,F),f=m*Math.pow(f/m,h),m=n.default.Vector.sub(v,_),p=1,1e-6<(B=(k=v.copy().sub(_).sub(L).add(F)).magSq())&&(p=n.default.Vector.dot(m,k)/B,p=Math.max(0,Math.min(p,1))),m=n.default.Vector.lerp(n.default.Vector.lerp(v,L,p),n.default.Vector.lerp(_,F,p),h),k=y.cameraMatrix.createSubMatrix3x3(),B=c.cameraMatrix.createSubMatrix3x3(),v=k.row(2),L=B.row(2),_=k.row(1),F=B.row(1),y=new n.default.Vector,c=new n.default.Vector,g=new n.default.Vector,x=new n.default.Vector,1-(j=.5*((k=(B=B.mult3x3(k.copy().transpose3x3())).diagonal())[0]+k[1]+k[2]-1))<1e-7?(y.set(n.default.Vector.lerp(v,L,h)).normalize(),g.set(y).mult(p*f).add(m),x.set(y).mult((p-1)*f).add(m),c.set(n.default.Vector.lerp(_,F,h)).normalize()):(L=1/(1-j),F=Math.max(k[0],k[1],k[2]),O=B.mat3[1]+B.mat3[3],R=B.mat3[2]+B.mat3[6],D=B.mat3[5]+B.mat3[7],F=F===k[0]?(M=.5*O*(L/=E=Math.sqrt((k[0]-j)*L)),T=.5*R*L,.5*(B.mat3[7]-B.mat3[5])/E):F===k[1]?(T=.5*D*(L/=M=Math.sqrt((k[1]-j)*L)),E=.5*O*L,.5*(B.mat3[2]-B.mat3[6])/M):(E=.5*R*(L/=T=Math.sqrt((k[2]-j)*L)),M=.5*D*L,.5*(B.mat3[3]-B.mat3[1])/T),O=h*Math.atan2(F,j),R=Math.cos(O),k=Math.sin(O),(F=new n.default.Matrix("mat3",[R+(D=1-R)*E*E,D*(L=E*M)+k*T,D*(B=T*E)-k*M,D*L-k*T,R+D*M*M,D*(h=M*T)+k*E,D*B+k*M,D*h-k*E,R+D*T*T])).multiplyVec3(v,y),g.set(y).mult(p*f).add(m),x.set(y).mult((p-1)*f).add(m),F.multiplyVec3(_,c)),this.camera(g.x,g.y,g.z,x.x,x.y,x.z,c.x,c.y,c.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var y=new n.default.Camera(this._renderer);return y.cameraFOV=this.cameraFOV,y.aspectRatio=this.aspectRatio,y.eyeX=this.eyeX,y.eyeY=this.eyeY,y.eyeZ=this.eyeZ,y.centerX=this.centerX,y.centerY=this.centerY,y.centerZ=this.centerZ,y.upX=this.upX,y.upY=this.upY,y.upZ=this.upZ,y.cameraNear=this.cameraNear,y.cameraFar=this.cameraFar,y.cameraType=this.cameraType,y.cameraMatrix=this.cameraMatrix.copy(),y.projMatrix=this.projMatrix.copy(),y.yScale=this.yScale,y}},{key:"_getLocalAxes",value:function(){var y=this.eyeX-this.centerX,c=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,v=Math.sqrt(y*y+c*c+h*h),v=(v!==0&&(y/=v,c/=v,h/=v),this.upX),f=(_=this.upY)*h-(g=this.upZ)*c,p=-v*h+g*y,m=v*c-_*y,v=c*m-h*p,_=-y*m+h*f,g=y*p-c*f,x=Math.sqrt(f*f+p*p+m*m),x=(x!==0&&(f/=x,p/=x,m/=x),Math.sqrt(v*v+_*_+g*g));return x!==0&&(v/=x,_/=x,g/=x),{x:[f,p,m],y:[v,_,g],z:[y,c,h]}}},{key:"_orbit",value:function(y,x,g){var p=this.eyeX-this.centerX,m=this.eyeY-this.centerY,v=this.eyeZ-this.centerZ,f=Math.hypot(p,m,v),p=new n.default.Vector(p,m,v).normalize(),m=new n.default.Vector(this.upX,this.upY,this.upZ).normalize(),v=new n.default.Vector.cross(m,p).normalize(),_=new n.default.Vector.cross(v,m),g=((f=(f*=Math.pow(10,g))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,n.default.Vector.dot(p,m))))+x),x=y;(g<=0||g>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),m.mult(Math.cos(g)),_.mult(Math.cos(x)*Math.sin(g)),v.mult(Math.sin(x)*Math.sin(g)),p.set(m).add(_).add(v),this.eyeX=f*p.x+this.centerX,this.eyeY=f*p.y+this.centerY,this.eyeZ=f*p.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(g,x,E){var p=this.eyeX-this.centerX,m=this.eyeY-this.centerY,v=this.eyeZ-this.centerZ,f=Math.hypot(p,m,v),p=new n.default.Vector(p,m,v).normalize(),m=new n.default.Vector(this.upX,this.upY,this.upZ),v=new n.default.Vector.cross(m,p).normalize(),_=new n.default.Vector.cross(p,v),M=Math.atan2(x,g),M=(_.mult(Math.sin(M)),v.mult(Math.cos(M)).add(_),Math.sqrt(g*g+x*x)),_=new n.default.Vector.cross(p,v),g=((f=(f*=Math.pow(10,E))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.cos(M)),x=Math.sin(M),E=m.dot(p),M=m.dot(v),j=E*g+M*x,E=-E*x+M*g,M=m.dot(_);m.x=j*p.x+E*v.x+M*_.x,m.y=j*p.y+E*v.y+M*_.y,m.z=j*p.z+E*v.z+M*_.z,v.mult(-x),p.mult(g).add(v).mult(f),this.camera(p.x+this.centerX,p.y+this.centerY,p.z+this.centerZ,this.centerX,this.centerY,this.centerZ,m.x,m.y,m.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&o(u.prototype,b),s}(),n.default.prototype.setCamera=function(s){this._renderer._curCamera=s,this._renderer.uPMatrix.set(s.projMatrix.mat4[0],s.projMatrix.mat4[1],s.projMatrix.mat4[2],s.projMatrix.mat4[3],s.projMatrix.mat4[4],s.projMatrix.mat4[5],s.projMatrix.mat4[6],s.projMatrix.mat4[7],s.projMatrix.mat4[8],s.projMatrix.mat4[9],s.projMatrix.mat4[10],s.projMatrix.mat4[11],s.projMatrix.mat4[12],s.projMatrix.mat4[13],s.projMatrix.mat4[14],s.projMatrix.mat4[15])},t=n.default.Camera,a.default=t},{"../core/main":275,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.string.sub":200}],325:[function(t,d,a){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(o,s){for(var u=0;u<s.length;u++){var b=s[u];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}t.default.DataArray=function(){function o(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,y=this,c=o;if(!(y instanceof c))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(b),this.initialLength=b}var s,u;return s=o,(u=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var b;this.length<this.data.length/2&&(b=1<<Math.ceil(Math.log2(this.length)),(b=new Float32Array(b)).set(this.data.subarray(0,this.length),0),this.data=b)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var b=arguments.length,y=new Array(b),c=0;c<b;c++)y[c]=arguments[c];this.ensureLength(this.length+y.length),this.data.set(y,this.length),this.length+=y.length}},{key:"slice",value:function(b,y){return this.data.slice(b,Math.min(y,this.length))}},{key:"subArray",value:function(b,y){return this.data.subarray(b,Math.min(y,this.length))}},{key:"ensureLength",value:function(b){for(;this.data.length<b;){var y=new Float32Array(2*this.data.length);y.set(this.data,0),this.data=y}}}])&&n(s.prototype,u),o}(),t=t.default.DataArray,a.default=t},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.log2":171,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],326:[function(O,d,a){function n(R){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(R)}function o(R){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(k){return n(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":n(k)})(R)}O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.object.get-own-property-descriptor"),O("core-js/modules/es.object.get-prototype-of"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.reflect.construct"),O("core-js/modules/es.reflect.get"),O("core-js/modules/es.regexp.to-string"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint8-clamped-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/es.weak-map"),O("core-js/modules/web.dom-collections.iterator"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.object.get-prototype-of"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint8-clamped-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(T=O("../core/main"))&&T.__esModule?T:{default:T},u=function(R){if(R&&R.__esModule)return R;if(R===null||o(R)!=="object"&&typeof R!="function")return{default:R};var k=c();if(k&&k.has(R))return k.get(R);var D,L={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in R){var F;Object.prototype.hasOwnProperty.call(R,D)&&((F=B?Object.getOwnPropertyDescriptor(R,D):null)&&(F.get||F.set)?Object.defineProperty(L,D,F):L[D]=R[D])}return L.default=R,k&&k.set(R,L),L}(O("../core/constants")),b=O("./p5.Texture"),y=O("./p5.RendererGL");function c(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,c=function(){return R},R)}function h(R,k){return function(D){if(Array.isArray(D))return D}(R)||function(D,L){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]"){var B=[],F=!0,V=!1,q=void 0;try{for(var G,W=D[Symbol.iterator]();!(F=(G=W.next()).done)&&(B.push(G.value),!L||B.length!==L);F=!0);}catch($){V=!0,q=$}finally{try{F||W.return==null||W.return()}finally{if(V)throw q}}return B}}(R,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(R,k,D){return k in R?Object.defineProperty(R,k,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[k]=D,R}function p(R,k){if(!(R instanceof k))throw new TypeError("Cannot call a class as a function")}function m(R,k){for(var D=0;D<k.length;D++){var L=k[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}function v(R,k,D){k&&m(R.prototype,k),D&&m(R,D)}function _(R,k,D){return(_=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(V,B,F){var V=function(q,G){for(;!Object.prototype.hasOwnProperty.call(q,G)&&(q=j(q))!==null;);return q}(V,B);if(V)return(V=Object.getOwnPropertyDescriptor(V,B)).get?V.get.call(F):V.value})(R,k,D||R)}function g(R,k){return(g=Object.setPrototypeOf||function(D,L){return D.__proto__=L,D})(R,k)}function x(R){return function(){var k,D=j(R),D=(k=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(k=j(this).constructor,Reflect.construct(D,arguments,k)):D.apply(this,arguments),this);if(!k||o(k)!=="object"&&typeof k!="function"){if(D!==void 0)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return k}}function j(R){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)})(R)}var E=function(R){var k=L;if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),R&&g(k,R);var D=x(L);function L(B){var F;return p(this,L),(F=D.call(this,B.target._renderer)).fbo=B,F.yScale=-1,F}return v(L,[{key:"_computeCameraDefaultSettings",value:function(){_(j(L.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),L}(s.default.Camera),M=(s.default.FramebufferCamera=E,function(){function R(k,D){p(this,R),this.framebuffer=k,this.property=D}return v(R,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),R}()),T=(s.default.FramebufferTexture=M,function(){function R(B){var D=this,L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},B=(p(this,R),this.target=B,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=L.format||u.UNSIGNED_BYTE,this.channels=L.channels||(B._renderer._pInst._glAttributes.alpha?u.RGBA:u.RGB),this.useDepth=L.depth===void 0||L.depth,this.depthFormat=L.depthFormat||u.FLOAT,this.textureFiltering=L.textureFiltering||u.LINEAR,L.antialias===void 0?this.antialiasSamples=B._renderer._pInst._glAttributes.antialias?2:0:typeof L.antialias=="number"?this.antialiasSamples=L.antialias:this.antialiasSamples=L.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&B.webglVersion!==u.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),L.width&&L.height?(this.width=L.width,this.height=L.height,this.autoSized=!1):(L.width===void 0!=(L.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=B.width,this.height=B.height,this.autoSized=!0),this.density=L.density||B.pixelDensity(),B._renderer.GL);if(this.gl=B,this._checkIfFormatsAvailable(),L.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(L.stencil===void 0||L.stencil),this.framebuffer=B.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=B.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),L=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=L,this.draw(function(){return D.target.clear()})}return v(R,[{key:"resize",value:function(k,D){this.autoSized=!1,this.width=k,this.height=D,this._handleResize()}},{key:"pixelDensity",value:function(k){if(!k)return this.density;this.autoSized=!1,this.density=k,this._handleResize()}},{key:"autoSized",value:function(k){if(k===void 0)return this.autoSized;this.autoSized=k,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var k=this.gl,k=(this.useDepth&&this.target.webglVersion===u.WEBGL&&!k.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===u.WEBGL&&this.depthFormat===u.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),[u.UNSIGNED_BYTE,u.FLOAT,u.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&![u.UNSIGNED_INT,u.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=u.FLOAT),(0,b.checkWebGLCapabilities)(this.target._renderer));k.float||this.format!==u.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&!k.float&&this.depthFormat===u.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),k.halfFloat||this.format!==u.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.channels===u.RGB&&[u.FLOAT,u.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=u.RGBA)}},{key:"_recreateTextures",value:function(){var k=this.gl,D=(this._updateSize(),k.getParameter(k.TEXTURE_BINDING_2D)),L=k.getParameter(k.FRAMEBUFFER_BINDING),B=k.createTexture();if(!B)throw new Error("Unable to create color texture");k.bindTexture(k.TEXTURE_2D,B);var F=this._glColorFormat();if(k.texImage2D(k.TEXTURE_2D,0,F.internalFormat,this.width*this.density,this.height*this.density,0,F.format,F.type,null),this.colorTexture=B,k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,B,0),this.useDepth){var B=k.createTexture();if(!B)throw new Error("Unable to create depth texture");var V=this._glDepthFormat();k.bindTexture(k.TEXTURE_2D,B),k.texImage2D(k.TEXTURE_2D,0,V.internalFormat,this.width*this.density,this.height*this.density,0,V.format,V.type,null),k.framebufferTexture2D(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.TEXTURE_2D,B,0),this.depthTexture=B}this.antialias&&(this.colorRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.colorRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),F.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(V=this._glDepthFormat(),this.depthRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.depthRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),V.internalFormat,this.width*this.density,this.height*this.density)),k.bindFramebuffer(k.FRAMEBUFFER,this.aaFramebuffer),k.framebufferRenderbuffer(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&k.framebufferRenderbuffer(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new M(this,"depthTexture"),B=k.NEAREST,this.depthP5Texture=new s.default.Texture(this.target._renderer,this.depth,{minFilter:B,magFilter:B}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new M(this,"colorTexture"),F=this.textureFiltering===u.LINEAR?k.LINEAR:k.NEAREST,this.colorP5Texture=new s.default.Texture(this.target._renderer,this.color,{minFilter:F,magFilter:F}),this.target._renderer.textures.set(this.color,this.colorP5Texture),k.bindTexture(k.TEXTURE_2D,D),k.bindFramebuffer(k.FRAMEBUFFER,L)}},{key:"_glColorFormat",value:function(){var k,D,L=this.gl,B=this.format===u.FLOAT?L.FLOAT:this.format===u.HALF_FLOAT?this.target.webglVersion===u.WEBGL2?L.HALF_FLOAT:L.getExtension("OES_texture_half_float").HALF_FLOAT_OES:L.UNSIGNED_BYTE,F=this.channels===u.RGBA?L.RGBA:L.RGB;return{internalFormat:this.target.webglVersion===u.WEBGL2?(f(D={},L.FLOAT,f({},L.RGBA,L.RGBA32F)),f(D,L.HALF_FLOAT,f({},L.RGBA,L.RGBA16F)),f(D,L.UNSIGNED_BYTE,(f(k={},L.RGBA,L.RGBA8),f(k,L.RGB,L.RGB8),k)),D[B][F]):this.format===u.HALF_FLOAT?L.RGBA:F,format:F,type:B}}},{key:"_glDepthFormat",value:function(){var L=this.gl,k=this.useStencil?this.depthFormat===u.FLOAT?L.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===u.WEBGL2?L.UNSIGNED_INT_24_8:L.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===u.FLOAT?L.FLOAT:L.UNSIGNED_INT,D=this.useStencil?L.DEPTH_STENCIL:L.DEPTH_COMPONENT,L=this.useStencil?this.depthFormat===u.FLOAT?L.DEPTH32F_STENCIL8:this.target.webglVersion===u.WEBGL2?L.DEPTH24_STENCIL8:L.DEPTH_STENCIL:this.target.webglVersion===u.WEBGL2?this.depthFormat===u.FLOAT?L.DEPTH_COMPONENT32F:L.DEPTH_COMPONENT24:L.DEPTH_COMPONENT;return{internalFormat:L,format:D,type:k}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var B=this.color,k=this.depth,D=this.colorRenderbuffer,L=this.depthRenderbuffer,B=(this._deleteTexture(B),k&&this._deleteTexture(k),this.gl);D&&B.deleteRenderbuffer(D),L&&B.deleteRenderbuffer(L),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var k=new E(this);return k._computeCameraDefaultSettings(),k._setDefaultCamera(),this.target._renderer._curCamera=k}},{key:"_deleteTexture",value:function(k){this.gl.deleteTexture(k.rawTexture()),this.target._renderer.textures.delete(k)}},{key:"remove",value:function(){var k=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),k.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&k.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&k.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&k.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var k=this.gl;k.bindFramebuffer(k.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var k=this.gl,D=(k.bindFramebuffer(k.READ_FRAMEBUFFER,this.aaFramebuffer),k.bindFramebuffer(k.DRAW_FRAMEBUFFER,this.framebuffer),[[k.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&D.push([k.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var L=0,B=D;L<B.length;L++){var V=h(B[L],2),F=V[0],V=V[1];k.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,F,V)}}}},{key:"end",value:function(){var k=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(k.bindFramebuffer(k.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(k){this.begin(),k(),this.end()}},{key:"loadPixels",value:function(){var k=this.gl,D=this.target._renderer.activeFramebuffer(),L=(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,y.readPixelsWebGL)(this.pixels,k,this.framebuffer,0,0,this.width*this.density,this.height*this.density,L.format,L.type),D?k.bindFramebuffer(k.FRAMEBUFFER,D._framebufferToBind()):k.bindFramebuffer(k.FRAMEBUFFER,null)}},{key:"get",value:function(k,D,L,B){s.default._validateParameters("p5.Framebuffer.get",arguments);var F=this._glColorFormat();if(k===void 0&&D===void 0)D=k=0,L=this.width,B=this.height;else if(L===void 0&&B===void 0)return(k<0||D<0||k>=this.width||D>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),k=this.target.constrain(k,0,this.width-1),D=this.target.constrain(D,0,this.height-1)),(0,y.readPixelWebGL)(this.gl,this.framebuffer,k*this.density,D*this.density,F.format,F.type);k=this.target.constrain(k,0,this.width-1),D=this.target.constrain(D,0,this.height-1),L=this.target.constrain(L,1,this.width-k),B=this.target.constrain(B,1,this.height-D);for(var V=(0,y.readPixelsWebGL)(void 0,this.gl,this.framebuffer,k*this.density,D*this.density,L*this.density,B*this.density,F.format,F.type),q=new Uint8ClampedArray(L*B*this.density*this.density*4),G=(q.fill(255),F.type===this.gl.RGB?3:4),W=0;W<B*this.density;W++)for(var $=0;$<L*this.density;$++)for(var K=0;K<4;K++){var N,A=4*(W*L*this.density+$)+K;K<G&&(N=G==4?A:(W*L*this.density+$)*G+K,q[A]=V[N])}return k=new s.default.Image(L*this.density,B*this.density),k.imageData=k.canvas.getContext("2d").createImageData(k.width,k.height),k.imageData.data.set(q),k.pixels=k.imageData.data,k.updatePixels(),this.density!==1&&k.resize(L,B),k}},{key:"updatePixels",value:function(){var k=this.gl,D=(this.colorP5Texture.bindTexture(),this._glColorFormat()),L=D.format===k.RGBA?4:3,L=this.width*this.height*this.density*this.density*L,B=D.type===k.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof B)||this.pixels.length!==L)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");k.texImage2D(k.TEXTURE_2D,0,D.internalFormat,this.width*this.density,this.height*this.density,0,D.format,D.type,this.pixels),this.colorP5Texture.unbindTexture(),B=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),this.end()):(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),B?k.bindFramebuffer(k.FRAMEBUFFER,B._framebufferToBind()):k.bindFramebuffer(k.FRAMEBUFFER,null))}}]),R}()),O=s.default.Framebuffer=T;a.default=O},{"../core/constants":264,"../core/main":275,"./p5.RendererGL":332,"./p5.Texture":334,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],327:[function(t,d,a){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function o(f){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},u=function(f){if(f&&f.__esModule)return f;if(f===null||o(f)!=="object"&&typeof f!="function")return{default:f};var p=b();if(p&&p.has(f))return p.get(f);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var g;Object.prototype.hasOwnProperty.call(f,m)&&((g=_?Object.getOwnPropertyDescriptor(f,m):null)&&(g.get||g.set)?Object.defineProperty(v,m,g):v[m]=f[m])}return v.default=f,p&&p.set(f,v),v}(t("../core/constants"));function b(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,b=function(){return f},f)}function y(f){return function(p){if(Array.isArray(p)){for(var m=0,v=new Array(p.length);m<p.length;m++)v[m]=p[m];return v}}(f)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(f,p){for(var m=0;m<p.length;m++){var v=p[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}s.default.Geometry=function(){function f(v,_,g){if(this instanceof f)return this.vertices=[],this.lineVertices=new s.default.DataArray,this.lineTangentsIn=new s.default.DataArray,this.lineTangentsOut=new s.default.DataArray,this.lineSides=new s.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new s.default.DataArray,this.detailX=v!==void 0?v:1,this.detailY=_!==void 0?_:1,this.dirtyFlags={},g instanceof Function&&g.call(this),this;throw new TypeError("Cannot call a class as a function")}var p,m;return p=f,(m=[{key:"reset",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"computeFaces",value:function(){this.faces.length=0;for(var v,_,g,x=this.detailX+1,j=0;j<this.detailY;j++)for(var E=0;E<this.detailX;E++)_=(j+1)*x+E+1,this.faces.push([j*x+E,v=j*x+E+1,g=(j+1)*x+E]),this.faces.push([g,v,_]);return this}},{key:"_getFaceNormal",value:function(_){var _=this.faces[_],g=this.vertices[_[0]],j=this.vertices[_[1]],_=this.vertices[_[2]],j=s.default.Vector.sub(j,g),_=s.default.Vector.sub(_,g),g=s.default.Vector.cross(j,_),x=s.default.Vector.mag(g),j=x/(s.default.Vector.mag(j)*s.default.Vector.mag(_));return j===0||isNaN(j)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),g):(1<j&&(j=1),g.mult(Math.asin(j)/x))}},{key:"computeNormals",value:function(){var v,_=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:u.FLAT,x=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,j=this.vertexNormals,E=this.vertices,M=this.faces;if(g===u.SMOOTH){for(var T={},O=[],R=Math.pow(10,x===void 0?3:x),k=function(V){return Math.round(V*R)/R},D=function(V){return"".concat(k(V.x),",").concat(k(V.y),",").concat(k(V.z))},L=0;L<E.length;L++){var B=E[L],F=D(B);T[F]===void 0&&(T[F]=O.length,O.push(B))}M.forEach(function(V){for(var q=0;q<3;++q){var G=V[q],G=E[G],G=D(G);V[q]=T[G]}}),this.edges.forEach(function(V){for(var q=0;q<2;++q){var G=V[q],G=E[G],G=D(G);V[q]=T[G]}}),this.vertices=E=O}for(v=j.length=0;v<E.length;++v)j.push(new s.default.Vector);for(M.forEach(function(V,q){for(var G=_._getFaceNormal(q),W=0;W<3;++W){var $=V[W];j[$].add(G)}}),v=0;v<E.length;++v)j[v].normalize();return this}},{key:"averageNormals",value:function(){for(var v=0;v<=this.detailY;v++){var _=this.detailX+1,g=s.default.Vector.add(this.vertexNormals[v*_],this.vertexNormals[v*_+this.detailX]),g=s.default.Vector.div(g,2);this.vertexNormals[v*_]=g,this.vertexNormals[v*_+this.detailX]=g}return this}},{key:"averagePoleNormals",value:function(){for(var v=new s.default.Vector(0,0,0),_=0;_<this.detailX;_++)v.add(this.vertexNormals[_]);for(var v=s.default.Vector.div(v,this.detailX),g=0;g<this.detailX;g++)this.vertexNormals[g]=v;v=new s.default.Vector(0,0,0);for(var x=this.vertices.length-1;x>this.vertices.length-1-this.detailX;x--)v.add(this.vertexNormals[x]);v=s.default.Vector.div(v,this.detailX);for(var j=this.vertices.length-1;j>this.vertices.length-1-this.detailX;j--)this.vertexNormals[j]=v;return this}},{key:"_makeTriangleEdges",value:function(){for(var v=this.edges.length=0;v<this.faces.length;v++)this.edges.push([this.faces[v][0],this.faces[v][1]]),this.edges.push([this.faces[v][1],this.faces[v][2]]),this.edges.push([this.faces[v][2],this.faces[v][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var v,_=new Map,g=new Set,x=0;x<this.edges.length;x++){var j,E=this.edges[x-1],M=this.edges[x],T=this.vertices[M[0]],O=this.vertices[M[1]],R=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*M[0],4*(M[0]+1)):[0,0,0,0],k=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*M[1],4*(M[1]+1)):[0,0,0,0],D=O.copy().sub(T).normalize(),L=0<D.magSq();L&&this._addSegment(T,O,R,k,D),0<x&&E[1]===M[0]?g.has(M[0])||(g.add(M[0]),_.delete(M[0]),v&&L&&D.dot(v)<1-1e-8&&this._addJoin(T,v,D,R)):(L&&!g.has(M[0])&&((j=_.get(M[0]))?(this._addJoin(T,j.dir,D,R),_.delete(M[0]),g.add(M[0])):_.set(M[0],{point:T,dir:D.copy().mult(-1),color:R})),v&&!g.has(E[1])&&((j=_.get(E[1]))?(this._addJoin(this.vertices[E[1]],v,j.dir.copy().mult(-1),R),_.delete(E[1]),g.add(E[1])):_.set(E[1],{point:this.vertices[E[1]],dir:v,color:R}),v=void 0)),x!==this.edges.length-1||g.has(M[1])||((T=_.get(M[1]))?(this._addJoin(O,D,T.dir.copy().mult(-1),k),_.delete(M[1]),g.add(M[1])):_.set(M[1],{point:O,dir:D,color:k})),L&&(v=D)}var B=!0,F=!1,V=void 0;try{for(var q,G=_.values()[Symbol.iterator]();!(B=(q=G.next()).done);B=!0){var W=q.value,$=W.point,K=W.dir,N=W.color;this._addCap($,K,N)}}catch(A){F=!0,V=A}finally{try{B||G.return==null||G.return()}finally{if(F)throw V}}return this}},{key:"_addSegment",value:function(E,M,g,x,j){var E=E.array(),M=M.array(),T=j.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var O=0,R=[this.lineTangentsIn,this.lineTangentsOut];O<R.length;O++)for(var k=R[O],D=0;D<6;D++)k.push.apply(k,y(T));return(j=this.lineVertices).push.apply(j,y(E).concat(y(M),y(E),y(M),y(M),y(E))),(j=this.lineVertexColors).push.apply(j,y(g).concat(y(x),y(g),y(x),y(x),y(g))),this}},{key:"_addCap",value:function(v,_,g){for(var x,j=v.array(),E=_.array(),M=[0,0,0],T=0;T<6;T++)(x=this.lineVertices).push.apply(x,y(j)),(x=this.lineTangentsIn).push.apply(x,y(E)),(x=this.lineTangentsOut).push.apply(x,M),(x=this.lineVertexColors).push.apply(x,y(g));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(v,_,g,x){for(var j,E=v.array(),M=_.array(),T=g.array(),O=0;O<12;O++)(j=this.lineVertices).push.apply(j,y(E)),(j=this.lineTangentsIn).push.apply(j,y(M)),(j=this.lineTangentsOut).push.apply(j,y(T)),(j=this.lineVertexColors).push.apply(j,y(x));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var v=this.vertices[0].copy(),_=this.vertices[0].copy(),g=0;g<this.vertices.length;g++)v.x=Math.max(v.x,this.vertices[g].x),_.x=Math.min(_.x,this.vertices[g].x),v.y=Math.max(v.y,this.vertices[g].y),_.y=Math.min(_.y,this.vertices[g].y),v.z=Math.max(v.z,this.vertices[g].z),_.z=Math.min(_.z,this.vertices[g].z);for(var x=s.default.Vector.lerp(v,_,.5),j=s.default.Vector.sub(v,_),E=200/Math.max(Math.max(j.x,j.y),j.z),M=0;M<this.vertices.length;M++)this.vertices[M].sub(x),this.vertices[M].mult(E)}return this}}])&&c(p.prototype,m),f}();var h=s.default.Geometry;a.default=h},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],328:[function(b,d,a){b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(b=b("../core/main"))&&b.__esModule?b:{default:b};function o(y,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}var s=Array,u=function(y){return Array.isArray(y)},b=(typeof Float32Array<"u"&&(s=Float32Array,u=function(y){return Array.isArray(y)||y instanceof Float32Array}),n.default.Matrix=function(){function y(){var p=this,m=y;if(p instanceof m)return arguments.length&&((p=arguments.length-1)<0||arguments.length<=p?void 0:arguments[p])instanceof n.default&&(this.p5=(m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new s([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var c,h,f;return c=y,f=[{key:"identity",value:function(p){return new n.default.Matrix(p)}}],(h=[{key:"set",value:function(p){return p instanceof n.default.Matrix?this.mat4=p.mat4:u(p)?this.mat4=p:arguments.length===16&&(this.mat4[0]=p,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new n.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var p;return this.mat3!==void 0?((p=new n.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],p.mat3[1]=this.mat3[1],p.mat3[2]=this.mat3[2],p.mat3[3]=this.mat3[3],p.mat3[4]=this.mat3[4],p.mat3[5]=this.mat3[5],p.mat3[6]=this.mat3[6],p.mat3[7]=this.mat3[7],p.mat3[8]=this.mat3[8]):((p=new n.default.Matrix(this.p5)).mat4[0]=this.mat4[0],p.mat4[1]=this.mat4[1],p.mat4[2]=this.mat4[2],p.mat4[3]=this.mat4[3],p.mat4[4]=this.mat4[4],p.mat4[5]=this.mat4[5],p.mat4[6]=this.mat4[6],p.mat4[7]=this.mat4[7],p.mat4[8]=this.mat4[8],p.mat4[9]=this.mat4[9],p.mat4[10]=this.mat4[10],p.mat4[11]=this.mat4[11],p.mat4[12]=this.mat4[12],p.mat4[13]=this.mat4[13],p.mat4[14]=this.mat4[14],p.mat4[15]=this.mat4[15]),p}},{key:"transpose",value:function(p){var m,v,_,g,x,j;return p instanceof n.default.Matrix?(m=p.mat4[1],v=p.mat4[2],_=p.mat4[3],g=p.mat4[6],x=p.mat4[7],j=p.mat4[11],this.mat4[0]=p.mat4[0],this.mat4[1]=p.mat4[4],this.mat4[2]=p.mat4[8],this.mat4[3]=p.mat4[12],this.mat4[4]=m,this.mat4[5]=p.mat4[5],this.mat4[6]=p.mat4[9],this.mat4[7]=p.mat4[13],this.mat4[8]=v,this.mat4[9]=g,this.mat4[10]=p.mat4[10],this.mat4[11]=p.mat4[14],this.mat4[12]=_,this.mat4[13]=x,this.mat4[14]=j,this.mat4[15]=p.mat4[15]):u(p)&&(m=p[1],v=p[2],_=p[3],g=p[6],x=p[7],j=p[11],this.mat4[0]=p[0],this.mat4[1]=p[4],this.mat4[2]=p[8],this.mat4[3]=p[12],this.mat4[4]=m,this.mat4[5]=p[5],this.mat4[6]=p[9],this.mat4[7]=p[13],this.mat4[8]=v,this.mat4[9]=g,this.mat4[10]=p[10],this.mat4[11]=p[14],this.mat4[12]=_,this.mat4[13]=x,this.mat4[14]=j,this.mat4[15]=p[15]),this}},{key:"invert",value:function(V){V instanceof n.default.Matrix?(m=V.mat4[0],v=V.mat4[1],_=V.mat4[2],g=V.mat4[3],x=V.mat4[4],j=V.mat4[5],E=V.mat4[6],M=V.mat4[7],T=V.mat4[8],O=V.mat4[9],R=V.mat4[10],k=V.mat4[11],D=V.mat4[12],L=V.mat4[13],B=V.mat4[14],F=V.mat4[15]):u(V)&&(m=V[0],v=V[1],_=V[2],g=V[3],x=V[4],j=V[5],E=V[6],M=V[7],T=V[8],O=V[9],R=V[10],k=V[11],D=V[12],L=V[13],B=V[14],F=V[15]);var m,v,_,g,x,j,E,M,T,O,R,k,D,L,B,F,V=m*j-v*x,q=m*E-_*x,G=m*M-g*x,W=v*E-_*j,$=v*M-g*j,K=_*M-g*E,N=T*L-O*D,A=T*B-R*D,I=T*F-k*D,z=O*B-R*L,Y=O*F-k*L,J=R*F-k*B,ee=V*J-q*Y+G*z+W*I-$*A+K*N;return ee?(this.mat4[0]=(j*J-E*Y+M*z)*(ee=1/ee),this.mat4[1]=(_*Y-v*J-g*z)*ee,this.mat4[2]=(L*K-B*$+F*W)*ee,this.mat4[3]=(R*$-O*K-k*W)*ee,this.mat4[4]=(E*I-x*J-M*A)*ee,this.mat4[5]=(m*J-_*I+g*A)*ee,this.mat4[6]=(B*G-D*K-F*q)*ee,this.mat4[7]=(T*K-R*G+k*q)*ee,this.mat4[8]=(x*Y-j*I+M*N)*ee,this.mat4[9]=(v*I-m*Y-g*N)*ee,this.mat4[10]=(D*$-L*G+F*V)*ee,this.mat4[11]=(O*G-T*$-k*V)*ee,this.mat4[12]=(j*A-x*z-E*N)*ee,this.mat4[13]=(m*z-v*A+_*N)*ee,this.mat4[14]=(L*q-D*W-B*V)*ee,this.mat4[15]=(T*W-O*q+R*V)*ee,this):null}},{key:"invert3x3",value:function(){var p=this.mat3[0],m=this.mat3[1],v=this.mat3[2],_=this.mat3[3],g=this.mat3[4],x=this.mat3[5],j=this.mat3[6],E=this.mat3[7],M=this.mat3[8],T=M*g-x*E,O=-M*_+x*j,R=E*_-g*j,k=p*T+m*O+v*R;return k?(this.mat3[0]=T*(k=1/k),this.mat3[1]=(-M*m+v*E)*k,this.mat3[2]=(x*m-v*g)*k,this.mat3[3]=O*k,this.mat3[4]=(M*p-v*j)*k,this.mat3[5]=(-x*p+v*_)*k,this.mat3[6]=R*k,this.mat3[7]=(-E*p+m*j)*k,this.mat3[8]=(g*p-m*_)*k,this):null}},{key:"transpose3x3",value:function(p){var m=(p=p===void 0?this.mat3:p)[1],v=p[2],_=p[5];return this.mat3[0]=p[0],this.mat3[1]=p[3],this.mat3[2]=p[6],this.mat3[3]=m,this.mat3[4]=p[4],this.mat3[5]=p[7],this.mat3[6]=v,this.mat3[7]=_,this.mat3[8]=p[8],this}},{key:"inverseTranspose",value:function(p){if(p=p.mat4,this.mat3===void 0?n.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=p[0],this.mat3[1]=p[1],this.mat3[2]=p[2],this.mat3[3]=p[4],this.mat3[4]=p[5],this.mat3[5]=p[6],this.mat3[6]=p[8],this.mat3[7]=p[9],this.mat3[8]=p[10]),p=this.invert3x3(),p)p.transpose3x3(this.mat3);else for(var m=0;m<9;m++)this.mat3[m]=0;return this}},{key:"determinant",value:function(){var p=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],m=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],v=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],_=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],g=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],x=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],j=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],E=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],M=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],T=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],O=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return p*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-m*O+v*T+_*M-g*E+x*j}},{key:"mult",value:function(v){var m;if(v===this||v===this.mat4)m=this.copy().mat4;else if(v instanceof n.default.Matrix)m=v.mat4;else if(u(v))m=v;else{if(arguments.length!==16)return;m=arguments}var v=this.mat4[0],_=this.mat4[1],g=this.mat4[2],x=this.mat4[3];return this.mat4[0]=v*m[0]+_*m[4]+g*m[8]+x*m[12],this.mat4[1]=v*m[1]+_*m[5]+g*m[9]+x*m[13],this.mat4[2]=v*m[2]+_*m[6]+g*m[10]+x*m[14],this.mat4[3]=v*m[3]+_*m[7]+g*m[11]+x*m[15],v=this.mat4[4],_=this.mat4[5],g=this.mat4[6],x=this.mat4[7],this.mat4[4]=v*m[0]+_*m[4]+g*m[8]+x*m[12],this.mat4[5]=v*m[1]+_*m[5]+g*m[9]+x*m[13],this.mat4[6]=v*m[2]+_*m[6]+g*m[10]+x*m[14],this.mat4[7]=v*m[3]+_*m[7]+g*m[11]+x*m[15],v=this.mat4[8],_=this.mat4[9],g=this.mat4[10],x=this.mat4[11],this.mat4[8]=v*m[0]+_*m[4]+g*m[8]+x*m[12],this.mat4[9]=v*m[1]+_*m[5]+g*m[9]+x*m[13],this.mat4[10]=v*m[2]+_*m[6]+g*m[10]+x*m[14],this.mat4[11]=v*m[3]+_*m[7]+g*m[11]+x*m[15],v=this.mat4[12],_=this.mat4[13],g=this.mat4[14],x=this.mat4[15],this.mat4[12]=v*m[0]+_*m[4]+g*m[8]+x*m[12],this.mat4[13]=v*m[1]+_*m[5]+g*m[9]+x*m[13],this.mat4[14]=v*m[2]+_*m[6]+g*m[10]+x*m[14],this.mat4[15]=v*m[3]+_*m[7]+g*m[11]+x*m[15],this}},{key:"apply",value:function(v){var m;if(v===this||v===this.mat4)m=this.copy().mat4;else if(v instanceof n.default.Matrix)m=v.mat4;else if(u(v))m=v;else{if(arguments.length!==16)return;m=arguments}var v=this.mat4,_=v[0],g=v[4],x=v[8],j=v[12],_=(v[0]=m[0]*_+m[1]*g+m[2]*x+m[3]*j,v[4]=m[4]*_+m[5]*g+m[6]*x+m[7]*j,v[8]=m[8]*_+m[9]*g+m[10]*x+m[11]*j,v[12]=m[12]*_+m[13]*g+m[14]*x+m[15]*j,v[1]),g=v[5],x=v[9],j=v[13],_=(v[1]=m[0]*_+m[1]*g+m[2]*x+m[3]*j,v[5]=m[4]*_+m[5]*g+m[6]*x+m[7]*j,v[9]=m[8]*_+m[9]*g+m[10]*x+m[11]*j,v[13]=m[12]*_+m[13]*g+m[14]*x+m[15]*j,v[2]),g=v[6],x=v[10],j=v[14],_=(v[2]=m[0]*_+m[1]*g+m[2]*x+m[3]*j,v[6]=m[4]*_+m[5]*g+m[6]*x+m[7]*j,v[10]=m[8]*_+m[9]*g+m[10]*x+m[11]*j,v[14]=m[12]*_+m[13]*g+m[14]*x+m[15]*j,v[3]),g=v[7],x=v[11],j=v[15];return v[3]=m[0]*_+m[1]*g+m[2]*x+m[3]*j,v[7]=m[4]*_+m[5]*g+m[6]*x+m[7]*j,v[11]=m[8]*_+m[9]*g+m[10]*x+m[11]*j,v[15]=m[12]*_+m[13]*g+m[14]*x+m[15]*j,this}},{key:"scale",value:function(p,m,v){return p instanceof n.default.Vector?(m=p.y,v=p.z,p=p.x):p instanceof Array&&(m=p[1],v=p[2],p=p[0]),this.mat4[0]*=p,this.mat4[1]*=p,this.mat4[2]*=p,this.mat4[3]*=p,this.mat4[4]*=m,this.mat4[5]*=m,this.mat4[6]*=m,this.mat4[7]*=m,this.mat4[8]*=v,this.mat4[9]*=v,this.mat4[10]*=v,this.mat4[11]*=v,this}},{key:"rotate",value:function(V,Y,z,_){Y instanceof n.default.Vector?(z=Y.y,_=Y.z,Y=Y.x):Y instanceof Array&&(z=Y[1],_=Y[2],Y=Y[0]);var g=Math.sqrt(Y*Y+z*z+_*_),g=(Y*=1/g,z*=1/g,_*=1/g,this.mat4[0]),x=this.mat4[1],j=this.mat4[2],E=this.mat4[3],M=this.mat4[4],T=this.mat4[5],O=this.mat4[6],R=this.mat4[7],k=this.mat4[8],D=this.mat4[9],L=this.mat4[10],B=this.mat4[11],F=Math.sin(V),V=Math.cos(V),q=1-V,G=Y*Y*q+V,W=z*Y*q+_*F,$=_*Y*q-z*F,K=Y*z*q-_*F,N=z*z*q+V,A=_*z*q+Y*F,I=Y*_*q+z*F,z=z*_*q-Y*F,Y=_*_*q+V;return this.mat4[0]=g*G+M*W+k*$,this.mat4[1]=x*G+T*W+D*$,this.mat4[2]=j*G+O*W+L*$,this.mat4[3]=E*G+R*W+B*$,this.mat4[4]=g*K+M*N+k*A,this.mat4[5]=x*K+T*N+D*A,this.mat4[6]=j*K+O*N+L*A,this.mat4[7]=E*K+R*N+B*A,this.mat4[8]=g*I+M*z+k*Y,this.mat4[9]=x*I+T*z+D*Y,this.mat4[10]=j*I+O*z+L*Y,this.mat4[11]=E*I+R*z+B*Y,this}},{key:"translate",value:function(_){var m=_[0],v=_[1],_=_[2]||0;this.mat4[12]+=this.mat4[0]*m+this.mat4[4]*v+this.mat4[8]*_,this.mat4[13]+=this.mat4[1]*m+this.mat4[5]*v+this.mat4[9]*_,this.mat4[14]+=this.mat4[2]*m+this.mat4[6]*v+this.mat4[10]*_,this.mat4[15]+=this.mat4[3]*m+this.mat4[7]*v+this.mat4[11]*_}},{key:"rotateX",value:function(p){this.rotate(p,1,0,0)}},{key:"rotateY",value:function(p){this.rotate(p,0,1,0)}},{key:"rotateZ",value:function(p){this.rotate(p,0,0,1)}},{key:"perspective",value:function(g,m,v,_){var g=1/Math.tan(g/2),x=1/(v-_);return this.mat4[0]=g/m,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=g,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(_+v)*x,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*_*v*x,this.mat4[15]=0,this}},{key:"ortho",value:function(p,m,v,_,g,x){var j=1/(p-m),E=1/(v-_),M=1/(g-x);return this.mat4[0]=-2*j,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*E,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*M,this.mat4[11]=0,this.mat4[12]=(p+m)*j,this.mat4[13]=(_+v)*E,this.mat4[14]=(x+g)*M,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(p,m,v,_){var g=new Array(4),x=this.mat4;return g[0]=x[0]*p+x[4]*m+x[8]*v+x[12]*_,g[1]=x[1]*p+x[5]*m+x[9]*v+x[13]*_,g[2]=x[2]*p+x[6]*m+x[10]*v+x[14]*_,g[3]=x[3]*p+x[7]*m+x[11]*v+x[15]*_,g}},{key:"multiplyPoint",value:function(v){var _=v.x,m=v.y,v=v.z,_=this.multiplyVec4(_,m,v,1);return new n.default.Vector(_[0],_[1],_[2])}},{key:"multiplyAndNormalizePoint",value:function(v){var _=v.x,m=v.y,v=v.z,_=this.multiplyVec4(_,m,v,1);return _[0]/=_[3],_[1]/=_[3],_[2]/=_[3],new n.default.Vector(_[0],_[1],_[2])}},{key:"multiplyDirection",value:function(v){var _=v.x,m=v.y,v=v.z,_=this.multiplyVec4(_,m,v,0);return new n.default.Vector(_[0],_[1],_[2])}},{key:"mult3x3",value:function(v){var m;if(v===this||v===this.mat3)m=this.copy().mat3;else if(v instanceof n.default.Matrix)m=v.mat3;else if(u(v))m=v;else{if(arguments.length!==9)return;m=arguments}var v=this.mat3[0],_=this.mat3[1],g=this.mat3[2];return this.mat3[0]=v*m[0]+_*m[3]+g*m[6],this.mat3[1]=v*m[1]+_*m[4]+g*m[7],this.mat3[2]=v*m[2]+_*m[5]+g*m[8],v=this.mat3[3],_=this.mat3[4],g=this.mat3[5],this.mat3[3]=v*m[0]+_*m[3]+g*m[6],this.mat3[4]=v*m[1]+_*m[4]+g*m[7],this.mat3[5]=v*m[2]+_*m[5]+g*m[8],v=this.mat3[6],_=this.mat3[7],g=this.mat3[8],this.mat3[6]=v*m[0]+_*m[3]+g*m[6],this.mat3[7]=v*m[1]+_*m[4]+g*m[7],this.mat3[8]=v*m[2]+_*m[5]+g*m[8],this}},{key:"column",value:function(p){return new n.default.Vector(this.mat3[3*p],this.mat3[3*p+1],this.mat3[3*p+2])}},{key:"row",value:function(p){return new n.default.Vector(this.mat3[p],this.mat3[p+3],this.mat3[p+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(p,m){return(m=m===void 0?p.copy():m).x=this.row(0).dot(p),m.y=this.row(1).dot(p),m.z=this.row(2).dot(p),m}},{key:"createSubMatrix3x3",value:function(){var p=new n.default.Matrix("mat3");return p.mat3[0]=this.mat4[0],p.mat3[1]=this.mat4[1],p.mat3[2]=this.mat4[2],p.mat3[3]=this.mat4[4],p.mat3[4]=this.mat4[5],p.mat3[5]=this.mat4[6],p.mat3[6]=this.mat4[8],p.mat3[7]=this.mat4[9],p.mat3[8]=this.mat4[10],p}}])&&o(c.prototype,h),f&&o(c,f),y}(),n.default.Matrix);a.default=b},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],329:[function(t,d,a){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function n(o,s){for(var u=0;u<s.length;u++){var b=s[u];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(o,b.key,b)}}t.default.RenderBuffer=function(){function o(b,y,c,h,f,p){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.size=b,this.src=y,this.dst=c,this.attr=h,this._renderer=f,this.map=p}var s,u;return s=o,(u=[{key:"_prepareBuffer",value:function(b,y){var c,h,f,v=y.attributes,p=this._renderer.GL,m=b.model||b,v=v[this.attr];v&&(c=b[this.dst],0<(h=m[this.src]).length?((f=!c)&&(b[this.dst]=c=p.createBuffer()),p.bindBuffer(p.ARRAY_BUFFER,c),!f&&m.dirtyFlags[this.src]===!1||(f=(b=this.map)?b(h):h,this._renderer._bindBuffer(c,p.ARRAY_BUFFER,f),m.dirtyFlags[this.src]=!1),y.enableAttrib(v,this.size)):(b=v.location)!==-1&&this._renderer.registerEnabled.has(b)&&(p.disableVertexAttribArray(b),this._renderer.registerEnabled.delete(b)))}}])&&n(s.prototype,u),o}(),t=t.default.RenderBuffer,a.default=t},{"../core/main":275,"core-js/modules/es.array.map":164}],330:[function(t,d,a){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function o(f){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(p){return n(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":n(p)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},u=function(f){if(f&&f.__esModule)return f;if(f===null||o(f)!=="object"&&typeof f!="function")return{default:f};var p=b();if(p&&p.has(f))return p.get(f);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var g;Object.prototype.hasOwnProperty.call(f,m)&&((g=_?Object.getOwnPropertyDescriptor(f,m):null)&&(g.get||g.set)?Object.defineProperty(v,m,g):v[m]=f[m])}return v.default=f,p&&p.set(f,v),v}(t("../core/constants"));function b(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,b=function(){return f},f)}function y(f){return function(p){if(Array.isArray(p)){for(var m=0,v=new Array(p.length);m<p.length;m++)v[m]=p[m];return v}}(f)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(f){return this.immediateMode.shapeMode=f!==void 0?f:u.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var c={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},h=(s.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==u.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},s.default.RendererGL.prototype.vertex=function(f,p){if(this.immediateMode.shapeMode===u.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var m in c){var v=c[m],m=this.immediateMode.geometry[m];m.push.apply(m,y(m.slice(m.length-3*v,m.length-2*v)).concat(y(m.slice(m.length-v,m.length))))}var _,g,x=_=g=0,j=(arguments.length===3?x=arguments[2]:arguments.length===4?(_=arguments[2],g=arguments[3]):arguments.length===5&&(x=arguments[2],_=arguments[3],g=arguments[4]),new s.default.Vector(f,p,x)),j=(this.immediateMode.geometry.vertices.push(j),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),j=(this.immediateMode.geometry.vertexColors.push(j[0],j[1],j[2],j[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(j[0],j[1],j[2],j[3]),this.textureMode!==u.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(_/=this._tex.width,g/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(_,g),this.immediateMode._bezierVertex[0]=f,this.immediateMode._bezierVertex[1]=p,this.immediateMode._bezierVertex[2]=x,this.immediateMode._quadraticVertex[0]=f,this.immediateMode._quadraticVertex[1]=p,this.immediateMode._quadraticVertex[2]=x,this},s.default.RendererGL.prototype.normal=function(f,p,m){return f instanceof s.default.Vector?this._currentNormal=f:this._currentNormal=new s.default.Vector(f,p,m),this},s.default.RendererGL.prototype.endShape=function(f,p,m,v,_,g){var x=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===u.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===u.TESS&&(this.immediateMode.shapeMode,u.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this.immediateMode.shapeMode!==u.LINE_STRIP&&this.immediateMode.shapeMode!==u.LINES||(this.immediateMode.shapeMode=u.TRIANGLE_FAN),this.immediateMode.shapeMode===u.QUADS?this.immediateMode.shapeMode=u.TRIANGLES:this.immediateMode.shapeMode===u.QUAD_STRIP&&(this.immediateMode.shapeMode=u.TRIANGLE_STRIP),this._doFill&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(x),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(f){var p;this.immediateMode.geometry.vertices.length!==0&&(p=this._doStroke,f=f===u.CLOSE,p&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,f),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),p=this.immediateMode.shapeMode===u.TESS,f=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||p||f)&&this.immediateMode.shapeMode!==u.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(f,p,m){var v=[],_=0,g=this.immediateMode.contourIndices.slice(),x=0;switch(f){case u.TRIANGLE_STRIP:for(_=0;_<p.length-2;_++)v.push([_,_+1]),v.push([_,_+2]);v.push([_,_+1]);break;case u.TRIANGLE_FAN:for(_=1;_<p.length-1;_++)v.push([0,_]),v.push([_,_+1]);v.push([0,p.length-1]);break;case u.TRIANGLES:for(_=0;_<p.length-2;_+=3)v.push([_,_+1]),v.push([_+1,_+2]),v.push([_+2,_]);break;case u.LINES:for(_=0;_<p.length-1;_+=2)v.push([_,_+1]);break;case u.QUADS:for(_=0;_<p.length-5;_+=6)v.push([_,_+1]),v.push([_+1,_+2]),v.push([_+3,_+5]),v.push([_+4,_+5]);break;case u.QUAD_STRIP:for(_=0;_<p.length-2;_+=2)v.push([_,_+1]),v.push([_,_+2]),v.push([_+1,_+3]);v.push([_,_+1]);break;default:for(_=0;_<p.length;_++)_+1<p.length&&_+1!==g[0]?v.push([_,_+1]):((m||x)&&v.push([_,x]),0<g.length&&(x=g.shift()))}return f!==u.TESS&&m&&v.push([p.length-1,0]),v},s.default.RendererGL.prototype._tesselateShape=function(){for(var f=this,p=(this.immediateMode.shapeMode=u.TRIANGLES,[[]]),m=0;m<this.immediateMode.geometry.vertices.length;m++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===m&&(this.immediateMode.contourIndices.shift(),p.push([])),p[p.length-1].push(this.immediateMode.geometry.vertices[m].x,this.immediateMode.geometry.vertices[m].y,this.immediateMode.geometry.vertices[m].z,this.immediateMode.geometry.uvs[2*m],this.immediateMode.geometry.uvs[2*m+1],this.immediateMode.geometry.vertexColors[4*m],this.immediateMode.geometry.vertexColors[4*m+1],this.immediateMode.geometry.vertexColors[4*m+2],this.immediateMode.geometry.vertexColors[4*m+3],this.immediateMode.geometry.vertexNormals[m].x,this.immediateMode.geometry.vertexNormals[m].y,this.immediateMode.geometry.vertexNormals[m].z);for(var v,_=this._triangulate(p),g=this.immediateMode.geometry.vertices,x=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),j=0,E=_.length;j<E;j+=s.default.RendererGL.prototype.tessyVertexSize)x.push.apply(x,y(_.slice(j+5,j+9))),this.normal.apply(this,y(_.slice(j+9,j+12))),this.vertex.apply(this,y(_.slice(j,j+5)));this.geometryBuilder&&(v=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(M){return M.map(function(T){if(!v.has(T)){var O=g[T],R=f.immediateMode.geometry.vertices.findIndex(function(q){return O.x===q.x&&O.y===q.y&&O.z===q.z});if(R===-1){for(var k=1/0,D=0,L=0;L<f.immediateMode.geometry.vertices.length;L++){var F=f.immediateMode.geometry.vertices[L],V=O.x-F.x,B=O.y-F.y,F=O.z-F.z,V=V*V+B*B+F*F;V<k&&(k=V,D=L)}R=D}v.set(T,R)}return v.get(T)})})),this.immediateMode.geometry.vertexColors=x},s.default.RendererGL.prototype._drawImmediateFill=function(){var f,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,m=this.GL,v=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,f=this._getImmediateFillShader(),this._setFillUniforms(f),!0),_=!1,g=void 0;try{for(var x,j=this.immediateMode.buffers.fill[Symbol.iterator]();!(v=(x=j.next()).done);v=!0)x.value._prepareBuffer(this.immediateMode.geometry,f)}catch(E){_=!0,g=E}finally{try{v||j.return==null||j.return()}finally{if(_)throw g}}if(f.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor),p===1)m.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{m.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,p)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}f.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var f=this.GL,p=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),m=(this._setStrokeUniforms(p),!0),v=!1,_=void 0;try{for(var g,x=this.immediateMode.buffers.stroke[Symbol.iterator]();!(m=(g=x.next()).done);m=!0)g.value._prepareBuffer(this.immediateMode.geometry,p)}catch(j){v=!0,_=j}finally{try{m||x.return==null||x.return()}finally{if(v)throw _}}p.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),f.drawArrays(f.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),p.unbindShader()},s.default.RendererGL);a.default=h},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.find-index":156,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],331:[function(t,d,a){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function o(c){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(h){return n(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":n(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},u=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(c){if(c&&c.__esModule)return c;if(c===null||o(c)!=="object"&&typeof c!="function")return{default:c};var h=b();if(h&&h.has(c))return h.get(c);var f,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var v;Object.prototype.hasOwnProperty.call(c,f)&&((v=m?Object.getOwnPropertyDescriptor(c,f):null)&&(v.get||v.set)?Object.defineProperty(p,f,v):p[f]=c[f])}return p.default=c,h&&h.set(c,p),p}(t("../core/constants")));function b(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,b=function(){return c},c)}s.default.RendererGL.prototype.freeGeometry=function(c){c.gid?this._freeBuffers(c.gid):console.warn("The model you passed to freeGeometry does not have an id!")},s.default.RendererGL.prototype._initBufferDefaults=function(c){var h;return this._freeBuffers(c),1e3<Object.keys(this.retainedMode.geometry).length&&(h=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(h)),this.retainedMode.geometry[c]={}},s.default.RendererGL.prototype._freeBuffers=function(c){var h,f=this.retainedMode.geometry[c];function p(m){var v=!0,_=!1,g=void 0;try{for(var x,j=m[Symbol.iterator]();!(v=(x=j.next()).done);v=!0){var E=x.value;f[E.dst]&&(h.deleteBuffer(f[E.dst]),f[E.dst]=null)}}catch(M){_=!0,g=M}finally{try{v||j.return==null||j.return()}finally{if(_)throw g}}}f&&(delete this.retainedMode.geometry[c],h=this.GL,f.indexBuffer&&h.deleteBuffer(f.indexBuffer),p(this.retainedMode.buffers.stroke),p(this.retainedMode.buffers.fill))},s.default.RendererGL.prototype.createBuffers=function(_,h){var f,p,m,v=this.GL,_=this._initBufferDefaults(_),g=(_.model=h,_.indexBuffer);return h.faces.length?(g=g||(_.indexBuffer=v.createBuffer()),m=(p=(f=s.default.RendererGL.prototype._flatten(h.faces)).some(function(x){return 65535<x}))?Uint32Array:Uint16Array,this._bindBuffer(g,v.ELEMENT_ARRAY_BUFFER,f,m),_.indexBufferType=p?v.UNSIGNED_INT:v.UNSIGNED_SHORT,_.vertexCount=3*h.faces.length):(g&&(v.deleteBuffer(g),_.indexBuffer=null),_.vertexCount=h.vertices?h.vertices.length:0),_.lineVertexCount=h.lineVertices?h.lineVertices.length/3:0,_},s.default.RendererGL.prototype.drawBuffers=function(c){var h=this.GL,f=this.retainedMode.geometry[c];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[c].vertexCount){this._useVertexColor=0<f.model.vertexColors.length;var p=this._getRetainedFillShader(),m=(this._setFillUniforms(p),!0),v=!1,_=void 0;try{for(var g,x=this.retainedMode.buffers.fill[Symbol.iterator]();!(m=(g=x.next()).done);m=!0)g.value._prepareBuffer(f,p)}catch(O){v=!0,_=O}finally{try{m||x.return==null||x.return()}finally{if(v)throw _}}p.disableRemainingAttributes(),f.indexBuffer&&this._bindBuffer(f.indexBuffer,h.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(h.TRIANGLES,c),p.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<f.lineVertexCount){this._useLineColor=0<f.model.vertexStrokeColors.length;var j=this._getRetainedStrokeShader(),E=(this._setStrokeUniforms(j),!0),v=!1,_=void 0;try{for(var M,T=this.retainedMode.buffers.stroke[Symbol.iterator]();!(E=(M=T.next()).done);E=!0)M.value._prepareBuffer(f,j)}catch(k){v=!0,_=k}finally{try{E||T.return==null||T.return()}finally{if(v)throw _}}j.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),this._drawArrays(h.TRIANGLES,c),j.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(f),this},s.default.RendererGL.prototype.drawBuffersScaled=function(c,h,f,p){var m=this.uMVMatrix.copy();try{this.uMVMatrix.scale(h,f,p),this.drawBuffers(c)}finally{this.uMVMatrix=m}},s.default.RendererGL.prototype._drawArrays=function(c,h){return this.GL.drawArrays(c,0,this.retainedMode.geometry[h].lineVertexCount),this},s.default.RendererGL.prototype._drawElements=function(c,f){var f=this.retainedMode.geometry[f],p=this.GL;if(f.indexBuffer){if(this._pInst.webglVersion!==u.WEBGL2&&f.indexBufferType===p.UNSIGNED_INT&&!p.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");p.drawElements(p.TRIANGLES,f.vertexCount,f.indexBufferType,0)}else p.drawArrays(c||p.TRIANGLES,0,f.vertexCount)},s.default.RendererGL.prototype._drawPoints=function(c,h){var f=this.GL,p=this._getImmediatePointShader();this._setPointUniforms(p),this._bindBuffer(h,f.ARRAY_BUFFER,this._vToNArray(c),Float32Array,f.STATIC_DRAW),p.enableAttrib(p.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),f.drawArrays(f.Points,0,c.length),p.unbindShader()};var y=s.default.RendererGL;a.default=y},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"./p5.RendererGL":332,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.some":166,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],332:[function(L,d,a){function n(G){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(G)}function o(G){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(W){return n(W)}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":n(W)})(G)}L("core-js/modules/es.symbol"),L("core-js/modules/es.symbol.description"),L("core-js/modules/es.symbol.iterator"),L("core-js/modules/es.array.concat"),L("core-js/modules/es.array.copy-within"),L("core-js/modules/es.array.every"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.from"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.array.slice"),L("core-js/modules/es.array.some"),L("core-js/modules/es.map"),L("core-js/modules/es.object.assign"),L("core-js/modules/es.object.get-own-property-descriptor"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.reflect.construct"),L("core-js/modules/es.reflect.get"),L("core-js/modules/es.regexp.to-string"),L("core-js/modules/es.set"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.string.iterator"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.float64-array"),L("core-js/modules/es.typed-array.int16-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint16-array"),L("core-js/modules/es.typed-array.uint32-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),L("core-js/modules/es.weak-map"),L("core-js/modules/web.dom-collections.iterator"),L("core-js/modules/es.symbol"),L("core-js/modules/es.symbol.description"),L("core-js/modules/es.symbol.iterator"),L("core-js/modules/es.array.concat"),L("core-js/modules/es.array.copy-within"),L("core-js/modules/es.array.every"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.from"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.array.slice"),L("core-js/modules/es.array.some"),L("core-js/modules/es.map"),L("core-js/modules/es.object.assign"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.set"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.string.iterator"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.float64-array"),L("core-js/modules/es.typed-array.int16-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint16-array"),L("core-js/modules/es.typed-array.uint32-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),L("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.readPixelsWebGL=V,a.readPixelWebGL=q,a.default=void 0;var s=f(L("../core/main")),u=function(G){if(G&&G.__esModule)return G;if(G===null||o(G)!=="object"&&typeof G!="function")return{default:G};var W=h();if(W&&W.has(G))return W.get(G);var $,K={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in G){var A;Object.prototype.hasOwnProperty.call(G,$)&&((A=N?Object.getOwnPropertyDescriptor(G,$):null)&&(A.get||A.set)?Object.defineProperty(K,$,A):K[$]=G[$])}return K.default=G,W&&W.set(G,K),K}(L("../core/constants")),b=f(L("./GeometryBuilder")),y=f(L("libtess")),c=(L("./p5.Shader"),L("./p5.Camera"),L("../core/p5.Renderer"),L("./p5.Matrix"),L("./p5.Framebuffer"),L("path"),L("./p5.Texture"));function h(){var G;return typeof WeakMap!="function"?null:(G=new WeakMap,h=function(){return G},G)}function f(G){return G&&G.__esModule?G:{default:G}}function p(G){return function(W){if(Array.isArray(W)){for(var $=0,K=new Array(W.length);$<W.length;$++)K[$]=W[$];return K}}(G)||function(W){if(Symbol.iterator in Object(W)||Object.prototype.toString.call(W)==="[object Arguments]")return Array.from(W)}(G)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(G,W){for(var $=0;$<W.length;$++){var K=W[$];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}}function v(G,W,$){return(v=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(I,N,A){var I=function(z,Y){for(;!Object.prototype.hasOwnProperty.call(z,Y)&&(z=j(z))!==null;);return z}(I,N);if(I)return(I=Object.getOwnPropertyDescriptor(I,N)).get?I.get.call(A):I.value})(G,W,$||G)}function _(G,W){return(_=Object.setPrototypeOf||function($,K){return $.__proto__=K,$})(G,W)}function g(G){return function(){var W,$,K=j(G);return W=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(W=j(this).constructor,Reflect.construct(K,arguments,W)):K.apply(this,arguments),K=this,!($=W)||o($)!=="object"&&typeof $!="function"?x(K):$}}function x(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function j(G){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)})(G)}function E(G,W,$){W in G?Object.defineProperty(G,W,{value:$,enumerable:!0,configurable:!0,writable:!0}):G[W]=$}function M(G,W){D+="#define STROKE_CAP_".concat(G," ").concat(W,`
`),R[u[G]]=W}function T(G,W){D+="#define STROKE_JOIN_".concat(G," ").concat(W,`
`),k[u[G]]=W}var O,R={},k={},D="",L=(M("ROUND",0),M("PROJECT",1),M("SQUARE",2),T("ROUND",0),T("MITER",1),T("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return smoothstep(vec3(0.0), vec3(0.8), texture.xyz);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal);
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return pow(outColor.xyz, vec3(10.0));
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),B={immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:L+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:L+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:D+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:D+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.025;
	float nrSamples = 0.0;
  
	for(float phi = 0.0; phi < 2.0 * PI; phi += sampleDelta)
	{
    for(float theta = 0.0; theta < ( 0.5 ) * PI; theta += sampleDelta)
    {
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 1024; // 4096\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
	if (n > 0)\r
	{\r
  	denom = mod(float(n), 2.0);\r
  	result += denom * invBase;\r
  	invBase = invBase / 2.0;\r
  	n = int(float(n) / 2.0);\r
	}\r
  }\r
\r
  return result;\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`};for(O in B)B[O]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+B[O];E(L={},u.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),E(L,u.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),E(L,u.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),E(L,u.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),E(L,u.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),E(L,u.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),E(L,u.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),E(L,u.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var F=L;function V(G,W,ce,K,N,A,I,z,Y,J){var ee=W.getParameter(W.FRAMEBUFFER_BINDING),ce=(W.bindFramebuffer(W.FRAMEBUFFER,ce),z===W.RGBA?4:3),pe=A*I*ce,ie=Y===W.UNSIGNED_BYTE?Uint8Array:Float32Array;if(G instanceof ie&&G.length===pe||(G=new ie(pe)),W.readPixels(K,J?J-N-I:N,A,I,z,Y,G),W.bindFramebuffer(W.FRAMEBUFFER,ee),J)for(var de=Math.floor(I/2),ue=new ie(A*ce),re=0;re<de;re++){var le=re*A*4,me=(I-re-1)*A*4;ue.set(G.subarray(le,le+4*A)),G.copyWithin(le,me,me+4*A),G.set(ue,me)}return G}function q(G,Y,$,K,N,A,I){var z=G.getParameter(G.FRAMEBUFFER_BINDING),Y=(G.bindFramebuffer(G.FRAMEBUFFER,Y),N===G.RGBA?4:3),Y=new(A===G.UNSIGNED_BYTE?Uint8Array:Float32Array)(Y);return G.readPixels($,I?I-K-1:K,1,1,N,A,Y),G.bindFramebuffer(G.FRAMEBUFFER,z),Array.from(Y)}s.default.prototype.setAttributes=function(G,W){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var $=!0;if(W!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[G]!==W&&(this._glAttributes[G]=W,$=!1)):G instanceof Object&&this._glAttributes!==G&&(this._glAttributes=G,$=!1),this._renderer.isP3D&&!$){if(!this._setupDone){for(var K in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(K))return void s.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL=function(G){var W=K;if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(G&&G.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),G&&_(W,G);var $=g(K);function K(N,A,I,z){if(this instanceof K)return(N=$.call(this,N,A,I))._setAttributeDefaults(A),N._initContext(),N.isP3D=!0,N.geometryBuilder=void 0,N.GL=N.drawingContext,N._pInst._setProperty("drawingContext",N.drawingContext),N._isErasing=!1,N._clipDepths=[],N._isClipApplied=!1,N._stencilTestOn=!1,N._enableLighting=!1,N.ambientLightColors=[],N.specularColors=[1,1,1],N.directionalLightDirections=[],N.directionalLightDiffuseColors=[],N.directionalLightSpecularColors=[],N.pointLightPositions=[],N.pointLightDiffuseColors=[],N.pointLightSpecularColors=[],N.spotLightPositions=[],N.spotLightDirections=[],N.spotLightDiffuseColors=[],N.spotLightSpecularColors=[],N.spotLightAngle=[],N.spotLightConc=[],N.activeImageLight=null,N.diffusedTextures=new Map,N.specularTextures=new Map,N.drawMode=u.FILL,N.curFillColor=N._cachedFillStyle=[1,1,1,1],N.curAmbientColor=N._cachedFillStyle=[1,1,1,1],N.curSpecularColor=N._cachedFillStyle=[0,0,0,0],N.curEmissiveColor=N._cachedFillStyle=[0,0,0,0],N.curStrokeColor=N._cachedStrokeStyle=[0,0,0,1],N.curBlendMode=u.BLEND,N._cachedBlendMode=void 0,N.webglVersion===u.WEBGL2?N.blendExt=N.GL:N.blendExt=N.GL.getExtension("EXT_blend_minmax"),N._isBlending=!1,N._hasSetAmbient=!1,N._useSpecularMaterial=!1,N._useEmissiveMaterial=!1,N._useNormalMaterial=!1,N._useShininess=1,N._useLineColor=!1,N._useVertexColor=!1,N.registerEnabled=new Set,N._tint=[255,255,255,255],N.constantAttenuation=1,N.linearAttenuation=0,N.quadraticAttenuation=0,N.uMVMatrix=new s.default.Matrix,N.uPMatrix=new s.default.Matrix,N.uNMatrix=new s.default.Matrix("mat3"),N._currentNormal=new s.default.Vector(0,0,1),N._curCamera=new s.default.Camera(x(N)),N._curCamera._computeCameraDefaultSettings(),N._curCamera._setDefaultCamera(),N.filterCamera=new s.default.Camera(x(N)),N.filterCamera._computeCameraDefaultSettings(),N.filterCamera._setDefaultCamera(),N.prevTouches=[],N.zoomVelocity=0,N.rotateVelocity=new s.default.Vector(0,0),N.moveVelocity=new s.default.Vector(0,0),N.executeZoom=!1,N.executeRotateAndMove=!1,N._defaultLightShader=void 0,N._defaultImmediateModeShader=void 0,N._defaultNormalShader=void 0,N._defaultColorShader=void 0,N._defaultPointShader=void 0,N.userFillShader=void 0,N.userStrokeShader=void 0,N.userPointShader=void 0,N.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",x(N)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",x(N)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",x(N)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",x(N)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",x(N))],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(N),N._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",x(N),N._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",x(N)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",x(N)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(N),N._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(N),N._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(N),N._flatten)]}},N.immediateMode={geometry:new s.default.Geometry,shapeMode:u.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(N),N._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",x(N),N._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",x(N)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",x(N)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(N),N._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",x(N)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",x(N)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",x(N)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",x(N)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",x(N))],point:N.GL.createBuffer()}},N.pointSize=5,N.curStrokeWeight=1,N.curStrokeCap=u.ROUND,N.curStrokeJoin=u.ROUND,N.textures=new Map,N.framebuffers=new Set,N.activeFramebuffers=[],N.filterShader=void 0,N.filterLayer=void 0,N.filterLayerTemp=void 0,N.defaultFilterShaders={},N.textureMode=u.IMAGE,N.textureWrapX=u.CLAMP,N.textureWrapY=u.CLAMP,N._tex=null,N._curveTightness=6,N._lookUpTableBezier=[],N._lookUpTableQuadratic=[],N._lutBezierDetail=0,N._lutQuadraticDetail=0,N.isProcessingVertices=!1,N._tessy=N._initTessy(),N.fontInfos={},N._curShader=void 0,N;throw new TypeError("Cannot call a class as a function")}return W=K,(G=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new b.default(this)}},{key:"endGeometry",value:function(){var N;if(this.geometryBuilder)return N=this.geometryBuilder.finish(),this.geometryBuilder=void 0,N;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(N){return this.beginGeometry(),N(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(N){var A={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};N._glAttributes===null?N._glAttributes=A:N._glAttributes=Object.assign(A,N._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?u.WEBGL2:u.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var N=this.drawingContext;N.enable(N.DEPTH_TEST),N.depthFunc(N.LEQUAL),N.viewport(0,0,N.drawingBufferWidth,N.drawingBufferHeight),N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(N,A){var I,z=this.width,Y=this.height,ee=this.canvas.id,J=this._pInst instanceof s.default.Graphics,ee=(J?((I=this._pInst).canvas.parentNode.removeChild(I.canvas),I.canvas=document.createElement("canvas"),(I._pInst._userNode||document.body).appendChild(I.canvas),s.default.Element.call(I,I.canvas,I._pInst),I.width=z,I.height=Y):((I=this.canvas)&&I.parentNode.removeChild(I),(I=document.createElement("canvas")).id=ee,(this._pInst._userNode||document.body).appendChild(I),this._pInst.canvas=I,this.canvas=I),new s.default.RendererGL(this._pInst.canvas,this._pInst,!J));this._pInst._setProperty("_renderer",ee),ee.resize(z,Y),ee._applyDefaults(),J||this._pInst._elements.push(ee),typeof A=="function"&&setTimeout(function(){A.apply(window._renderer,N)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var z=(z=this._pInst).color.apply(z,arguments),N=z.levels[0]/255,A=z.levels[1]/255,I=z.levels[2]/255,z=z.levels[3]/255;this.clear(N,A,I,z)}},{key:"fill",value:function(N,A,I,z){var Y=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Y._array,this.drawMode=u.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(N,A,I,z){var Y=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Y._array}},{key:"strokeCap",value:function(N){this.curStrokeCap=N}},{key:"strokeJoin",value:function(N){this.curStrokeJoin=N}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(N,A){N.width===A.width&&N.height===A.height||N.resize(A.width,A.height),N.pixelDensity()!==A.pixelDensity()&&N.pixelDensity(A.pixelDensity())}},{key:"filter",value:function(){var N,A,I=this,z=this.getFilterLayer(),Y=void 0,J=void 0,ee=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(J=arguments.length<=0?void 0:arguments[0],E(N={},u.BLUR,3),E(N,u.POSTERIZE,4),E(N,u.THRESHOLD,.5),Y=J in(N=N)&&(arguments.length<=1?void 0:arguments[1])===void 0?N[J]:arguments.length<=1?void 0:arguments[1],J in this.defaultFilterShaders||(this.defaultFilterShaders[J]=new s.default.Shader(z._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,F[J])),this.filterShader=this.defaultFilterShaders[J]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ce=(this.matchSize(z,ee),ee!==this&&(this.filterCamera=this.getFilterLayer().createCamera()),z.draw(function(){return I._pInst.clear()}),[1/(ee.width*ee.pixelDensity()),1/(ee.height*ee.pixelDensity())]);J===u.BLUR?(A=this.getFilterLayerTemp(),this.matchSize(A,ee),this._pInst.push(),this._pInst.noStroke(),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ce),this.filterShader.setUniform("canvasSize",[ee.width,ee.height]),this.filterShader.setUniform("radius",Math.max(1,Y)),A.draw(function(){I.filterShader.setUniform("direction",[1,0]),I.filterShader.setUniform("tex0",ee),I._pInst.clear(),I._pInst.shader(I.filterShader),I._pInst.rect(-ee.width/2,-ee.height/2,ee.width,ee.height)}),z.draw(function(){I.filterShader.setUniform("direction",[0,1]),I.filterShader.setUniform("tex0",A),I._pInst.clear(),I._pInst.shader(I.filterShader),I._pInst.rect(-ee.width/2,-ee.height/2,ee.width,ee.height)}),this._pInst.pop()):z.draw(function(){I._pInst.noStroke(),I._pInst.shader(I.filterShader),I.filterShader.setUniform("tex0",ee),I.filterShader.setUniform("texelSize",ce),I.filterShader.setUniform("canvasSize",[ee.width,ee.height]),I.filterShader.setUniform("filterParameter",Y),I._pInst.rect(-ee.width/2,-ee.height/2,ee.width,ee.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(u.CORNER),this._pInst.blendMode(u.BLEND),this.filterCamera._resize(),this._pInst.setCamera(this.filterCamera),this._pInst.resetMatrix(),this._pInst.image(z,-this.width/2,-this.height/2,this.width,this.height),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(N){return N?this._pInst.pixelDensity(N):this._pInst.pixelDensity()}},{key:"blendMode",value:function(N){N===u.DARKEST||N===u.LIGHTEST||N===u.ADD||N===u.BLEND||N===u.SUBTRACT||N===u.SCREEN||N===u.EXCLUSION||N===u.REPLACE||N===u.MULTIPLY||N===u.REMOVE?this.curBlendMode=N:N!==u.BURN&&N!==u.OVERLAY&&N!==u.HARD_LIGHT&&N!==u.SOFT_LIGHT&&N!==u.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(N,A){this._isErasing||(this._cachedBlendMode=this.curBlendMode,this._isErasing=!0,this.blendMode(u.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,N/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,A/255])}},{key:"noErase",value:function(){var N;this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),N=this.curBlendMode,this.blendMode(this._cachedBlendMode),this._cachedBlendMode=N,this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var N=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},N=(v(j(K.prototype),"beginClip",this).call(this,N),this.drawTarget()._isClipApplied=!0,this.GL);N.clearStencil(0),N.clear(N.STENCIL_BUFFER_BIT),N.enable(N.STENCIL_TEST),this._stencilTestOn=!0,N.stencilFunc(N.ALWAYS,1,255),N.stencilOp(N.KEEP,N.KEEP,N.REPLACE),N.disable(N.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var N=this.GL;N.stencilOp(N.KEEP,N.KEEP,N.KEEP),N.stencilFunc(this._clipInvert?N.EQUAL:N.NOTEQUAL,0,255),N.enable(N.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),v(j(K.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(N){this.curStrokeWeight!==N&&(this.pointSize=N,this.curStrokeWeight=N)}},{key:"_getPixel",value:function(N,A){var I=this.GL;return q(I,null,N,A,I.RGBA,I.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var N,A,I=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(N=this._pInst._pixelDensity,A=this.GL,I._setProperty("pixels",V(I.pixels,A,null,0,0,this.width*N,this.height*N,A.RGBA,A.UNSIGNED_BYTE,this.height*N)))}},{key:"updatePixels",value:function(){var N=this._getTempFramebuffer();N.pixels=this._pixelsState.pixels,N.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(u.CENTER),this._pInst.image(N,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:u.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:u.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(N){return this.retainedMode.geometry[N]!==void 0}},{key:"viewport",value:function(N,A){this._viewport=[0,0,N,A],this.GL.viewport(0,0,N,A)}},{key:"resize",value:function(Y,z){s.default.Renderer.prototype.resize.call(this,Y,z),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var Y=this._pixelsState,I=(Y.pixels!==void 0&&Y._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),z=!1,Y=void 0;try{for(var J,ee=this.framebuffers[Symbol.iterator]();!(I=(J=ee.next()).done);I=!0)J.value._canvasSizeChanged()}catch(ce){z=!0,Y=ce}finally{try{I||ee.return==null||ee.return()}finally{if(z)throw Y}}}},{key:"clear",value:function(){var N=(arguments.length<=0?void 0:arguments[0])||0,A=(arguments.length<=1?void 0:arguments[1])||0,I=(arguments.length<=2?void 0:arguments[2])||0,z=(arguments.length<=3?void 0:arguments[3])||0,Y=this.activeFramebuffer();Y&&Y.format===u.UNSIGNED_BYTE&&!Y.antialias&&z===0&&(z=1e-10),this.GL.clearColor(N*z,A*z,I*z,z),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(N,A,I,z,Y,J){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([N,A,0,0,I,z,0,0,0,0,1,0,Y,J,0,1])}},{key:"translate",value:function(N,A,I){return N instanceof s.default.Vector&&(I=N.z,A=N.y,N=N.x),this.uMVMatrix.translate([N,A,I]),this}},{key:"scale",value:function(N,A,I){return this.uMVMatrix.scale(N,A,I),this}},{key:"rotate",value:function(N,A){return A===void 0?this.rotateZ(N):(s.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(N){return this.rotate(N,1,0,0),this}},{key:"rotateY",value:function(N){return this.rotate(N,0,1,0),this}},{key:"rotateZ",value:function(N){return this.rotate(N,0,0,1),this}},{key:"push",value:function(){var N=s.default.Renderer.prototype.push.apply(this),A=N.properties;return A.uMVMatrix=this.uMVMatrix.copy(),A.uPMatrix=this.uPMatrix.copy(),A._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),A.ambientLightColors=this.ambientLightColors.slice(),A.specularColors=this.specularColors.slice(),A.directionalLightDirections=this.directionalLightDirections.slice(),A.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),A.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),A.pointLightPositions=this.pointLightPositions.slice(),A.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),A.pointLightSpecularColors=this.pointLightSpecularColors.slice(),A.spotLightPositions=this.spotLightPositions.slice(),A.spotLightDirections=this.spotLightDirections.slice(),A.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),A.spotLightSpecularColors=this.spotLightSpecularColors.slice(),A.spotLightAngle=this.spotLightAngle.slice(),A.spotLightConc=this.spotLightConc.slice(),A.userFillShader=this.userFillShader,A.userStrokeShader=this.userStrokeShader,A.userPointShader=this.userPointShader,A.pointSize=this.pointSize,A.curStrokeWeight=this.curStrokeWeight,A.curStrokeColor=this.curStrokeColor,A.curFillColor=this.curFillColor,A.curAmbientColor=this.curAmbientColor,A.curSpecularColor=this.curSpecularColor,A.curEmissiveColor=this.curEmissiveColor,A._hasSetAmbient=this._hasSetAmbient,A._useSpecularMaterial=this._useSpecularMaterial,A._useEmissiveMaterial=this._useEmissiveMaterial,A._useShininess=this._useShininess,A.constantAttenuation=this.constantAttenuation,A.linearAttenuation=this.linearAttenuation,A.quadraticAttenuation=this.quadraticAttenuation,A._enableLighting=this._enableLighting,A._useNormalMaterial=this._useNormalMaterial,A._tex=this._tex,A.drawMode=this.drawMode,A._currentNormal=this._currentNormal,A.curBlendMode=this.curBlendMode,A.activeImageLight=this.activeImageLight,N}},{key:"pop",value:function(){var N;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var A=arguments.length,I=new Array(A),z=0;z<A;z++)I[z]=arguments[z];(N=v(j(K.prototype),"pop",this)).call.apply(N,[this].concat(I)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var N=this.drawTarget();N._isClipApplied!==this._stencilTestOn&&(N._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var N=this.userStrokeShader;return N&&N.isStrokeShader()?N:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var N=this.userFillShader;if(this._useNormalMaterial&&(!N||!N.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!N||!N.isLightShader())return this._getLightShader()}else if(this._tex){if(!N||!N.isTextureShader())return this._getLightShader()}else if(!N)return this._getImmediateModeShader();return N}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var N=this.userFillShader;if(this._enableLighting){if(!N||!N.isLightShader())return this._getLightShader()}else if(this._tex){if(!N||!N.isTextureShader())return this._getLightShader()}else if(!N)return this._getColorShader();return N}},{key:"_getImmediatePointShader",value:function(){var N=this.userPointShader;return N&&N.isPointShader()?N:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+B.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+B.phongFrag):this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+B.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+B.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===u.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(N,A){var I="";return this.webglVersion===u.WEBGL2&&(I+=`#version 300 es
#define WEBGL2
`),N==="vert"?I+=`#define VERTEX_SHADER
`:N==="frag"&&(I+=`#define FRAGMENT_SHADER
`),A&&(I+="precision ".concat(A,` float;
`)),I}},{key:"_getEmptyTexture",value:function(){var N;return this._emptyTexture||((N=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,N)),this._emptyTexture}},{key:"getTexture",value:function(N){N instanceof s.default.Framebuffer&&(N=N.color);var A=this.textures.get(N);return A||(A=new s.default.Texture(this,N),this.textures.set(N,A),A)}},{key:"getDiffusedTexture",value:function(N){var A,I;return this.diffusedTextures.get(N)!=null?this.diffusedTextures.get(N):(A=Math.floor(N.height/N.width*200),I=(A=this._pInst.createGraphics(200,A,u.WEBGL)).createShader(B.imageLightVert,B.imageLightDiffusedFrag),A.shader(I),I.setUniform("environmentMap",N),A.noStroke(),A.rectMode(A.CENTER),A.rect(0,0,A.width,A.height),this.diffusedTextures.set(N,A),A)}},{key:"getSpecularTexture",value:function(N){if(this.specularTextures.get(N)!=null)return this.specularTextures.get(N);var A,I=[],z=this._pInst.createGraphics(512,512,u.WEBGL),Y=Math.log(512)/Math.log(2);z.pixelDensity(1);for(var J=512;1<=J;J/=2){z.resizeCanvas(J,J);var ee=1-Math.log(J)/Math.log(2)/Y,ce=z.createShader(B.imageLightVert,B.imageLightSpecularFrag);z.shader(ce),z.clear(),ce.setUniform("environmentMap",N),ce.setUniform("roughness",ee),z.noStroke(),z.plane(J,J),I.push(z.get().drawingContext.getImageData(0,0,J,J))}return z.remove(),A=new c.MipmapTexture(this,I,{}),this.specularTextures.set(N,A),A}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(N){return new s.default.Framebuffer(this,N)}},{key:"_setStrokeUniforms",value:function(N){N.bindShader(),N.setUniform("uUseLineColor",this._useLineColor),N.setUniform("uMaterialColor",this.curStrokeColor),N.setUniform("uStrokeWeight",this.curStrokeWeight),N.setUniform("uStrokeCap",R[this.curStrokeCap]),N.setUniform("uStrokeJoin",k[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(N){N.bindShader(),N.setUniform("uUseVertexColor",this._useVertexColor),N.setUniform("uMaterialColor",this.curFillColor),N.setUniform("isTexture",!!this._tex),this._tex&&N.setUniform("uSampler",this._tex),N.setUniform("uTint",this._tint),N.setUniform("uHasSetAmbient",this._hasSetAmbient),N.setUniform("uAmbientMatColor",this.curAmbientColor),N.setUniform("uSpecularMatColor",this.curSpecularColor),N.setUniform("uEmissiveMatColor",this.curEmissiveColor),N.setUniform("uSpecular",this._useSpecularMaterial),N.setUniform("uEmissive",this._useEmissiveMaterial),N.setUniform("uShininess",this._useShininess),this._setImageLightUniforms(N),N.setUniform("uUseLighting",this._enableLighting);var A=this.pointLightDiffuseColors.length/3,A=(N.setUniform("uPointLightCount",A),N.setUniform("uPointLightLocation",this.pointLightPositions),N.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),N.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),A=(N.setUniform("uDirectionalLightCount",A),N.setUniform("uLightingDirection",this.directionalLightDirections),N.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),N.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),A=(N.setUniform("uAmbientLightCount",A),N.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);N.setUniform("uSpotLightCount",A),N.setUniform("uSpotLightAngle",this.spotLightAngle),N.setUniform("uSpotLightConc",this.spotLightConc),N.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),N.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),N.setUniform("uSpotLightLocation",this.spotLightPositions),N.setUniform("uSpotLightDirection",this.spotLightDirections),N.setUniform("uConstantAttenuation",this.constantAttenuation),N.setUniform("uLinearAttenuation",this.linearAttenuation),N.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),N.bindTextures()}},{key:"_setImageLightUniforms",value:function(N){var A,I;N.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(A=this.getDiffusedTexture(this.activeImageLight),N.setUniform("environmentMapDiffused",A),A=this.getSpecularTexture(this.activeImageLight),I=20/this._useShininess,N.setUniform("levelOfDetail",8*I),N.setUniform("environmentMapSpecular",A))}},{key:"_setPointUniforms",value:function(N){N.bindShader(),N.setUniform("uMaterialColor",this.curStrokeColor),N.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(N,A,I,z,Y){A=A||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(A,N),I!==void 0&&((N=I)instanceof s.default.DataArray?N=I.dataArray():N instanceof(z||Float32Array)||(N=new(z||Float32Array)(N)),this.GL.bufferData(A,N,Y||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(N,A){return N.length===A.length&&N.every(function(I,z){return I===A[z]})}},{key:"_isTypedArray",value:function(N){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(A){return N instanceof A})}},{key:"_flatten",value:function(N){if(N.length===0)return[];var A;if(2e4<N.length){for(var I=[],z=N.slice(),Y=z.pop();Array.isArray(Y)?z.push.apply(z,p(Y)):I.push(Y),z.length&&(Y=z.pop())!==void 0;);return I.reverse(),I}return(A=[]).concat.apply(A,p(N))}},{key:"_vToNArray",value:function(N){var A=[],I=!0,z=!1,Y=void 0;try{for(var J,ee=N[Symbol.iterator]();!(I=(J=ee.next()).done);I=!0){var ce=J.value;A.push(ce.x,ce.y,ce.z)}}catch(pe){z=!0,Y=pe}finally{try{I||ee.return==null||ee.return()}finally{if(z)throw Y}}return A}},{key:"_bezierCoefficients",value:function(N){var A=N*N,I=1-N,z=I*I;return[z*I,3*z*N,3*I*A,A*N]}},{key:"_quadraticCoefficients",value:function(N){var A=1-N;return[A*A,2*A*N,N*N]}},{key:"_bezierToCatmull",value:function(N){return[N[1],N[1]+(N[2]-N[0])/this._curveTightness,N[2]-(N[3]-N[1])/this._curveTightness,N[2]]}},{key:"_initTessy",value:function(){var N=new y.default.GluTesselator;return N.gluTessCallback(y.default.gluEnum.GLU_TESS_VERTEX_DATA,function(A,I){for(var z=0;z<A.length;z++)I.push(A[z])}),N.gluTessCallback(y.default.gluEnum.GLU_TESS_BEGIN,function(A){A!==y.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(A))}),N.gluTessCallback(y.default.gluEnum.GLU_TESS_ERROR,function(A){console.log("error callback"),console.log("error number: ".concat(A))}),N.gluTessCallback(y.default.gluEnum.GLU_TESS_COMBINE,function(A,I,z){for(var Y=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),J=0;J<z.length;J++)for(var ee=0;ee<Y.length;ee++)z[J]!==0&&I[J]&&(Y[ee]+=I[J][ee]*z[J]);return Y}),N.gluTessCallback(y.default.gluEnum.GLU_TESS_EDGE_FLAG,function(A){}),N.gluTessProperty(y.default.gluEnum.GLU_TESS_WINDING_RULE,y.default.windingRule.GLU_TESS_WINDING_NONZERO),N}},{key:"_triangulate",value:function(N){var A=N[0]?N[0][2]:void 0,I=!0,z=!0,pe=!1,de=void 0;try{for(var Y,J=N[Symbol.iterator]();!(z=(Y=J.next()).done);z=!0)for(var ee=Y.value,ce=0;ce<ee.length;ce+=s.default.RendererGL.prototype.tessyVertexSize)if(ee[ce+2]!==A){I=!1;break}}catch(ve){pe=!0,de=ve}finally{try{z||J.return==null||J.return()}finally{if(pe)throw de}}I?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var pe=[],ie=(this._tessy.gluTessBeginPolygon(pe),!0),de=!1,ue=void 0;try{for(var re,le=N[Symbol.iterator]();!(ie=(re=le.next()).done);ie=!0){var me=re.value;this._tessy.gluTessBeginContour();for(var je=0;je<me.length;je+=s.default.RendererGL.prototype.tessyVertexSize){var ye=me.slice(je,je+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(ye,ye)}this._tessy.gluTessEndContour()}}catch(ve){de=!0,ue=ve}finally{try{ie||le.return==null||le.return()}finally{if(de)throw ue}}return this._tessy.gluTessEndPolygon(),pe}}])&&m(W.prototype,G),K}(s.default.Renderer),s.default.prototype._assert3d=function(G){if(!this._renderer.isP3D)throw new Error("".concat(G,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,L=s.default.RendererGL,a.default=L},{"../core/constants":264,"../core/main":275,"../core/p5.Renderer":278,"./GeometryBuilder":319,"./p5.Camera":324,"./p5.Framebuffer":326,"./p5.Matrix":328,"./p5.Shader":333,"./p5.Texture":334,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.map":169,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.float64-array":212,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int16-array":216,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,libtess:247,path:250}],333:[function(t,d,a){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(s,u){for(var b=0;b<u.length;b++){var y=u[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(s,y.key,y)}}n.default.Shader=function(){function s(y,c,h){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=y,this._vertSrc=c,this._fragSrc=h,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var u,b;return u=s,(b=[{key:"init",value:function(){if(this._glProgram===0){var y=this._renderer.GL;if(this._vertShader=y.createShader(y.VERTEX_SHADER),y.shaderSource(this._vertShader,this._vertSrc),y.compileShader(this._vertShader),!y.getShaderParameter(this._vertShader,y.COMPILE_STATUS))return n.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(y.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=y.createShader(y.FRAGMENT_SHADER),y.shaderSource(this._fragShader,this._fragSrc),y.compileShader(this._fragShader),!y.getShaderParameter(this._fragShader,y.COMPILE_STATUS))return n.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(y.getShaderInfoLog(this._fragShader))),null;this._glProgram=y.createProgram(),y.attachShader(this._glProgram,this._vertShader),y.attachShader(this._glProgram,this._fragShader),y.linkProgram(this._glProgram),y.getProgramParameter(this._glProgram,y.LINK_STATUS)||n.default._friendlyError("Snap! Error linking shader program: ".concat(y.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(y){var c=new n.default.Shader(y._renderer,this._vertSrc,this._fragSrc);return c.ensureCompiledOnContext(y),c}},{key:"ensureCompiledOnContext",value:function(y){if(this._glProgram!==0&&this._renderer!==y._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=y._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var y=this._renderer.GL,c=y.getProgramParameter(this._glProgram,y.ACTIVE_ATTRIBUTES),h=0;h<c;++h){var f=y.getActiveAttrib(this._glProgram,h),p=f.name,m=y.getAttribLocation(this._glProgram,p),v={};v.name=p,v.location=m,v.index=h,v.type=f.type,v.size=f.size,this.attributes[p]=v}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var y=this._renderer.GL,c=y.getProgramParameter(this._glProgram,y.ACTIVE_UNIFORMS),h=0,f=0;f<c;++f){var p=y.getActiveUniform(this._glProgram,f),m={},v=(m.location=y.getUniformLocation(this._glProgram,p.name),m.size=p.size,p.name);1<p.size&&(v=v.substring(0,v.indexOf("[0]"))),m.name=v,m.type=p.type,m._cachedData=void 0,m.type===y.SAMPLER_2D&&(m.samplerIndex=h,h++,this.samplers.push(m)),m.isArray=1<p.size||m.type===y.FLOAT_MAT3||m.type===y.FLOAT_MAT4||m.type===y.FLOAT_VEC2||m.type===y.FLOAT_VEC3||m.type===y.FLOAT_VEC4||m.type===y.INT_VEC2||m.type===y.INT_VEC4||m.type===y.INT_VEC3,this.uniforms[v]=m}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var y=this._renderer.GL,c=!0,h=!1,f=void 0;try{for(var p,m=this.samplers[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var v=p.value,_=v.texture;_===void 0&&(_=this._renderer._getEmptyTexture()),y.activeTexture(y.TEXTURE0+v.samplerIndex),_.bindTexture(),_.update(),y.uniform1i(v.location,v.samplerIndex)}}catch(g){h=!0,f=g}finally{try{c||m.return==null||m.return()}finally{if(h)throw f}}}},{key:"updateTextures",value:function(){var y=!0,c=!1,h=void 0;try{for(var f,p=this.samplers[Symbol.iterator]();!(y=(f=p.next()).done);y=!0){var m=f.value.texture;m&&m.update()}}catch(v){c=!0,h=v}finally{try{y||p.return==null||p.return()}finally{if(c)throw h}}}},{key:"unbindTextures",value:function(){var y=!0,c=!1,h=void 0;try{for(var f,p=this.samplers[Symbol.iterator]();!(y=(f=p.next()).done);y=!0){var m=f.value;this.setUniform(m.name,this._renderer._getEmptyTexture())}}catch(v){c=!0,h=v}finally{try{y||p.return==null||p.return()}finally{if(c)throw h}}}},{key:"_setMatrixUniforms",value:function(){var y=this._renderer._curCamera.cameraMatrix,c=this._renderer.uPMatrix,h=this._renderer.uMVMatrix,f=h.copy();f.mult(c),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",y.mat4),this.setUniform("uProjectionMatrix",c.mat4),this.setUniform("uModelViewMatrix",h.mat4),this.setUniform("uModelViewProjectionMatrix",f.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var y=this._renderer.GL;return this._renderer._curShader!==this&&(y.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(y,c){var h=this.uniforms[y];if(h){var f=this._renderer.GL;if(h.isArray){if(h._cachedData&&this._renderer._arraysEqual(h._cachedData,c))return;h._cachedData=c.slice(0)}else{if(h._cachedData&&h._cachedData===c)return;Array.isArray(c)?h._cachedData=c.slice(0):h._cachedData=c}var p=h.location;switch(this.useProgram(),h.type){case f.BOOL:c===!0?f.uniform1i(p,1):f.uniform1i(p,0);break;case f.INT:1<h.size?c.length&&f.uniform1iv(p,c):f.uniform1i(p,c);break;case f.FLOAT:1<h.size?c.length&&f.uniform1fv(p,c):f.uniform1f(p,c);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(p,!1,c);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(p,!1,c);break;case f.FLOAT_VEC2:1<h.size?c.length&&f.uniform2fv(p,c):f.uniform2f(p,c[0],c[1]);break;case f.FLOAT_VEC3:1<h.size?c.length&&f.uniform3fv(p,c):f.uniform3f(p,c[0],c[1],c[2]);break;case f.FLOAT_VEC4:1<h.size?c.length&&f.uniform4fv(p,c):f.uniform4f(p,c[0],c[1],c[2],c[3]);break;case f.INT_VEC2:1<h.size?c.length&&f.uniform2iv(p,c):f.uniform2i(p,c[0],c[1]);break;case f.INT_VEC3:1<h.size?c.length&&f.uniform3iv(p,c):f.uniform3i(p,c[0],c[1],c[2]);break;case f.INT_VEC4:1<h.size?c.length&&f.uniform4iv(p,c):f.uniform4i(p,c[0],c[1],c[2],c[3]);break;case f.SAMPLER_2D:f.activeTexture(f.TEXTURE0+h.samplerIndex),h.texture=c instanceof n.default.Texture?c:this._renderer.getTexture(c),f.uniform1i(p,h.samplerIndex),h.texture.src.gifProperties&&h.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(y,c,h,f,p,m){var v;return y&&(y=y.location)!==-1&&(v=this._renderer.GL,this._renderer.registerEnabled.has(y)||(v.enableVertexAttribArray(y),this._renderer.registerEnabled.add(y)),this._renderer.GL.vertexAttribPointer(y,c,h||v.FLOAT,f||!1,p||0,m||0)),this}},{key:"disableRemainingAttributes",value:function(){var y=this,c=!0,h=!1,f=void 0;try{for(var p,m=this._renderer.registerEnabled.values()[Symbol.iterator]();!(c=(p=m.next()).done);c=!0)(function(){var v=p.value;Object.keys(y.attributes).some(function(_){return y.attributes[_].location===v})||(y._renderer.GL.disableVertexAttribArray(v),y._renderer.registerEnabled.delete(v))})()}catch(v){h=!0,f=v}finally{try{c||m.return==null||m.return()}finally{if(h)throw f}}}}])&&o(u.prototype,b),s}(),t=n.default.Shader,a.default=t},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],334:[function(t,d,a){function n(g){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(g)}function o(g){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(x){return n(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":n(x)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(a,"__esModule",{value:!0}),a.checkWebGLCapabilities=_,a.default=a.MipmapTexture=void 0;var s=(v=t("../core/main"))&&v.__esModule?v:{default:v},u=function(g){if(g&&g.__esModule)return g;if(g===null||o(g)!=="object"&&typeof g!="function")return{default:g};var x=b();if(x&&x.has(g))return x.get(g);var j,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in g){var T;Object.prototype.hasOwnProperty.call(g,j)&&((T=M?Object.getOwnPropertyDescriptor(g,j):null)&&(T.get||T.set)?Object.defineProperty(E,j,T):E[j]=g[j])}return E.default=g,x&&x.set(g,E),E}(t("../core/constants"));function b(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,b=function(){return g},g)}function y(g,x){return(y=Object.setPrototypeOf||function(j,E){return j.__proto__=E,j})(g,x)}function c(g){return function(){var x,j=h(g),j=(x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=h(this).constructor,Reflect.construct(j,arguments,x)):j.apply(this,arguments),this);if(!x||o(x)!=="object"&&typeof x!="function"){if(j!==void 0)return j;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return x}}function h(g){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(g)}function f(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function p(g,x){for(var j=0;j<x.length;j++){var E=x[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}function m(g,x,j){x&&p(g.prototype,x),j&&p(g,j)}s.default.Texture=function(){function g(O,j,T){f(this,g),this._renderer=O;var M=this._renderer.GL,T=(T=T||{},this.src=j,this.glTex=void 0,this.glTarget=M.TEXTURE_2D,this.glFormat=T.format||M.RGBA,this.mipmaps=!1,this.glMinFilter=T.minFilter||M.LINEAR,this.glMagFilter=T.magFilter||M.LINEAR,this.glWrapS=T.wrapS||M.CLAMP_TO_EDGE,this.glWrapT=T.wrapT||M.CLAMP_TO_EDGE,this.glDataType=T.dataType||M.UNSIGNED_BYTE,_(O)),O=(this.glFormat!==M.HALF_FLOAT||T.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=M.FLOAT),this.glFormat!==M.HALF_FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||T.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.glFormat!==M.FLOAT||T.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=M.UNSIGNED_BYTE),this.glFormat!==M.FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||T.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.isSrcMediaElement=s.default.MediaElement!==void 0&&j instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&j instanceof s.default.Element&&!(j instanceof s.default.Graphics)&&!(j instanceof s.default.Renderer),this.isSrcP5Image=j instanceof s.default.Image,this.isSrcP5Graphics=j instanceof s.default.Graphics,this.isSrcP5Renderer=j instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&j instanceof ImageData,this.isFramebufferTexture=j instanceof s.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=O.width,this.height=O.height,this.init(O),this}return m(g,[{key:"_getTextureDataFromSource",value:function(){var x;return this.isFramebufferTexture?x=this.src.rawTexture():this.isSrcP5Image?x=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?x=this.src.elt:this.isImageData&&(x=this.src),x}},{key:"init",value:function(x){var j,E=this._renderer.GL;this.isFramebufferTexture||(this.glTex=E.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(j=new Uint8Array([1,1,1,1]),E.texImage2D(this.glTarget,0,E.RGBA,1,1,0,this.glFormat,this.glDataType,j)):E.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,x))}},{key:"update",value:function(){var x,j,E,M=this.src;return M.width!==0&&M.height!==0&&!this.isFramebufferTexture&&(x=this._getTextureDataFromSource(),j=!1,E=this._renderer.GL,x.width!==this.width||x.height!==this.height?(j=!0,this.width=x.width||M.width,this.height=x.height||M.height,this.isSrcP5Image?M.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&M.setModified(!0)):this.isSrcP5Image?M.isModified()&&M.setModified(!(j=!0)):this.isSrcMediaElement?M.isModified()?M.setModified(!(j=!0)):M.loadedmetadata&&this._videoPrevUpdateTime!==M.time()&&(this._videoPrevUpdateTime=M.time(),j=!0):this.isImageData?M._dirty&&(j=!(M._dirty=!1)):j=!0,j&&(this.bindTexture(),E.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,x)),j)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(x,j){var E=this._renderer.GL;this.glMinFilter=this.glFilter(x),this.glMagFilter=this.glFilter(j),this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(x){var j=this._renderer.GL;return x===u.NEAREST?j.NEAREST:j.LINEAR}},{key:"setWrapMode",value:function(x,j){function E(R){return(R&R-1)==0}var M=this._renderer.GL,O=this._getTextureDataFromSource(),O=O.naturalWidth&&O.naturalHeight?(T=O.naturalWidth,O.naturalHeight):(T=this.width,this.height),T=E(T),O=E(O);x===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||T&&O?this.glWrapS=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):x===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||T&&O?this.glWrapS=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):this.glWrapS=M.CLAMP_TO_EDGE,j===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||T&&O?this.glWrapT=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):j===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||T&&O?this.glWrapT=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):this.glWrapT=M.CLAMP_TO_EDGE,this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,this.glWrapS),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),g}();var v=function(g){var x=E;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),g&&y(x,g);var j=c(E);function E(M,T,O){return f(this,E),T=(M=j.call(this,M,T,O))._renderer.GL,M.glMinFilter===T.LINEAR&&(M.glMinFilter=T.LINEAR_MIPMAP_LINEAR),M}return m(E,[{key:"glFilter",value:function(M){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(M){var T=this._renderer.GL;this.glTex=T.createTexture(),this.bindTexture();for(var O=0;O<M.length;O++)T.texImage2D(this.glTarget,O,this.glFormat,this.glFormat,this.glDataType,M[O]);this.glMinFilter=T.LINEAR_MIPMAP_LINEAR,T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,this.glMagFilter),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),E}(s.default.Texture);function _(M){var x=M.GL,M=M.webglVersion,j=M===u.WEBGL2?x.getExtension("EXT_color_buffer_float")&&x.getExtension("EXT_float_blend"):x.getExtension("OES_texture_float"),E=j&&x.getExtension("OES_texture_float_linear"),M=M===u.WEBGL2?x.getExtension("EXT_color_buffer_float"):x.getExtension("OES_texture_half_float");return{float:j,floatLinear:E,halfFloat:M,halfFloatLinear:M&&x.getExtension("OES_texture_half_float_linear")}}a.MipmapTexture=v,t=s.default.Texture,a.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],335:[function(t,d,a){function n(g){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(g)}function o(g){return(o=typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?function(x){return n(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":n(x)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var s,u=(s=t("../core/main"))&&s.__esModule?s:{default:s},b=function(g){if(g&&g.__esModule)return g;if(g===null||o(g)!=="object"&&typeof g!="function")return{default:g};var x=y();if(x&&x.has(g))return x.get(g);var j,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in g){var T;Object.prototype.hasOwnProperty.call(g,j)&&((T=M?Object.getOwnPropertyDescriptor(g,j):null)&&(T.get||T.set)?Object.defineProperty(E,j,T):E[j]=g[j])}return E.default=g,x&&x.set(g,E),E}(t("../core/constants"));function y(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,y=function(){return g},g)}function c(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function h(g,x){for(var j=0;j<x.length;j++){var E=x[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}function f(g,x,j){x&&h(g.prototype,x),j&&h(g,j)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),u.default.RendererGL.prototype._applyTextProperties=function(){},u.default.RendererGL.prototype.textWidth=function(g){return this._isOpenType()?this._textFont._textWidth(g,this._textSize):0};var p=function(){function g(x,j){c(this,g),this.width=x,this.height=j,this.infos=[]}return f(g,[{key:"findImage",value:function(x){var j,E,M=this.width*this.height;if(M<x)throw new Error("font is too complex to render in 3D");for(var T=this.infos.length-1;0<=T;--T){var O=this.infos[T];if(O.index+x<M){E=(j=O).imageData;break}}if(!j){try{E=new ImageData(this.width,this.height)}catch{var R=document.getElementsByTagName("canvas")[0],k=!R,D=(R||((R=document.createElement("canvas")).style.display="none",document.body.appendChild(R)),R.getContext("2d"));D&&(E=D.createImageData(this.width,this.height)),k&&document.body.removeChild(R)}this.infos.push(j={index:0,imageData:E})}return D=j.index,j.index+=x,E._dirty=!0,{imageData:E,index:D}}}]),g}();function m(O,x,j,E,M){var T=O.imageData.data,O=4*O.index++;T[O++]=x,T[O++]=j,T[O++]=E,T[+O]=M}var v=Math.sqrt(3),_=function(){function g(x){c(this,g),this.font=x,this.strokeImageInfos=new p(64,64),this.colDimImageInfos=new p(64,64),this.rowDimImageInfos=new p(64,64),this.colCellImageInfos=new p(64,64),this.rowCellImageInfos=new p(64,64),this.glyphInfos={}}return f(g,[{key:"getGlyphInfo",value:function(x){var j=this.glyphInfos[x.index];if(!j){var E=x.getBoundingBox(),M=E.x1,T=E.y1,O=E.x2-M,R=E.y2-T,k=x.path.commands;if(O==0||R==0||!k.length)return this.glyphInfos[x.index]={};for(var D=[],L=[],B=[],F=8;0<=F;--F)B.push([]);for(F=8;0<=F;--F)L.push([]);var V,q,G,W,$=function(){function Ve(ze,qe,He,_e){c(this,Ve),this.p0=ze,this.c0=qe,this.c1=He,this.p1=_e}return f(Ve,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return u.default.Vector.sub(u.default.Vector.sub(this.p1,this.p0),u.default.Vector.mult(u.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ae){var qe=u.default.Vector.lerp(this.p0,this.c0,Ae),_e=u.default.Vector.lerp(this.c0,this.c1,Ae),He=u.default.Vector.lerp(qe,_e,Ae),_e=(this.c1=u.default.Vector.lerp(this.c1,this.p1,Ae),this.c0=u.default.Vector.lerp(_e,this.c1,Ae),u.default.Vector.lerp(He,this.c0,Ae)),Ae=new Ve(this.p0,qe,He,_e);return this.p0=_e,Ae}},{key:"splitInflections",value:function(){var ze=u.default.Vector.sub(this.c0,this.p0),qe=u.default.Vector.sub(u.default.Vector.sub(this.c1,this.c0),ze),He=u.default.Vector.sub(u.default.Vector.sub(u.default.Vector.sub(this.p1,this.c1),ze),u.default.Vector.mult(qe,2)),_e=[],Ae=qe.x*He.y-qe.y*He.x;return Ae!==0&&0<=(ze=(He=ze.x*He.y-ze.y*He.x)*He-4*Ae*(ze.x*qe.y-ze.y*qe.x))&&(Ae<0&&(Ae=-Ae,He=-He),ze=(-He+(qe=Math.sqrt(ze)))/(2*Ae),0<(He=(-He-qe)/(2*Ae))&&He<1&&(_e.push(this.split(He)),ze=1-(1-ze)/(1-He)),0<ze&&ze<1&&_e.push(this.split(ze))),_e.push(this),_e}}]),Ve}(),K=!0,N=!1,A=void 0;try{for(var I,z=k[Symbol.iterator]();!(K=(I=z.next()).done);K=!0){var Y=I.value,J=(Y.x-M)/O,ee=(Y.y-T)/R;if(!Ce(V,q,J,ee)){switch(Y.type){case"M":G=J,W=ee;break;case"L":Fe(V,q,J,ee);break;case"Q":var ce=(Y.x1-M)/O,pe=(Y.y1-T)/R;ve([V,J,ce],[q,ee,pe],{x:V,y:q,cx:ce,cy:pe});break;case"Z":Ce(V,q,G,W)?D.push({x:V,y:q}):(Fe(V,q,G,W),D.push({x:G,y:W}));break;case"C":for(var ie=function(ne,we,Pe,He,_e,Ae,Se,Q){var ne=new $(new u.default.Vector(ne,we),new u.default.Vector(Pe,He),new u.default.Vector(_e,Ae),new u.default.Vector(Se,Q)).splitInflections(),Z=[],se=30/v,ge=!0,we=!1,Pe=void 0;try{for(var Ne,Ue=ne[Symbol.iterator]();!(ge=(Ne=Ue.next()).done);ge=!0){for(var Ge=Ne.value,Xe=[],ot=void 0;!(.125<=(ot=se/Ge.quadError()));){var nt=Math.pow(ot,.3333333333333333),Ke=Ge.split(nt),st=Ge.split(1-nt/(1-nt));Z.push(Ke),Xe.push(Ge),Ge=st}ot<1&&Z.push(Ge.split(.5)),Z.push(Ge),Array.prototype.push.apply(Z,Xe.reverse())}}catch(rt){we=!0,Pe=rt}finally{try{ge||Ue.return==null||Ue.return()}finally{if(we)throw Pe}}return Z}(V,q,(Y.x1-M)/O,(Y.y1-T)/R,(Y.x2-M)/O,(Y.y2-T)/R,J,ee),de=0;de<ie.length;de++){var ue=ie[de].toQuadratic();ve([ue.x,ue.x1,ue.cx],[ue.y,ue.y1,ue.cy],ue)}break;default:throw new Error("unknown command type: ".concat(Y.type))}V=J,q=ee}}}catch(Ve){N=!0,A=Ve}finally{try{K||z.return==null||z.return()}finally{if(N)throw A}}for(var re=D.length,le=this.strokeImageInfos.findImage(re),me=le.index,je=0;je<re;++je){var ye=D[je];m(le,Me(ye.x),Me(ye.y),Me(ye.cx),Me(ye.cy))}(j=this.glyphInfos[x.index]={glyph:x,uGlyphRect:[E.x1,-E.y1,E.x2,-E.y2],strokeImageInfo:le,strokes:D,colInfo:$e(B,this.colDimImageInfos,this.colCellImageInfos),rowInfo:$e(L,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[j.colInfo.dimOffset,j.rowInfo.dimOffset]}return j;function ve(Ve,ze,qe){var He=D.length;function _e(Z,se,ge){for(var we=Z.length;0<we--;){var Pe=Z[we];Pe<se&&(se=Pe),ge<Pe&&(ge=Pe)}return{min:se,max:ge}}D.push(qe);for(var qe=_e(Ve,1,0),Ve=Math.max(Math.floor(9*qe.min-.5),0),Ae=Math.min(Math.ceil(9*qe.max+.5),9),Se=Ve;Se<Ae;++Se)B[Se].push(He);for(var qe=_e(ze,1,0),Ve=Math.max(Math.floor(9*qe.min-.5),0),Q=Math.min(Math.ceil(9*qe.max+.5),9),ne=Ve;ne<Q;++ne)L[ne].push(He)}function Me(Ve){return(Ve=(qe=255)*Ve)<(ze=0)?ze:qe<Ve?qe:Ve;var ze,qe}function Fe(Ve,ze,qe,He){ve([Ve,qe],[ze,He],{x:Ve,y:ze,cx:(Ve+qe)/2,cy:(ze+He)/2})}function Ce(Ve,ze,qe,He){return Math.abs(qe-Ve)<1e-5&&Math.abs(He-ze)<1e-5}function $e(Ve,ze,qe){for(var He=Ve.length,_e=ze.findImage(He),ze=_e.index,Ae=0,Se=0;Se<He;++Se)Ae+=Ve[Se].length;for(var Q=qe.findImage(Ae),ne=0;ne<He;++ne){var Z=Ve[ne],se=Z.length,ge=Q.index;m(_e,ge>>7,127&ge,se>>7,127&se);for(var we=0;we<se;++we){var Pe=Z[we]+me;m(Q,Pe>>7,127&Pe,0,0)}}return{cellImageInfo:Q,dimOffset:ze,dimImageInfo:_e}}}}]),g}();u.default.RendererGL.prototype._renderText=function(g,x,j,E,M){if(this._textFont&&typeof this._textFont!="string"){if(!(M<=E)&&this._doFill){if(this._isOpenType()){g.push();var M=this._doStroke,T=this.drawMode,O=(this._doStroke=!1,this.drawMode=b.TEXTURE,this._textFont.font),R=(R=this._textFont._fontInfo)||(this._textFont._fontInfo=new _(O)),j=this._textFont._handleAlignment(this,x,j,E),E=this._textSize/O.unitsPerEm,k=(this.translate(j.x,j.y,0),this.scale(E,E,1),this.GL),j=!this._defaultFontShader,D=this._getFontShader(),L=(D.init(),D.bindShader(),j&&(D.setUniform("uGridImageSize",[64,64]),D.setUniform("uCellsImageSize",[64,64]),D.setUniform("uStrokeImageSize",[64,64]),D.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),B=(L||((E=this._textGeom=new u.default.Geometry(1,1,function(){for(var de=0;de<=1;de++)for(var ue=0;ue<=1;ue++)this.vertices.push(new u.default.Vector(ue,de,0)),this.uvs.push(ue,de)})).computeFaces().computeNormals(),L=this.createBuffers("glyph",E)),!0),j=!1,E=void 0;try{for(var F,V=this.retainedMode.buffers.text[Symbol.iterator]();!(B=(F=V.next()).done);B=!0)F.value._prepareBuffer(L,D)}catch(de){j=!0,E=de}finally{try{B||V.return==null||V.return()}finally{if(j)throw E}}this._bindBuffer(L.indexBuffer,k.ELEMENT_ARRAY_BUFFER),D.setUniform("uMaterialColor",this.curFillColor),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var q=0,G=null,W=O.stringToGlyphs(x),$=!0,K=!1,N=void 0;try{for(var A,I=W[Symbol.iterator]();!($=(A=I.next()).done);$=!0){var z,Y,J=A.value,ee=(G&&(q+=O.getKerningValue(G,J)),R.getGlyphInfo(J));ee.uGlyphRect&&(z=ee.rowInfo,Y=ee.colInfo,D.setUniform("uSamplerStrokes",ee.strokeImageInfo.imageData),D.setUniform("uSamplerRowStrokes",z.cellImageInfo.imageData),D.setUniform("uSamplerRows",z.dimImageInfo.imageData),D.setUniform("uSamplerColStrokes",Y.cellImageInfo.imageData),D.setUniform("uSamplerCols",Y.dimImageInfo.imageData),D.setUniform("uGridOffset",ee.uGridOffset),D.setUniform("uGlyphRect",ee.uGlyphRect),D.setUniform("uGlyphOffset",q),D.bindTextures(),k.drawElements(k.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),q+=J.advanceWidth,G=J}}catch(de){K=!0,N=de}finally{try{$||I.return==null||I.return()}finally{if(K)throw N}}}finally{D.unbindShader(),this._doStroke=M,this.drawMode=T,k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),g.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return g}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":264,"../core/main":275,"./p5.RendererGL.Retained":331,"./p5.Shader":333,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}]},{},[259])(259)})})(lc);var _m=lc.exports;const xm=vm(_m);function wm(l,r,i){let t=a=>{const o=[2,2,6,2,6];class s{constructor(){}makeOrbital(c,h,f){a.drawingContext.setLineDash([]),a.line(h-20,f,h+20,f);const p=40/6;c||a.drawingContext.setLineDash([5,5]),a.line(h-p,f-20,h-p,f+20),a.line(h-p,f-20,h,f-p*3/2),a.line(h-p,f-20,h-2*p,f-p*3/2),a.line(h+p,f-20,h+p,f+20),a.line(h+p,f+20,h,f+p*3/2),a.line(h+p,f+20,h+2*p,f+p*3/2)}makeLevel(c,h,f,p){a.text(`${c} Energy: `,f-100,p+5);const m=Number(c.slice(2));if(o[h]===2)this.makeOrbital(m===o[h],f+50,p);else for(let v=0;v<o[h]/2;v++)this.makeOrbital(m===o[h],f+10*(v*5),p);m!==o[h]&&a.text(`occupied by ${m}/${o[h]} of an electron`,f-30,p-30)}makeAxis(c,h){const f=[90,h];a.line(f[0],f[1],f[0],f[1]-240),a.line(f[0]-6.666666666666667,f[1]-10-220,f[0],f[1]-20-220),a.line(f[0]+6.666666666666667,f[1]-10-220,f[0],f[1]-20-220),a.text("Energy",f[0]-60,f[1]-120),a.text("Not to scale",f[0]-60,f[1]-20-230)}}const u=375,b=1200;a.setup=()=>{a.createCanvas(b,u),a.noLoop()},a.draw=()=>{let y=new s,c=l.split(" ");a.textSize(13.333333333333334);let h=200,f=u-20;y.makeAxis(h,f);for(let m=0;m<c.length;m++)y.makeLevel(c[m],m,h,f),f=f-50;let p=0;for(let m=0;m<r.length;m++){const v=r[m];h=200,f=u-20;for(let _=0;_<c.length;_++)a.text(`${v[_]}`,p+h+200,f+5),f=f-50;a.text(i[m],p+h+200,f-50),p+=200}}};const d=document.getElementById("eLevelsID");d.replaceChildren(),new xm(t,d)}function ao(l,r,i=""){const t=r.t_i,d=r.v_i,a=r.v_ij,n=(i||l)+"TvTable",o=(i||l)+"VijTable",s=document.getElementById(n);s.replaceChildren();const u=document.getElementById(o);u.replaceChildren();const b=document.createElement("caption");b.textContent=l,s.appendChild(b);const y=document.createElement("caption");y.textContent=l,u.appendChild(y);for(let f=0;f<=t.length;f++){let p=document.createElement("tr");for(let m=0;m<=2;m++){const v=document.createElement("td");if(m===0&&f===0)p.appendChild(v);else if(f===0){const _=document.createElement("th");_.textContent=m===1?"t(i)":"v(en)",p.appendChild(_)}else if(m===0){const _=document.createElement("th");_.textContent=io[f-1],p.appendChild(_)}else m===1?(v.textContent=t[f-1].toFixed(3).toString(),p.appendChild(v)):(v.textContent=d[f-1].toFixed(3).toString(),p.appendChild(v))}s.appendChild(p)}for(let f=0;f<=a.length;f++){let p=document.createElement("tr");for(let m=0;m<=a.length;m++){let v=document.createElement("td"),_=document.createElement("th");m===0&&f===0?p.appendChild(v):f===0?(_.textContent=io[m-1],p.appendChild(_)):m===0?(_.textContent=io[f-1],p.appendChild(_)):(v.textContent=a[f-1][m-1].toFixed(3).toString(),p.appendChild(v))}u.appendChild(p)}const c=(i||l)+"TotalEnergy",h=document.getElementById(c);h.textContent=Rs(r.totalEnergies[0],mr.get())}function jm(){Br.get()[0]!==void 0&&(ao("dynamic23",Br.get()[0]),ao("faussurier",Br.get()[1]),ao(gn.get(),Br.get()[2],"selectable"))}function Sm(l){if(Ot.get().selectedElementInfo===null){document.getElementById("eLevelsID").replaceChildren();return}const r=Ot.get().selectedElementInfo.eConfig,i=l.map(t=>nm(t.totalEnergies).slice(1));wm(r,i,["dynamic23","faussurier",gn.get()])}Br.subscribe(l=>{Sm(l),jm()});Ot.subscribe(l=>{const r=l.selectedElementInfo?.number,i=document.querySelectorAll(".grid-wrapper");let t=!1;i.forEach(a=>{a.id===`integrals-table-${r}`?(a.style.display="grid",t=!0):a.style.display="none"});const d=document.getElementById("no-integrals-tables-to-show");t?d.style.display="none":(d.style.display="block",r?r>10&&(d.textContent="No Integrals information available for elements above Ne."):d.textContent="Select an element to see this info.")});Ot.listen(()=>Tm());function Mm(){let l="";for(const r of Ot.get().selectedElemOrbitals)l+=`${r.level}${r.sOrP}<sup>${r.numElectrons}</sup> `;return l}function Tm(){const l=Ot.get().selectedElementInfo;if(!l)return;const r=document.getElementsByClassName("detailsElemBox"),i=Ot.get().selectedHTMLElement;for(let t of r){t.className="",t.classList.add("detailsElemBox","showcase",i.classList[2]);const d=t.querySelector(".aNumber"),a=t.querySelector(".aSymbol"),n=t.querySelector(".aName"),o=t.querySelector(".aMass"),s=t.querySelector(".aEconfig");d.textContent=String(l.number),a.textContent=l.symbol,n.textContent=l.name,o.textContent=String(l.aMass),s.innerHTML=Mm()}}
